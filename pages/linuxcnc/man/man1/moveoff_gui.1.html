<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Nov 24 19:23:36 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>moveoff_gui</title>

 <link rel="stylesheet" href="../../asciidoc.css" type="text/css" /> <link rel="stylesheet" href="../../linuxcnc.css" type="text/css" />
</head>
<body>

<h1 align="center">moveoff_gui</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OTHER OPTIONS">OTHER OPTIONS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">moveoff_gui - a
gui for the moveoff component</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>moveoff_gui
[--help | -- -h | -?]</b></p>

<p style="margin-left:11%; margin-top: 1em"><b>moveoff_gui
[options</b>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Moveoff_gui is
a sample graphical user interface (GUI) for controlling a
Hal moveoff component to implement Hal-only offsets. See the
manpage (man moveoff) for <b>IMPORTANT limitations and
warnings</b>.</p>

<p style="margin-left:11%; margin-top: 1em">Supported
configurations must use a known kinematics module with
<b>KINEMATICS_TYPE = KINEMATICS_IDENTITY</b>. The modules
currently supported are: <b><br>
trivkins</b></p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><b>--help | -?
| -- -h</b></p>

<p style="margin-left:22%;">Show options and exit</p>

<p style="margin-left:11%;"><b>-mode onpause</b> |
always</p>

<p style="margin-left:22%;">onpause: popup gui to control
offsets when program paused <br>
always: show gui to control offsets always <br>
Default: <b>onpause</b></p>

<p style="margin-left:11%;"><b>-axes</b> axisnames</p>

<p style="margin-left:22%;">Letters from set of {x y z a b
c u v w} <br>
Examples: -axes x, -axes xyz, -axes xz (no spaces) <br>
Default: <b>xyz</b></p>

<p style="margin-left:11%;"><b>-inc</b> incrementvalue</p>

<p style="margin-left:22%;">Specify one increment value per
-inc (up to 4) <br>
Defaults: <b>0.001 0.01 0.10 1.0</b></p>

<p style="margin-left:11%;"><b>-size</b> integer</p>

<p style="margin-left:22%;">Overall gui size is based on
font size, typically 8 - 20 <br>
Default: <b>14</b></p>

<p style="margin-left:11%;"><b>-loc</b> center | +x+y</p>

<p style="margin-left:22%;">Initial location on screen <br>
Examples: -loc center, -loc +20+100 <br>
Default: <b>center</b></p>

<p style="margin-left:11%;"><b>-autoresume</b></p>

<p style="margin-left:22%;">Resume program when move-enable
deasserted <br>
Default: notused</p>

<p style="margin-left:11%;"><b>-delay</b> delay secs</p>

<p style="margin-left:22%;">Delay for autoresume (allow
time to restore spindle speed etc) Default: <b>5</b></p>

<h2>OTHER OPTIONS
<a name="OTHER OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">These options
are available for special cases: <b><br>
-noentry</b></p>

<p style="margin-left:22%;">Disables creation of entry
widgets <br>
Default: notused</p>

<p style="margin-left:11%;"><b>-no_resume_inhibit</b></p>

<p style="margin-left:22%;">Disable use of resume-inhibit
to controlling gui <br>
Default: notused</p>


<p style="margin-left:11%;"><b>-no_pause_requirement</b></p>

<p style="margin-left:22%;">Disable check for
halui.program.is-paused <br>
Default: notused</p>


<p style="margin-left:11%;"><b>-no_cancel_autoresume</b></p>

<p style="margin-left:22%;">Useful for retracting offsets
with simple external controls <br>
Default: notused</p>

<p style="margin-left:11%;"><b>-no_display</b></p>

<p style="margin-left:22%;">Use when both external controls
and and external displays are in use <br>
Default: notused</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">LinuxCNC must
be running.</p>

<p style="margin-left:11%; margin-top: 1em">Halui must be
loaded, typical ini file setting: <b><br>
[HAL]HALUI = halui</b>.</p>

<p style="margin-left:11%; margin-top: 1em">The moveoff
component must be loaded with the name &rsquo;mv&rsquo; as:
<b><br>
loadrt moveoff names=mv personality=number_of_axes</b></p>

<p style="margin-left:11%; margin-top: 1em">If the pin
mv.motion-enable is <b>not</b> connected when moveoff_gui is
started, <b>controls will be provided</b> to enable offsets
and set offset values. If the pin <b>is</b> connected,
<b>only a display</b> of offsets is shown and control must
be made by <b>external</b> Hal connections.</p>

<p style="margin-left:11%; margin-top: 1em">If a pin named
*.resume-inhibit exists and is not connected, it will be set
while offsets are applied. This pin may be provided by the
controlling linuxcnc gui in use. Use of the pin may be
disabled with the option -no_resume_inhibit.</p>

<p style="margin-left:11%; margin-top: 1em">The -autoresume
option uses halui.program.resume to automatically resume
program execution when the move-enable pin is deactivated
and all offsets are removed. The resume pin is not activated
until an additional interval (-delay delay_secs) elapses.
This delay interval may be useful for restarting related
equipment (a spindle motor for example) While timing the
delay, a popup is offered to cancel the automatic program
resumption.</p>

<h2>USAGE
<a name="USAGE"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The ini file in
the configuration directory must provide HALFILEs to loadrt
the moveoff component, connect its pins, and addf its read
and write functions in the proper order. These steps can be
done at runtime using an existing configuration ini file and
specifying a system library HALFILE
<b>hookup_moveoff.tcl</b> as illustrated below:</p>

<p style="margin-left:11%; margin-top: 1em"><b>[HAL]</b>
<br>
HALUI = halui <br>
HALFILE = user_halfile_1 <br>
etc ... <br>
HALFILE = user_halfile_n <b><br>
HALFILE = LIB:hookup_moveoff.tcl</b></p>

<p style="margin-left:11%; margin-top: 1em">The
<b>hookup_moveoff.tcl</b> halfile will use ini file settings
for the moveoff component control pins:</p>


<p style="margin-left:11%; margin-top: 1em"><b>[OFFSET]</b>
<br>
EPSILON = <br>
WAYPOINT_SAMPLE_SECS = <br>
WAYPOINT_THRESHOLD = <br>
BACKTRACK_ENABLE =</p>

<p style="margin-left:11%; margin-top: 1em">The
<b>hookup_moveoff.tcl</b> will use ini file settings for the
moveoff per-axis limits:</p>


<p style="margin-left:11%; margin-top: 1em"><b>[AXIS_m]</b>
<br>
OFFSET_MAX_VELOCITY = <br>
OFFSET_MAX_ACCELERATION = <br>
OFFSET_MAX_LIMIT = <br>
OFFSET_MIN_LIMIT =</p>

<p style="margin-left:11%; margin-top: 1em">The moveoff_gui
program should be specified in the APPLICATIONS stanza of
the ini file, for example:</p>


<p style="margin-left:11%; margin-top: 1em"><b>[APPLICATIONS]</b>
<br>
DELAY = delay_in_secs_to_allow_hal_connections <b><br>
APP = moveoff_gui -option1 -option2 ...</b></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">Simulation
configurations that demonstrate the moveoff_gui and the
moveoff component are located in:</p>


<p style="margin-left:11%; margin-top: 1em">configs/sim/axis/moveoff
(axis-ui) <br>
configs/sim/touchy/ngcgui (touchy-ui)</p>

<p style="margin-left:11%; margin-top: 1em">man page for
the moveoff component:<b>moveoff</b>(9)</p>
<hr>
</body>
</html>
