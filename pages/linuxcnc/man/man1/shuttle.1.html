<!-- Creator     : groff version 1.22.4 -->
<!-- CreationDate: Thu Nov 24 19:23:36 2022 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SHUTTLE</title>

 <link rel="stylesheet" href="../../asciidoc.css" type="text/css" /> <link rel="stylesheet" href="../../linuxcnc.css" type="text/css" />
</head>
<body>

<h1 align="center">SHUTTLE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#UDEV">UDEV</a><br>
<a href="#A warning about the Jog Wheel">A warning about the Jog Wheel</a><br>
<a href="#Pins">Pins</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">shuttle -
control HAL pins with the ShuttleXpress, ShuttlePRO, and
ShuttlePRO2 device made by Contour Design</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em"><i>loadusr</i>
<b>shuttle</b> <i>[DEVICE ...]</i></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">shuttle is a
non-realtime HAL component that interfaces Contour
Design&rsquo;s ShuttleXpress, ShuttlePRO, and ShuttlePRO2
devices with LinuxCNC&rsquo;s HAL.</p>

<p style="margin-left:11%; margin-top: 1em">If the driver
is started without command-line arguments, it will probe all
/dev/hidraw* device files for Shuttle devices, and use all
devices found. If it is started with command-line arguments,
it will only probe the devices specified.</p>

<p style="margin-left:11%; margin-top: 1em">The
ShuttleXpress has five momentary buttons, a 10
counts/revolution jog wheel with detents, and a 15-position
spring-loaded outer wheel that returns to center when
released.</p>

<p style="margin-left:11%; margin-top: 1em">The ShuttlePRO
has 13 momentary buttons, a 10 counts/revolution jog wheel
with detents, and a 15-position spring-loaded outer wheel
that returns to center when released.</p>

<p style="margin-left:11%; margin-top: 1em">The ShuttlePRO2
has 15 momentary buttons, a 10 counts/revolution jog wheel
with detents, and a 15-position spring-loaded outer wheel
that returns to center when released.</p>

<h2>UDEV
<a name="UDEV"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The shuttle
driver needs read permission to the Shuttle devices&rsquo;
/dev/hidraw* device files. This can be accomplished by
adding a file <b>/etc/udev/rules.d/99-shuttle.rules</b>,
with the following contents:</p>


<p style="margin-left:11%; margin-top: 1em">SUBSYSTEM==&quot;hidraw&quot;,
ATTRS{idVendor}==&quot;0b33&quot;,
ATTRS{idProduct}==&quot;0020&quot;,
MODE=&quot;0444&quot;</p>


<p style="margin-left:11%; margin-top: 1em">SUBSYSTEM==&quot;hidraw&quot;,
ATTRS{idVendor}==&quot;05f3&quot;,
ATTRS{idProduct}==&quot;0240&quot;,
MODE=&quot;0444&quot;</p>


<p style="margin-left:11%; margin-top: 1em">SUBSYSTEM==&quot;hidraw&quot;,
ATTRS{idVendor}==&quot;0b33&quot;,
ATTRS{idProduct}==&quot;0030&quot;,
MODE=&quot;0444&quot;</p>

<p style="margin-left:11%; margin-top: 1em">The LinuxCNC
Debian package installs an appropriate udev file
automatically, but if you are building LinuxCNC from source
and are not using the Debian packaging, you&rsquo;ll need to
install this file by hand. If you install the file by hand
you&rsquo;ll need to tell udev to reload its rules files by
running &rsquo;udevadm control --reload-rules&rsquo;.</p>

<h2>A warning about the Jog Wheel
<a name="A warning about the Jog Wheel"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The Shuttle
devices have an internal 8-bit counter for the current
jog-wheel position. The shuttle driver can not know this
value until the Shuttle device sends its first event. When
the first event comes into the driver, the driver uses the
device&rsquo;s reported jog-wheel position to initialize
counts to 0.</p>

<p style="margin-left:11%; margin-top: 1em">This means that
if the first event is generated by a jog-wheel move, that
first move will be lost.</p>

<p style="margin-left:11%; margin-top: 1em">Any user
interaction with the Shuttle device will generate an event,
informing the driver of the jog-wheel position. So if you
(for example) push one of the buttons at startup, the
jog-wheel will work fine and notice the first click.</p>

<h2>Pins
<a name="Pins"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">All HAL pin
names are prefixed with &rsquo;shuttle&rsquo; followed by
the index of the device (the order in which the driver found
them), for example &quot;shuttle.0&quot; or
&quot;shuttle.2&quot;. <br>
(bit out) <i>(prefix).button-(number)</i> <br>
(bit out) <i>(prefix).button-(number)-not</i></p>

<p style="margin-left:22%; margin-top: 1em">The momentary
buttons. &quot;(number)&quot; identifies which button
corresponds <br>
to the HAL pin. The &quot;button-(number)&quot; pins are
True when the button <br>
is pushed, the &quot;button-(number)-not&quot; pins are True
when the button <br>
is not pushed.</p>

<p style="margin-left:11%;">(s32 out)
<i>(prefix).counts</i></p>

<p style="margin-left:22%; margin-top: 1em">Accumulated
counts from the jog wheel (the inner wheel).</p>

<p style="margin-left:11%;">(s32 out)
<i>(prefix).spring-wheel-s32</i></p>

<p style="margin-left:22%; margin-top: 1em">The current
deflection of the spring-wheel (the outer wheel). <br>
It&rsquo;s 0 at rest, and ranges from -7 at the
counter-clockwise <br>
extreme to +7 at the clockwise extreme.</p>

<p style="margin-left:11%;">(float out)
<i>(prefix).spring-wheel-f</i></p>

<p style="margin-left:22%; margin-top: 1em">The current
deflection of the spring-wheel (the outer wheel). <br>
It&rsquo;s 0.0 at rest, -1.0 at the counter-clockwise
extreme, and +1.0 at <br>
the clockwise extreme. (The Shuttle devices report the
spring-wheel <br>
position as an integer from -7 to +7, so this pin reports
only 15 <br>
discrete values in its range.)</p>
<hr>
</body>
</html>
