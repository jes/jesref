<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="es">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.10" />
<title>Remap Extendiendo el código G</title>
<link rel="stylesheet" href="..//asciidoc.css" type="text/css" />


<link rel="stylesheet" href="..//linuxcnc.css" type="text/css" />
<script type="text/javascript" src="..//asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>Remap Extendiendo el código G</h1>
<div id="toc">
  <div id="toctitle">Tabla de contenidos</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="cha:remap">1. Introducción: Extensión del intérprete RS274NGC mediante remapeado de códigos</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_definición_remapeado_de_códigos">1.1. Definición: Remapeado de Códigos</h3>
<div class="paragraph"><p>Por <em>Remapeado de Códigos</em> nos referimos a uno de los siguientes casos:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Definir la semántica de un código M o G nuevo, es decir, actualmente sin asignar.
</p>
</li>
<li>
<p>
Redefinir la semántica de un conjunto actualmente limitado de códigos existentes.
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="_por_qué_querría_extender_el_intérprete_rs274ngc">1.2. ¿Por qué querría extender el intérprete RS274NGC?</h3>
<div class="paragraph"><p>El conjunto de códigos (M, G, T, S, F) entendido actualmente por el intérprete RS274NGC
es fijo y no puede extenderse por opciones de configuración.</p></div>
<div class="paragraph"><p>En particular, algunos de estos códigos implementan una secuencia fija de pasos
para ser ejecutados. Mientras que algunos de estos, como M6, pueden ser moderadamente
configurados activando o saltando algunos de estos pasos a través de opciones del archivo .ini,
en general el comportamiento es bastante rígido. Si usted
está conforme con esta situación, entonces puede ignorar esta sección del manual.</p></div>
<div class="paragraph"><p>En muchos casos, esto significa que el soporte para configuraciones o máquinas <em>mas especiales</em>
son engorrosas o imposibles, o requiere recurrir a cambios a nivel del lenguaje <em>C/C+\+</em>. Esto último
es impopular por buenas razones: el cambio de las características internas requiere un análisis profundo,
comprensión de los aspectos internos del intérprete, y además trae su propio
conjunto de problemas de soporte. Si bien es posible que ciertos parches
podrían encontrar acomodo en la distribución principal de LinuxCNC, el resultado de
este enfoque es una mezcolanza de soluciones de casos especiales.</p></div>
<div class="paragraph"><p>Un buen ejemplo de esta deficiencia es el soporte de cambio de herramienta en LinuxCNC:
mientras que los cambiadores de herramientas random están bien soportados, es casi imposible
definir razonablemente una configuración para una máquina de cambio de herramienta manual
con, por ejemplo, un desplazamiento automático a un interruptor de longitud de herramienta que sea
visitado después del cambio, y que los offsets se establezcan en consecuencia. Además, aun
existiendo un parche para un cambiador de herramientas rack muy específico, no se ha encontrado
la forma de regresar al código base principal.</p></div>
<div class="paragraph"><p>Sin embargo, muchas de estas cosas pueden solucionarse usando procedimientos O-word
en lugar de un código incorporado; siempre que
el código incorporado sea insuficiente, llame al procedimiento O-word
en su lugar. Si bien es posible, es engorroso; requiere edición de código fuente
de programas NGC, reemplazando todas las llamadas al código deficiente por una llamada a
un procedimiento O-words.</p></div>
<div class="paragraph"><p>En su forma más simple, un código reasignado no es mucho más que una
llamada espontánea a un procedimiento O-word. Esto sucede en el transfondo.
El procedimiento es visible en el nivel de configuración, pero no en el nivel de
programa NGC.</p></div>
<div class="paragraph"><p>En general, el comportamiento de un código reasignado se puede definir de las siguientes maneras:</p></div>
<div class="ulist"><ul>
<li>
<p>
usted define una subrutina O-word que implementa el comportamiento deseado.
</p>
</li>
<li>
<p>
alternativamente, puede emplear una función Python que amplíe el comportamiento del intérprete.
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Como unir las cosas</div><p>Los códigos M y G, y las llamadas de subrutinas O-words tienen una sintaxis bastante diferente.</p></div>
<div class="paragraph"><p>Los procedimientos O-word, por ejemplo, toman parámetros posicionales
con una sintaxis específica tal como:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">o&lt;test&gt; call</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span><span style="color: #993399">1.234</span><span style="font-weight: bold"><span style="color: #000000">]</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span><span style="color: #993399">4.65</span><span style="font-weight: bold"><span style="color: #000000">]</span></span></tt></pre></div></div>
<div class="paragraph"><p>mientras que los códigos M o G normalmente toman parámetros de <em>palabra</em>, requerida u opcional.
Por ejemplo, G76 (roscado) requiere las palabras P, Z, I, J y K,
y opcionalmente toma las palabras R, Q, H, E y L.</p></div>
<div class="paragraph"><p>Así que no es suficiente decir <em>siempre que encuentre el código X, por favor
llamar al procedimiento Y</em>; se necesita al menos alguna comprobación y conversión de parámetros.
Esto requiere un cierto <em>código de union</em> entre el nuevo código
y su correspondiente procedimiento NGC que se debera ejecutar antes de pasar el control
al procedimiento NGC.</p></div>
<div class="paragraph"><p>Este código de union es imposible de escribir como un procedimiento O-word
ya que el lenguaje RS274NGC carece de capacidades introspectivas y
acceso a las estructuras internas de datos del intérprete para lograr el
efecto requerido. De nuevo, hacer el código de union en <em>C/C+\+</em> sería una
solución inflexible y por lo tanto insatisfactoria.</p></div>
<div class="paragraph"><div class="title">Como Encaja Python Embebido</div><p>Para hacer solucionable una situación compleja y que una situación simple sea facil, el
problema del codigo de union se trata de la siguiente manera:</p></div>
<div class="ulist"><ul>
<li>
<p>
para situaciones simples, un procedimiento de union incorporado (<code>argspec</code>) cubre la mayoría
de los requisitos comunes de paso de parámetros.
</p>
</li>
<li>
<p>
para el remapeado de T, M6, M61, S, F hay un algo de codigo de union Python estándar que debería
cubrir la mayoría de las situaciones, ver <a href="remap_es.html#remap:standard-glue">union estándar</a>
</p>
</li>
<li>
<p>
para situaciones más complejas, puede escribir su propio codigo de union Python para implementar
un nuevo comportamiento
</p>
</li>
</ul></div>
<div class="paragraph"><p>Las funciones Python embebidas en el intérprete comenzaron como un codigo de union,
pero resultaron muy útiles mas alla de eso. Los usuarios familiarizados con
Python probablemente encontrará más fácil escribir códigos reasignados que unir
procedimientos O-word, etc, en Python puro, sin recurrir en absoluto al
algo engorroso lenguaje RS274NGC.</p></div>
<div class="paragraph"><div class="title">Unas Palabras sobre Python Embebido</div><p>Muchas personas están familiarizadas con <em>extender</em> el intérprete de Python mediante
módulos <em>C/C++</em>, y esto se usa mucho en LinuxCNC para acceder a Task e
interioridades de HAL y del intérprete mediante scripts de Python. <em>Extender
Python</em> básicamente significa que su script de Python se ejecuta <em>de la forma estandar</em>,
y puede acceder a código que no es Python importando y usando
módulos de extensión escritos en <em>C/C+\+</em>. Ejemplos de esto son los módulos de LinuxCNC
<code>hal</code>,` gcode` y <code>emc</code>.</p></div>
<div class="paragraph"><p>Python Embebido es un poco diferente y menos conocido; el
programa principal está escrito en <em>C/C++</em> y puede usar Python como una
subrutina. Este es un poderoso mecanismo de extensión y la base para las
<em>extensiones de scripts</em> encontradas en muchos programas conocidos.
El código Python Embebido puede acceder a las variables <em>C/C+\+</em> y
funciona a través de un método de extensión de módulo similar.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remap:getting-started">2. Comenzando</h2>
<div class="sectionbody">
<div class="paragraph"><p>La definición de un código implica los siguientes pasos:</p></div>
<div class="ulist"><ul>
<li>
<p>
Elegir un código - usar un código no asignado, o redefinir un código existente
</p>
</li>
<li>
<p>
Decidir cómo se manejan los parámetros.
</p>
</li>
<li>
<p>
Decidir si se manipulan los resultados y cómo.
</p>
</li>
<li>
<p>
Decidir sobre la secuencia de ejecución.
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_escogiendo_un_código">2.1. Escogiendo un código</h3>
<div class="paragraph"><p>Tenga en cuenta que actualmente solo se pueden redefinir algunos códigos existentes,
mientras que hay muchos códigos <em>libres</em> que pueden estar disponibles para
remapeado. Al desarrollar un código existente redefinido, podría ser
una buena idea comenzar con un código G o M sin asignar, de modo que se pueda emplear tanto
un comportamiento existente como uno nuevo. Cuando haya terminado, redefina el
código existente para utilizar su configuración de remapeado.</p></div>
<div class="ulist"><ul>
<li>
<p>
el conjunto actual de códigos M no utilizados, disponibles para definición de usuario, se puede encontrar
<a href="remap_es.html#remap:unallocated-m-codes">aquí</a>,
</p>
</li>
<li>
<p>
Se enumeran los códigos G no asignados <a href="remap_es.html#remap:unallocated-g-codes">aquí</a>.
</p>
</li>
<li>
<p>
Los códigos existentes que pueden ser reasignados están listados <a href="remap_es.html#remap:remappable-codes">aquí</a>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="remap:parameter-handling">2.2. Manejo de parámetros</h3>
<div class="paragraph"><p>Asumamos que el nuevo código será definido por un procedimiento NGC y necesita
algunos parámetros, unos necesarios y otros opcionales.
Tenemos las siguientes opciones para alimentar al procedimiento con sus valores:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
extraer palabras del bloque actual y pasarlas al
  procedimiento como parámetros (como <code>X22.34</code> o <code>P47</code>)

</p>
</li>
<li>
<p>
refiriéndose a las <a href="../gcode/overview_es.html#gcode:ini-hal-params">variables del archivo ini</a>
</p>
</li>
<li>
<p>
refiriéndose a variables globales (como <code>#2200 = 47.11</code> o
   <code>#&lt;_global_param&gt; = 315.2</code>
</p>
</li>
</ol></div>
<div class="paragraph"><p>El primer método se prefiere para parámetros de naturaleza dinámica, como
posiciones. Es necesario definir qué palabras en el bloque actual tienen algun
significado para su nuevo código, y especificar cómo se pasan al
procedimiento NGC. Una forma fácil es usar la
declaración argspec. Un prologo personalizado podría
proporcionar mejores mensajes de error.</p></div>
<div class="paragraph"><p>Para referirse a la información de configuración de su máquina, es más útil usar las variables de archivo ini;
por ejemplo, una posición fija como la
posición del sensor de longitud de la herramienta. La ventaja de este método es que
los parámetros son fijos en su configuración, independientemente del archivo NGC en ejecucion.</p></div>
<div class="paragraph"><p>Siempre es posible hacer referencia a variables globales, pero son fáciles de
pasar por alto.</p></div>
<div class="paragraph"><p>Tenga en cuenta que hay una cantidad limitada de palabras que pueden usarse como
parámetros, por lo que podría tener que recurrir al segundo y tercer
método si se necesitan muchos parámetros.</p></div>
</div>
<div class="sect2">
<h3 id="remap:handling-results">2.3. Manejo de resultados</h3>
<div class="paragraph"><p>Su nuevo código podría tener éxito o fallar, por ejemplo, si se pasa una combinación de parámetros inválida.
O puede elegir "ejecutar" el procedimiento y descartar los resultados, en cuyo caso no hay mucho trabajo por hacer.</p></div>
<div class="paragraph"><p>Los manejadores de epilogo ayudan en el procesamiento de los resultados de los procedimientos de remapeado; consulte
la sección de referencia.</p></div>
</div>
<div class="sect2">
<h3 id="remap:execution-sequencing">2.4. Secuenciación de ejecución</h3>
<div class="paragraph"><p>Las palabras de código G ejecutables se clasifican en <a href="../gcode/overview_es.html#gcode:modal-groups">grupos modales</a>,
que también definen su comportamiento relativo de ejecución.</p></div>
<div class="paragraph"><p>Si un bloque de código G contiene varias palabras ejecutables en una línea, estas
palabras se ejecutan en un <a href="../gcode/overview_es.html#gcode:order-of-execution">orden de ejecución</a>, no en el orden en que aparecen en bloque.</p></div>
<div class="paragraph"><p>Cuando define un nuevo código ejecutable, el intérprete todavía no
saber dónde encaja su código en este esquema. Por lo tanto, debe elegir un grupo modal apropiado para su código.</p></div>
</div>
<div class="sect2">
<h3 id="_un_ejemplo_mínimo_de_código_remapeado">2.5. Un ejemplo mínimo de código remapeado</h3>
<div class="paragraph"><p>Para darle una idea de cómo encajan las piezas, exploremos una
definición de código bastante minimalista pero completa. Elegimos un
código M no asignado y agregamos la siguiente opción al archivo ini:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">[RS274NGC]</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">REMAP</span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900">M400  modalgroup=10 argspec=Pq ngc=myprocedure</span></tt></pre></div></div>
<div class="paragraph"><p>Esto significa, en pocas palabras:</p></div>
<div class="ulist"><ul>
<li>
<p>
El código <code>M400</code> toma un parámetro requerido <code>P</code> y otro opcional
  <code>Q</code>. Otras palabras en el bloque actual son ignoradas con
  respecto al código <code>M400</code>. Si la palabra <code>P</code> no está presente,
  la ejecución falla con un error.
</p>
</li>
<li>
<p>
cuando se encuentra un código <code>M400</code>, se ejecuta <code>myprocedure.ngc</code> junto con
otros códigos M del <a href="../gcode/overview_es.html#gcode:modal-groups">grupo modal</a> 10 según el
<a href="../gcode/overview_es.html#gcode:order-of-execution">orden de ejecución</a>.
</p>
</li>
<li>
<p>
el valor de <code>P</code> y <code>Q</code> están disponibles en el procedimiento como parámetros nombrados locales.
   Pueden denominarse <code>#&lt;P&gt;</code> y <code>#&lt;Q&gt;</code>.
   El procedimiento puede probar si la palabra <code>Q</code> estaba presente con
   la función incorporada <a href="../gcode/overview_es.html#gcode:functions"><code>EXISTS</code></a>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Se espera que el archivo <code>myprocedure.ngc</code> exista en el directorio <code>[DISPLAY]NC_FILES</code> o
en <code>[RS274NGC]SUBROUTINE_PATH</code> .</p></div>
<div class="paragraph"><p>Una discusión detallada de los parámetros de REMAP se encuentra en la sección de referencia
que sigue.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuración_del_remapeo">3. Configuración del remapeo</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_la_sentencia_remap">3.1. La sentencia REMAP</h3>
<div class="paragraph"><p>Para reasignar un código, defínalo usando la opción <code>REMAP</code> en la sección
<code>RS274NG</code> de su archivo ini. Use una línea <code>REMAP</code> por cada código reasignado.</p></div>
<div class="paragraph"><p>La sintaxis de <code>REMAP</code> es:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>REMAP=</code><em>&lt;code&gt;</em> <em>&lt;options&gt;</em>
</dt>
<dd>
<p>
    donde <em>&lt;code&gt;</em> puede ser <code>T</code>,` M6`, <code>M61</code>,` S` o <code>F</code> (códigos existentes) o cualquiera de los
     <a href="remap_es.html#remap:unallocated-m-codes">códigos M</a> o <a href="remap_es.html#remap:unallocated-g-codes">códigos G</a> sin asignar.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Es un error omitir el parámetro <em>&lt;code&gt;</em>.</p></div>
<div class="paragraph"><p>Las opciones de la instrucción REMAP están separadas por espacios en blanco. Las opciones son
pares de palabra clave-valor y actualmente son:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>modalgroup=</code><em>&lt;modal group&gt;</em>
</dt>
<dd>
<div class="dlist"><dl>
<dt class="hdlist1">
Códigos G
</dt>
<dd>
<p>
el único grupo modal actualmente soportado es 1, que
        también es el valor predeterminado si no se da ningún grupo. Grupo 1 significa
        <em>ejecutar junto con otros códigos G</em>.
</p>
</dd>
<dt class="hdlist1">
Códigos M
</dt>
<dd>
<p>
Los grupos modales soportados actualmente son:
        5,6,7,8,9,10. Si no se da ningún grupo modal, el valor predeterminado es 10
        (<em>ejecutar después de todas las otras palabras en el bloque</em>).
</p>
<div class="literalblock">
<div class="content">
<pre><code>T, S, F; Para estos el grupo modal es fijo y cualquier
opción `modalgroup=` se ignora.</code></pre>
</div></div>
</dd>
</dl></div>
</dd>
<dt class="hdlist1">
<code>argspec=</code><em>&lt;argspec&gt;</em>
</dt>
<dd>
<p>
  Ver descripción de opciones de parámetros argspec. Opcional.
</p>
</dd>
<dt class="hdlist1">
<code>ngc=</code><em>&lt;nombre_báse_ngc&gt;</em>
</dt>
<dd>
<p>
   Nombre base de un nombre de archivo de subrutina O-word. No especifique la
   extensión .ngc. Se busca en los directorios especificados en
   el directorio dado en <code>[DISPLAY]PROGRAM_PREFIX</code>, y luego en
   <code>[RS274NGC]SUBROUTINE_PATH</code>. Es mutuamente excluyente con
   <code>python=</code>. Es un error omitir tanto <code>ngc=</code> como <code>python=</code>.
</p>
</dd>
<dt class="hdlist1">
<code>python=</code><em>&lt;nombre de la función de Python&gt;</em>
</dt>
<dd>
<p>
  En lugar de llamar a un procedimiento ngc O-word, llame a una función Python.
  Se espera que la función se defina en el módulo
  <code>module_basename.oword</code>. Mutuamente excluyente con <code>ngc=</code>.
</p>
</dd>
<dt class="hdlist1">
<code>prolog=</code><em>&lt;nombre de la función de Python&gt;</em>
</dt>
<dd>
<p>
  Antes de ejecutar un procedimiento ngc, llame a esta función Python.
  Se espera que la función se defina en el módulo <code>module_basename.remap</code>. Opcional.
</p>
</dd>
<dt class="hdlist1">
<code>epilog=</code><em>&lt;nombre de la función de Python&gt;</em>
</dt>
<dd>
<p>
  Después de ejecutar un procedimiento ngc, llame a esta función Python.
  Se espera que la función se defina en el módulo <code>module_basename.remap</code>. Opcional.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Las opciones <code>python</code>,` prolog` y <code>epilog</code> requieren que el plugin de intérprete Python
sea <a href="remap_es.html#remap:embedded-python">configurado</a>, y
las funciones apropiadas de Python se definirán allí para que puedan ser
referidas con estas opciones.</p></div>
<div class="paragraph"><p>La sintaxis para definir un nuevo código y redefinir un código existente es
idéntica.</p></div>
</div>
<div class="sect2">
<h3 id="_combinaciones_útiles_de_opciones_de_remap">3.2. Combinaciones útiles de opciones de REMAP</h3>
<div class="paragraph"><p>Tenga en cuenta que si bien son posibles muchas combinaciones de opciones argspec, no
todas ellas tienen sentido. Las siguientes combinaciones son expresiones útiles:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>argspec=</code><em>&lt;words&gt;</em> <code>ngc=</code><em>&lt;procname&gt;</em> <code>modalgroup=</code><em>&lt;group&gt;</em>
</dt>
<dd>
<p>
    Forma recomendada de llamar a un procedimiento NGC con conversión estándar de parámetro argspec.
    Se utiliza si argspec es suficientemente bueno para nuestro proposito. Tenga en cuenta que no es
    suficientemente bueno para volver a asignar los códigos de cambio de herramientas Tx y M6/M61.
</p>
</dd>
<dt class="hdlist1">
<code>prolog=</code><em>&lt;pythonprolog&gt;</em> <code>ngc=</code><em>&lt;procname&gt;</em> <code>epilog=</code><em>&lt;pythonepilog&gt;</em> <code>modalgroup=</code><em>&lt;group&gt;</em>
</dt>
<dd>
<p>
    Llama a una función de prologo de Python para realizar cualquier paso preliminar, luego llama al
    procedimiento NGC. Cuando ha terminado, llama a la función de epilogo de Python para hacer cualquier
    limpieza o trabajo de extracción de resultados que no pueda ser manejado en código G.
    Es la forma más flexible de volver a asignar un código a un procedimiento NGC,
    ya que casi todas las variables, y algunas funciones, internas del intérprete
    se pueden acceder desde los manipuladores de prologo y epilogo.
    Pero tambien es la forma mas propensa a errores propios.
</p>
</dd>
<dt class="hdlist1">
<code>python=</code><em>&lt;pythonfunction&gt;</em> <code>modalgroup=</code><em>&lt;group&gt;</em>
</dt>
<dd>
<p>
    Llama directamente a una función de Python sin ninguna conversión de argumentos.
    La forma más poderosa de reasignar un código e ir directamente a
    python. Use esto si no necesita un procedimiento NGC, o NGC se
    usa accidentalmente.
</p>
</dd>
<dt class="hdlist1">
<code>argspec=</code><em>&lt;words&gt;</em> <code>python=</code><em>&lt;pythonfunction&gt;</em> <code>modalgroup=</code><em>&lt;group&gt;</em>
</dt>
<dd>
<p>
    Convierte las palabras argspec y las pása a una función Python como argumento
    diccionario de palabras clave. Úselo para no tener que
    investigar las palabras pasadas en el bloque por usted mismo.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Tenga en cuenta que si todo lo que quiere lograr es llamar a algún código Python desde
código G, hay una forma algo más fácil de
<a href="#remap:python-o-word-procs">llamar a funciones de Python como procedimientos O-word</a>.</p></div>
</div>
<div class="sect2">
<h3 id="_el_parámetro_argspec">3.3. El parámetro argspec</h3>
<div class="paragraph"><p>La especificación del argumento (palabra clave <code>argspec</code>) describe las palabras requeridas y
opcionales a pasar a un procedimiento ngc, así como las condiciones previas opcionales
para que ese código se ejecute.</p></div>
<div class="paragraph"><p>Un argspec consta de 0 o más caracteres de la clase
 <code>[@A-KMNP-Za-kmnp-z^&gt;]</code> . Puede estar vacío (como <code>argspec=</code>).</p></div>
<div class="paragraph"><p>Un argumento argspec vacío, o ningún argumento argspec en absoluto, implica que el código
remapeado no recibe ningún parámetro del bloque. Se ignora
cualquier parámetro extra presente.</p></div>
<div class="paragraph"><p>Tenga en cuenta que las reglas RS274NGC se aplican todavía; por ejemplo, puede usar palabras de eje
(por ejemplo, X, Y, Z) solo en el contexto de un código G.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>ABCDEFGHIJKMPQRSTUVWXYZ</code>
</dt>
<dd>
<p>
  Define un parámetro de palabra requerido; una letra mayúscula especifica que
  la palabra correspondiente <strong>debe</strong> estar presente en el bloque actual. El valor de la palabra será
  pasado como un parámetro con nombre local con un nombre correspondiente.
  Si el caracter <code>@</code> esta
  presente en argspec, se pasará como parámetro posicional; ver más abajo.
</p>
</dd>
<dt class="hdlist1">
<code>abcdefghijkmpqrstuvwxyz</code>
</dt>
<dd>
<p>
  Define un parámetro de palabra opcional: una letra minúscula especifica que
  la palabra correspondiente <strong>puede</strong> estar presente en el bloque actual.
  Si la palabra está presente, el valor de la palabra será
  pasado como un parámetro con nombre local. Si el caracter <code>@</code> esta
  presente en argspec, se pasará como parámetro posicional; ver más abajo.
</p>
</dd>
<dt class="hdlist1">
<code>@</code>
</dt>
<dd>
<p>
  El <code>@</code> (signo -at-) le dice a argspec que pase palabras como parámetros posicionales,
  en el orden definido después de la opción <code>@</code>.
  Tenga en cuenta que cuando se utiliza el paso de parámetros posicionales,
  un procedimiento no puede determinar si una palabra estaba presente o no; vea un
  ejemplo a continuación.
</p>
</dd>
</dl></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Sugerencia</div>
</td>
<td class="content">esto ayuda a empaquetar los procedimientos existentes de NGC como códigos remapeados.
Los procedimientos existentes esperan parámetros posicionales. Con la opción
<code>@</code>, puede evitar reescribirlos para referirse a parámetros con nombre locales.</td>
</tr></table>
</div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>^</code>
</dt>
<dd>
<p>
  El carácter <code>^</code> (caret) especifica que la velocidad actual
  del husillo debe ser mayor que cero (husillo en marcha),
  de lo contrario, el código falla con un mensaje de error apropiado.
</p>
</dd>
<dt class="hdlist1">
<code>&gt;</code>
</dt>
<dd>
<p>
  El carácter <code>&gt;</code> (mayor que) especifica que la velocidad de alimentacion actual
  debe ser mayor que cero, de lo contrario el código falla con
  un mensaje de error apropiado.
</p>
</dd>
<dt class="hdlist1">
<code>n</code>
</dt>
<dd>
<p>
  El carácter <code>n</code>  especifica que se pase el
  número de línea actual al parámetro nombrado local <code>n</code>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>De forma predeterminada, los parámetros se pasan con nombre local a un procedimiento NGC.
Estos parámetros locales aparecen como <em>ya establecidos</em> cuando el
procedimiento comienza a ejecutarse, lo que es diferente de la semántica existente
(las variables locales comienzan con el valor 0.0 y debe ser asignado un valor explícitamente).</p></div>
<div class="paragraph"><p>Los parámetros de palabra opcionales se pueden probar para detectar su presencia mediante <code>EXISTS(#&lt;word&gt;)</code>.</p></div>
<div class="paragraph"><div class="title">Ejemplo para el paso de parámetros con nombre a procedimientos NGC</div><p>Supongamos que el código se define como</p></div>
<div class="paragraph"><p><code>REMAP=M400  modalgroup=10 argspec=Pq ngc=m400</code></p></div>
<div class="paragraph"><p>y <code>m400.ngc</code> es como sigue:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">o&lt;m400&gt;sub</span></span>
<span style="font-style: italic"><span style="color: #9A1900">(Se requiere P ya que está en mayúsculas en argspec)</span></span>
<span style="font-style: italic"><span style="color: #9A1900">(debug, palabra P=</span></span><span style="color: #009900">#&lt;P&gt;</span><span style="font-style: italic"><span style="color: #9A1900">)</span></span>
<span style="font-style: italic"><span style="color: #9A1900">(q es opcional ya que está en minúscula en argspec. Use de la siguiente manera: )</span></span>
<span style="font-weight: bold"><span style="color: #000080">o100 if</span></span> <span style="font-weight: bold"><span style="color: #000000">[EXISTS[</span></span><span style="color: #009900">#&lt;q&gt;</span><span style="font-weight: bold"><span style="color: #000000">]]</span></span>
    <span style="font-style: italic"><span style="color: #9A1900">(debug, palabra asignada Q=</span></span><span style="color: #009900">#&lt;q&gt;</span><span style="font-style: italic"><span style="color: #9A1900">)</span></span>
<span style="font-weight: bold"><span style="color: #000080">o100 endif</span></span>
<span style="font-weight: bold"><span style="color: #000080">o&lt;m400&gt; endsub</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">M2</span></span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
ejecutando <code>M400</code> fallará con el mensaje
  <code>M400 definido por el usuario: falta: P</code>
</p>
</li>
<li>
<p>
la ejecución de <code>M400 P123</code> mostrará` palabra P=123.000000`
</p>
</li>
<li>
<p>
la ejecución de <code>M400 P123 Q456</code> mostrará` palabra P=123.000000` y <code>palabra asignada Q=456.000000</code>
</p>
</li>
</ul></div>
<div class="paragraph"><div class="title">Ejemplo para pasar parámetros posicionales a procedimientos NGC</div><p>Supongamos que el código se define como</p></div>
<div class="paragraph"><p><code>REMAP=M410  modalgroup=10 argspec=@PQr ngc=m410</code></p></div>
<div class="paragraph"><p>y <code>m410.ngc</code> es como sigue:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">o&lt;m410&gt; sub</span></span>
<span style="font-style: italic"><span style="color: #9A1900">(debug, [1]=</span></span><span style="color: #009900">#1</span><span style="font-style: italic"><span style="color: #9A1900"> [2]=</span></span><span style="color: #009900">#2</span><span style="font-style: italic"><span style="color: #9A1900"> [3]=</span></span><span style="color: #009900">#3</span><span style="font-style: italic"><span style="color: #9A1900">)</span></span>
<span style="font-weight: bold"><span style="color: #000080">o&lt;m410&gt; endsub</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">M2</span></span></tt></pre></div></div>
<div class="ulist"><ul>
<li>
<p>
la ejecución de <code>M410 P10</code> mostrará` m410.ngc: [1]=10.000000 [2]=0.000000`
</p>
</li>
<li>
<p>
la ejecución de <code>M410 P10 Q20</code> mostrará` m410.ngc: [1]=10.000000 [2]=20.000000`
</p>
</li>
</ul></div>
<div class="paragraph"><p>NB: se pierde la capacidad de distinguir más de una palabra de parámetro opcional,
y no se puede saber si un parámetro opcional estaba
presente pero tenía el valor 0, o no estaba presente en absoluto.</p></div>
<div class="paragraph"><div class="title">Ejemplo simple para pasar un parámetro con nombre a una función de Python</div><p>Es posible definir nuevos códigos <em>sin</em> procedimiento NGC. Esto es
un primer ejemplo simple; uno más complejo se puede encontrar en la siguiente
sección.</p></div>
<div class="paragraph"><p>Supongamos que el código se define como</p></div>
<div class="paragraph"><p><code>REMAP=G88.6 modalgroup=1  argspec=XYZp  python=g886</code></p></div>
<div class="paragraph"><p>Esto le indica al intérprete que ejecute la función Python <code>g886</code>
en el modulo <code>module_basename.remap</code>, que podría ser así:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">from</span></span> interpreter <span style="font-weight: bold"><span style="color: #000080">import</span></span> INTERP_OK
<span style="font-weight: bold"><span style="color: #000080">from</span></span> emccanon <span style="font-weight: bold"><span style="color: #000080">import</span></span> MESSAGE

<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">g886</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> <span style="color: #990000">**</span>words<span style="color: #990000">):</span>
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> key <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> words<span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #000000">MESSAGE</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"word '%s' = %f"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>key<span style="color: #990000">,</span> words<span style="color: #990000">[</span>key<span style="color: #990000">]))</span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> words<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">has_key</span></span><span style="color: #990000">(</span><span style="color: #FF0000">'p'</span><span style="color: #990000">):</span>
        <span style="font-weight: bold"><span style="color: #000000">MESSAGE</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"la palabra P estaba presente"</span><span style="color: #990000">)</span>
    <span style="font-weight: bold"><span style="color: #000000">MESSAGE</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"comentario en esta línea: '%s'"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>self<span style="color: #990000">.</span>blocks<span style="color: #990000">[</span>self<span style="color: #990000">.</span>remap_level<span style="color: #990000">].</span>comment<span style="color: #990000">))</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK</tt></pre></div></div>
<div class="paragraph"><p>Pruebe esto con:
  g88.6 x1 y2 z3
  g88.6 x1 y2 z3 p33 (un comentario aquí)</p></div>
<div class="paragraph"><p>Notará la introducción gradual al entorno de Python incrustado.
- vea <a href="remap_es.html#remap:programming-embedded-python">esto</a> para más detalles. Tenga en cuenta que
con las funciones de remapeado Python, no tiene sentido tener
funciones de prologo o epilogo ya que está ejecutando una función Python en
primer lugar.</p></div>
<div class="paragraph"><div class="title">Ejemplo avanzado: códigos remapeados en Python puro</div><p>Los módulos <code>interpreter</code> y` emccanon` exponen la mayoría de interioridades del intérprete
y algunos de Canon; muchas cosas que hasta ahora requerían codificación en
<em>C/C+\+</em> ahora se puede hacer en Python.</p></div>
<div class="paragraph"><p>El siguiente ejemplo se basa en el script <code>nc_files/involute.py</code> -
pero enlatado como un código G con algunos parámetros de extracción y comprobación. Esto
también demuestra la llamada al intérprete de forma recursiva (consulte <code>self.execute()</code>).</p></div>
<div class="paragraph"><p>Suponiendo una definición como esta (NB: esto no usa argspec):</p></div>
<div class="paragraph"><p><code>REMAP=G88.1 modalgroup=1  py=involute</code></p></div>
<div class="paragraph"><p>La función <code>involute</code> en` python/remap.py` que aparece a continuación hace toda la
extracción de palabras directamente del bloque actual. Tenga en cuenta que los errores del intérprete
pueden ser traducidos a excepciones de Python. Recuerde que esto es
<em>readahead time</em> - los errores de tiempo de ejecución no pueden ser atrapados de esta manera.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> sys
<span style="font-weight: bold"><span style="color: #000080">import</span></span> traceback
<span style="font-weight: bold"><span style="color: #000080">from</span></span> math <span style="font-weight: bold"><span style="color: #000080">import</span></span> sin<span style="color: #990000">,</span>cos

<span style="font-weight: bold"><span style="color: #000080">from</span></span> interpreter <span style="font-weight: bold"><span style="color: #000080">import</span></span> <span style="color: #990000">*</span>
<span style="font-weight: bold"><span style="color: #000080">from</span></span> emccanon <span style="font-weight: bold"><span style="color: #000080">import</span></span> MESSAGE
<span style="font-weight: bold"><span style="color: #000080">from</span></span> util <span style="font-weight: bold"><span style="color: #000080">import</span></span> lineno<span style="color: #990000">,</span> call_pydevd
<span style="font-style: italic"><span style="color: #9A1900"># genera InterpreterException si fallan execute() o read()</span></span>
throw_exceptions <span style="color: #990000">=</span> <span style="color: #993399">1</span>

<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">involute</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> <span style="color: #990000">**</span>words<span style="color: #990000">):</span>
<span style="font-style: italic"><span style="color: #9A1900">    """ función de remapeado con acceso directo a las funciones internas del intérprete """</span></span>

    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> self<span style="color: #990000">.</span>debugmask <span style="color: #990000">&amp;</span> <span style="color: #993399">0x20000000</span><span style="color: #990000">:</span> <span style="font-weight: bold"><span style="color: #000000">call_pydevd</span></span><span style="color: #990000">()</span> <span style="font-style: italic"><span style="color: #9A1900"># USER2 debug flag</span></span>

    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="font-weight: bold"><span style="color: #000000">equal</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>feed_rate<span style="color: #990000">,</span><span style="color: #993399">0.0</span><span style="color: #990000">):</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"se requiere alimentacion &gt; 0"</span>

    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="font-weight: bold"><span style="color: #000000">equal</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>speed<span style="color: #990000">,</span><span style="color: #993399">0.0</span><span style="color: #990000">):</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"se requiere velocidad de husillo &gt; 0"</span>

    plunge <span style="color: #990000">=</span> <span style="color: #993399">0.1</span> <span style="font-style: italic"><span style="color: #9A1900">#si se dio la palabra Z, descender - con alimentación reducida</span></span>

    <span style="font-style: italic"><span style="color: #9A1900"># inspeccionar bloque de control para palabras relevantes</span></span>
    c <span style="color: #990000">=</span> self<span style="color: #990000">.</span>blocks<span style="color: #990000">[</span>self<span style="color: #990000">.</span>remap_level<span style="color: #990000">]</span>
    x0 <span style="color: #990000">=</span> c<span style="color: #990000">.</span>x_number <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> c<span style="color: #990000">.</span>x_flag <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #993399">0</span>
    y0 <span style="color: #990000">=</span> c<span style="color: #990000">.</span>y_number <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> c<span style="color: #990000">.</span>y_flag <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #993399">0</span>
    a  <span style="color: #990000">=</span> c<span style="color: #990000">.</span>p_number <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> c<span style="color: #990000">.</span>p_flag <span style="font-weight: bold"><span style="color: #0000FF">else</span></span> <span style="color: #993399">10</span>
    old_z <span style="color: #990000">=</span> self<span style="color: #990000">.</span>current_z

    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> self<span style="color: #990000">.</span>debugmask <span style="color: #990000">&amp;</span> <span style="color: #993399">0x10000000</span><span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="color: #FF0000">"x0=%f y0=%f a=%f old_z=%f"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>x0<span style="color: #990000">,</span>y0<span style="color: #990000">,</span>a<span style="color: #990000">,</span>old_z<span style="color: #990000">)</span>

    <span style="font-weight: bold"><span style="color: #0000FF">try</span></span><span style="color: #990000">:</span>
        <span style="font-style: italic"><span style="color: #9A1900">#self.execute("G3456")  # generaría una excepción InterpreterException</span></span>
        self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"G21"</span><span style="color: #990000">,</span><span style="font-weight: bold"><span style="color: #000000">lineno</span></span><span style="color: #990000">())</span>
        self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"G64 P0.001"</span><span style="color: #990000">,</span><span style="font-weight: bold"><span style="color: #000000">lineno</span></span><span style="color: #990000">())</span>
        self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"G0 X%f Y%f"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>x0<span style="color: #990000">,</span>y0<span style="color: #990000">),</span><span style="font-weight: bold"><span style="color: #000000">lineno</span></span><span style="color: #990000">())</span>

        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> c<span style="color: #990000">.</span>z_flag<span style="color: #990000">:</span>
            feed <span style="color: #990000">=</span> self<span style="color: #990000">.</span>feed_rate
            self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"F%f G1 Z%f"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>feed <span style="color: #990000">*</span> plunge<span style="color: #990000">,</span> c<span style="color: #990000">.</span>z_number<span style="color: #990000">),</span><span style="font-weight: bold"><span style="color: #000000">lineno</span></span><span style="color: #990000">())</span>
            self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"F%f"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>feed<span style="color: #990000">),</span><span style="font-weight: bold"><span style="color: #000000">lineno</span></span><span style="color: #990000">())</span>

        <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> i <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> <span style="font-weight: bold"><span style="color: #000000">range</span></span><span style="color: #990000">(</span><span style="color: #993399">100</span><span style="color: #990000">):</span>
            t <span style="color: #990000">=</span> i<span style="color: #990000">/</span><span style="color: #993399">10</span><span style="color: #990000">.</span>
            x <span style="color: #990000">=</span> x0 <span style="color: #990000">+</span> a <span style="color: #990000">*</span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">cos</span></span><span style="color: #990000">(</span>t<span style="color: #990000">)</span> <span style="color: #990000">+</span> t <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">sin</span></span><span style="color: #990000">(</span>t<span style="color: #990000">))</span>
            y <span style="color: #990000">=</span> y0 <span style="color: #990000">+</span> a <span style="color: #990000">*</span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">sin</span></span><span style="color: #990000">(</span>t<span style="color: #990000">)</span> <span style="color: #990000">-</span> t <span style="color: #990000">*</span> <span style="font-weight: bold"><span style="color: #000000">cos</span></span><span style="color: #990000">(</span>t<span style="color: #990000">))</span>
            self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"G1 X%f Y%f"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">),</span><span style="font-weight: bold"><span style="color: #000000">lineno</span></span><span style="color: #990000">())</span>

        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> c<span style="color: #990000">.</span>z_flag<span style="color: #990000">:</span> <span style="font-style: italic"><span style="color: #9A1900"># retrae a la altura inicial</span></span>
            self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"G0 Z%f"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>old_z<span style="color: #990000">),</span><span style="font-weight: bold"><span style="color: #000000">lineno</span></span><span style="color: #990000">())</span>

    <span style="font-weight: bold"><span style="color: #0000FF">except</span></span> InterpreterException<span style="color: #990000">,</span>e<span style="color: #990000">:</span>
        msg <span style="color: #990000">=</span> <span style="color: #FF0000">"%d: '%s' - %s"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>e<span style="color: #990000">.</span>line_number<span style="color: #990000">,</span>e<span style="color: #990000">.</span>line_text<span style="color: #990000">,</span> e<span style="color: #990000">.</span>error_message<span style="color: #990000">)</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> msg

    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK</tt></pre></div></div>
<div class="paragraph"><p>Los ejemplos descritos hasta ahora se pueden encontrar en
<em>configs/sim/axis/remap/getting-started</em> con configuraciones completas.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_actualización_de_una_configuración_existente_para_remapeado">4. Actualización de una configuración existente para remapeado</h2>
<div class="sectionbody">
<div class="paragraph"><p>Los requisitos mínimos para usar las declaraciones <code>REMAP</code> son las siguientes:</p></div>
<div class="ulist"><ul>
<li>
<p>
el plug Python debe activarse especificando <code>[PYTHON]TOPLEVEL=&lt;path-to-toplevel-script&gt;</code>
 en el archivo ini.
</p>
</li>
<li>
<p>
el script de nivel superior debe importar el módulo <code>remap</code>, que puede estar
 inicialmente vacío, pero la importación debe estar en su lugar.
</p>
</li>
<li>
<p>
El intérprete de Python necesita encontrar el módulo remap.py, por lo que
 la ruta al directorio donde residen los módulos de Python debe estar
 añadida con <code>[PYTHON]PATH_APPEND=&lt;path-to-your-local-Python-directory&gt;</code>
</p>
</li>
<li>
<p>
Recomendado: importe los manejadores <code>stdglue</code> en el módulo <code>remap</code>.
 En este caso, Python también necesita encontrar <code>stdglue.py</code> - simplemente lo copiamos
 desde la distribución para que pueda realizar cambios locales como sea
 necesario. Dependiendo de su instalación, la ruta a <code>stdglue.py</code> podría
 variar.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Asumiendo que sus configuraciones residen bajo <code>/home/user/xxx</code> y
el archivo ini es <code>/home/user/xxx/xxx.ini</code>, ejecute los siguientes comandos.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ cd /home/user/xxx
$ mkdir python
$ cd python
$ cp /usr/share/linuxcnc/ncfiles/remap_lib/python-stdglue/stdglue<span style="color: #990000">.</span>py <span style="color: #990000">.</span>
$ echo <span style="color: #FF0000">'from stdglue import *'</span> <span style="color: #990000">&gt;</span>remap<span style="color: #990000">.</span>py
$ echo <span style="color: #FF0000">'import remap'</span> <span style="color: #990000">&gt;</span>toplevel<span style="color: #990000">.</span>py</tt></pre></div></div>
<div class="paragraph"><p>Ahora edite <code>/home/user/xxx/xxx.ini</code> y agregue lo siguiente:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">[PYTHON]</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">TOPLEVEL</span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900">/home/user/xxx/python/toplevel.py</span>
<span style="font-weight: bold"><span style="color: #0000FF">PATH_APPEND</span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900">/home/user/xxx/python</span></tt></pre></div></div>
<div class="paragraph"><p>Ahora verifique que LinuxCNC no presenta ningún mensaje de error; desde un
ventana de terminal ejecutar:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>$ cd /home/user/xxx
$ linuxcnc xxx<span style="color: #990000">.</span>ini</tt></pre></div></div>
</div>
</div>
<div class="sect1">
<h2 id="_remapeo_de_códigos_relacionados_con_el_cambio_de_herramienta_t_m6_m61">5. Remapeo de códigos relacionados con el cambio de herramienta: T, M6, M61</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_descripción_general">5.1. Descripción general</h3>
<div class="paragraph"><p>Si no está familiarizado con las partes internas de LinuxCNC, primero lea la sección
<a href="remap_es.html#remap:how-tool-change-currently-works">Cómo trabaja el cambio de herramienta actualmente</a> (pesado, pero necesario).</p></div>
<div class="paragraph"><p>Tenga en cuenta que al volver a asignar un código existente, deshabilitamos completamente
<a href="#remap:interpreter-action-on-m6">la funcionalidad incorporada de estos códigos</a>
del intérprete.</p></div>
<div class="paragraph"><p>Así que nuestro código reasignado tendrá que hacer algo más
que generar algunos comandos para mover la máquina como nos gustaria;
también tendrá que replicar los pasos de esta secuencia que son
necesarios para mantener al intérprete y a Task sin problemas.</p></div>
<div class="paragraph"><p>Sin embargo, esto <strong>no</strong> afecta el procesamiento de comandos relacionados
con el cambio de herramienta en Task e iocontrol. Esto significa que cuando
ejecutemos el <a href="#remap:send-tool-load-msg">paso 6b</a> esto aún causará que
<a href="#remap:iocontrol-action-on-load">iocontrol haga sus cosas</a>.</p></div>
<div class="paragraph"><p>Decisiones, decisiones:</p></div>
<div class="ulist"><ul>
<li>
<p>
¿Queremos usar un procedimiento O-word o hacerlo todo en código Python?
</p>
</li>
<li>
<p>
¿Es la secuencia HAL de iocontrol (preparación de herramienta/herramienta preparada y
 pines de cambio de herramienta/herramienta cambiada) suficientemente buenos o necesitamos un tipo diferente
 de interacción HAL para nuestro cambiador de herramientas (por ejemplo: más pines HAL
 involucrados con una secuencia de interacción diferente)?
</p>
</li>
</ul></div>
<div class="paragraph"><p>Dependiendo de la respuesta, tenemos cuatro escenarios diferentes:</p></div>
<div class="ulist"><ul>
<li>
<p>
Cuando se usa un procedimiento O-word, necesitamos funciones de prologo y epilogo.
</p>
</li>
<li>
<p>
Si usa solo código Python y ningún procedimiento O-word, una función Python
es suficiente.
</p>
</li>
<li>
<p>
cuando se utilizan los pines de iocontrol, nuestro procedimiento O-word o el código Python
contendrá movimientos en su mayoría.
</p>
</li>
<li>
<p>
cuando necesitamos una interacción más compleja que la ofrecida por iocontrol,
necesitamos definir completamente nuestra propia interacción, usando los pines <code>motion.digital*</code> y
<code>motion.analog*</code>, y esencialmente ignorar los pines de iocontrol puenteandolos
</p>
</li>
</ul></div>
<div class="paragraph"><p>NOTA: Si odias los procedimientos O-word y te encanta Python, eres libre de hacerlo
todo en Python, en cuyo caso solo tendrías una especificacion <code>python=&lt;function&gt;</code>
en la sentencia REMAP. Pero suponiendo que la mayoría de la gente estaría interesada en
utilizar procedimientos O-word porque están más familiarizados con eso, lo haremos
asi como el primer ejemplo.</p></div>
<div class="paragraph"><p>El enfoque general para nuestro primer ejemplo será:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Por flexibilidad, nos gustaría hacer todo lo posible con el código G en un procedimiento de palabra O.
Eso incluye toda la interacción HAL que normalmente sería manejada por iocontrol, porque preferiríamos hacer
cosas inteligentes con movimientos, sondas, pines I/O HAL y demas.
</p>
</li>
<li>
<p>
intentaremos minimizar el código de Python en la medida necesaria para mantener sin problemas al intérprete,
y hacer que task haga realmente algo. Eso entrará en las funciones de Python <code>prolog</code> y` epilog`.
</p>
</li>
</ol></div>
</div>
<div class="sect2">
<h3 id="_entender_el_rol_de_iocontrol_con_códigos_de_cambio_de_herramienta_remapeados">5.2. Entender el rol de iocontrol con códigos de cambio de herramienta remapeados</h3>
<div class="paragraph"><p>iocontrol proporciona dos secuencias de interacción HAL que podemos utilizar o no:</p></div>
<div class="ulist"><ul>
<li>
<p>
cuando el mensaje NML puesto en cola por un comando canonico SELECT_POCKET() es
ejecutado, se desencadena la secuencia HAL "preparar herramienta y esperar que
herramienta preparada pase a alto" en iocontrol, además de
ajustar los pines XXXX
</p>
</li>
<li>
<p>
cuando el mensaje NML puesto en cola por el comando canonico CHANGE_TOOL() es
ejecutado, esto activa la secuencia HAL "cambiar de herramienta y esperar
que herramienta cambiada pase a alto" en iocontrol, además de
ajustar de los pines XXXX
</p>
</li>
</ul></div>
<div class="paragraph"><p>Lo que debe decidir es si las secuencias HAL de iocontrol existentes
son suficientes para manejar su cambiador. Tal vez necesite una secuencia de interacción diferente
- por ejemplo, más pines HAL, o tal vez interacción más compleja. Dependiendo de la respuesta, podríamos seguir utilizando
las secuencias HAL de iocontrol, o definir las nuestras propias.</p></div>
<div class="paragraph"><p>Para documentarlo mejor, deshabilitaremos estas secuencias de iocontrol
y ejecutaremos las nuestras - el resultado se parecera a la
interacción existente, pero ahora tenemos control completo sobre ellas
porque se ejecutan en nuestro propio procedimiento O-word.</p></div>
<div class="paragraph"><p>Para ello, lo que haremos sera usar  <code>motion.digital-*</code> y <code>motion.analog-*</code>
y los comandos asociados <code>M62</code> ..` M68` para hacer nuestra propia interacción HAL
en nuestro procedimiento O-word, y aquellos que efectivamente
reemplacen las secuencias <em>tool-prepare/tool-ready</em> y
<em>tool-change/tool-changed</em> de iocontrol. Así que vamos a definir nuestros pines,
reemplazando funcionalmente los pines iocontrol existentes, y seguir adelante y hacer
un bucle de interacciones iocontrol. Usaremos la siguiente
correspondencia en nuestro ejemplo:</p></div>
<div class="paragraph"><p>Correspondencia de pines iocontrol en los ejemplos.</p></div>
<div class="tableblock">
<table rules="none"
width="60%"
frame="hsides"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top">pin iocontrol.0  </th>
<th align="left" valign="top">pin motion</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">tool-prepare</p></td>
<td align="left" valign="top"><p class="table">digital-out-00</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tool-prepared</p></td>
<td align="left" valign="top"><p class="table">digital-in-00</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tool-change</p></td>
<td align="left" valign="top"><p class="table">digital-out-01</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tool-changed</p></td>
<td align="left" valign="top"><p class="table">digital-in-01</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tool-prep-number</p></td>
<td align="left" valign="top"><p class="table">analog-out-00</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tool-prep-pocket</p></td>
<td align="left" valign="top"><p class="table">analog-out-01</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">tool-number</p></td>
<td align="left" valign="top"><p class="table">analog-out-02</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Supongamos que desea redefinir el comando M6 y reemplazarlo por
un procedimiento O-word pero, aparte de eso, las demas cosas deberían continuar
trabajando.</p></div>
<div class="paragraph"><p>Por tanto, lo que nuestro procedimiento O-word haría es reemplazar los pasos
<a href="#remap:interpreter-action-on-m6">descritos aquí</a>. Mirando
estos pasos encontrará que el código NGC puede usarse para la mayoría de ellos,
pero no todos. Así que las cosas que NGC no puede manejar se harán en las funciones prolog
y epilog de Python.</p></div>
</div>
<div class="sect2">
<h3 id="_especificando_el_reemplazo_m6">5.3. Especificando el reemplazo M6</h3>
<div class="paragraph"><p>Para transmitir la idea, simplemente reemplazamos la semántica M6 incorporada con la nuestra
propia. Una vez que funcione, puede seguir adelante y colocar cualquier acción que quiera
encajar en el procedimiento O-word.</p></div>
<div class="paragraph"><p>Al revisar los <a href="#remap:interpreter-action-on-m6">pasos</a>, encontramos:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Compruebe si el comando T ya se ejecutó - <strong>ejecutar en el prologo Python</strong>
</p>
</li>
<li>
<p>
verificar si la compensación del cortador está activa - <strong>ejecutar en el prologo Python</strong>
</p>
</li>
<li>
<p>
detener el husillo si es necesario - <strong>se puede hacer en NGC</strong>
</p>
</li>
<li>
<p>
pinola arriba - <strong>se puede hacer en NGC</strong>
</p>
</li>
<li>
<p>
si se estableció TOOL_CHANGE_AT_G30:
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
mueva los indexadores A, B y C si corresponde - <strong>se puede hacer en NGC</strong>
</p>
</li>
<li>
<p>
generar movimiento rápido a la posición G30 - <strong>se puede hacer en NGC</strong>
</p>
</li>
</ol></div>
</li>
<li>
<p>
enviar un comando canonico CHANGE_TOOL a Task - <strong>ejecutar en el epilogo Python</strong>
</p>
</li>
<li>
<p>
configurar los parámetros números 5400-5413 de acuerdo con la nueva herramienta - <strong>ejecutar en el epilogo Python</strong>
</p>
</li>
<li>
<p>
enviar una señal a Task para que deje de llamar al intérprete para lectura antes de completar el
cambio de herramienta - <strong>ejecutar en epilogo Python</strong>
</p>
</li>
</ol></div>
<div class="paragraph"><p>Así que necesitamos un prologo y un epilogo. Asumamos que, en nuestro archivo ini, el remapeo M6 tiene el
siguiente aspecto:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>REMAP=M6   modalgroup=6  prolog=change_prolog ngc=change epilog=change_epilog</code></pre>
</div></div>
<div class="paragraph"><p>Decidimos pasar algunas variables al procedimiento de remapeado que se puede inspeccionar y
cambiar allí, o utilizarlas en un mensaje. Esos son: <code>tool_in_spindle</code>,
<code>selected_tool</code> (números de herramientas) y sus respectivas ranuras
<code>current_pocket</code> y` selected_pocket`.
Con ello, el prologo que cubre los pasos 1 y 2 se vería así:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">change_prolog</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> <span style="color: #990000">**</span>words<span style="color: #990000">):</span>
    <span style="font-weight: bold"><span style="color: #0000FF">try</span></span><span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> self<span style="color: #990000">.</span>selected_pocket <span style="color: #990000">&lt;</span> <span style="color: #993399">0</span><span style="color: #990000">:</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"M6: ninguna herramienta preparada"</span>

        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> self<span style="color: #990000">.</span>cutter_comp_side<span style="color: #990000">:</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"No se pueden cambiar herramienta con compensación de radio de corte activada"</span>

        self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"tool_in_spindle"</span><span style="color: #990000">]</span> <span style="color: #990000">=</span> self<span style="color: #990000">.</span>current_tool
        self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"selected_tool"</span><span style="color: #990000">]</span> <span style="color: #990000">=</span> self<span style="color: #990000">.</span>selected_tool
        self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"current_pocket"</span><span style="color: #990000">]</span> <span style="color: #990000">=</span> self<span style="color: #990000">.</span>current_pocket
        self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"selected_pocket"</span><span style="color: #990000">]</span> <span style="color: #990000">=</span> self<span style="color: #990000">.</span>selected_pocket
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK
    <span style="font-weight: bold"><span style="color: #0000FF">except</span></span> Exception<span style="color: #990000">,</span> e<span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"M6/change_prolog: %s"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>e<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Encontrará que la mayoría de las funciones de prologo son muy similares: primero probar
que todas las condiciones previas para ejecutar el código se cumplen. Luego preparar el
entorno - inyectar variables y/o hacer cualquier paso de procesamiento preparatorio
que no se pueden hacer fácilmente en código NGC; luego pasar al
procedimiento NGC devolviendo INTERP_OK.</p></div>
<div class="paragraph"><p>Nuestra primera iteración de procedimiento O-word es poco interesante; solo
verifica que tengamos los parámetros correctos y señalemos el éxito devolviendo un
valor positivo; los pasos 3-5 eventualmente serían cubiertos aquí (ver
<a href="../gcode/overview_es.html#gcode:ini-hal-params">aquí</a> para las variables referentes
a la configuración del archivo ini):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">O&lt;change&gt; sub</span></span>
<span style="font-style: italic"><span style="color: #9A1900">(debug, cambio: current_tool=</span></span><span style="color: #009900">#&lt;current_tool&gt;</span><span style="font-style: italic"><span style="color: #9A1900">)</span></span>
<span style="font-style: italic"><span style="color: #9A1900">(debug, cambio: selected_pocket=</span></span><span style="color: #009900">#&lt;selected_pocket&gt;</span><span style="font-style: italic"><span style="color: #9A1900">)</span></span>
<span style="font-style: italic"><span style="color: #9A1900">;</span></span>
<span style="font-style: italic"><span style="color: #9A1900">; inserte cualquier código g que vea adecuado aquí, por ejemplo:</span></span>
<span style="font-style: italic"><span style="color: #9A1900">; G0  #&lt;_ini[setup]tc_x&gt;  #&lt;_ini[setup]tc_y&gt;  #&lt;_ini[setup]tc_z&gt;</span></span>
<span style="font-style: italic"><span style="color: #9A1900">;</span></span>
<span style="font-weight: bold"><span style="color: #000080">O&lt;change&gt; endsub</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span><span style="color: #993399">1</span><span style="font-weight: bold"><span style="color: #000000">]</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">m2</span></span></tt></pre></div></div>
<div class="paragraph"><p>Asumiendo el éxito de <code>change.ngc</code>, necesitamos limpiar los pasos 6-8:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">change_epilog</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> <span style="color: #990000">**</span>words<span style="color: #990000">):</span>
    <span style="font-weight: bold"><span style="color: #0000FF">try</span></span><span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> self<span style="color: #990000">.</span>return_value <span style="color: #990000">&gt;</span> <span style="color: #993399">0.0</span><span style="color: #990000">:</span>
            <span style="font-style: italic"><span style="color: #9A1900"># cambio</span></span>
            self<span style="color: #990000">.</span>selected_pocket <span style="color: #990000">=</span>  <span style="font-weight: bold"><span style="color: #000000">int</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"selected_pocket"</span><span style="color: #990000">])</span>
            emccanon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">CHANGE_TOOL</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>selected_pocket<span style="color: #990000">)</span>
            <span style="font-style: italic"><span style="color: #9A1900"># causar sync()</span></span>
            self<span style="color: #990000">.</span>tool_change_flag <span style="color: #990000">=</span> True
            self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">set_tool_parameters</span></span><span style="color: #990000">()</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK
        <span style="font-weight: bold"><span style="color: #0000FF">else</span></span><span style="color: #990000">:</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"M6 abortado (código de retorno %.1f)"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>self<span style="color: #990000">.</span>return_value<span style="color: #990000">)</span>

    <span style="font-weight: bold"><span style="color: #0000FF">except</span></span> Exception<span style="color: #990000">,</span> e<span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"M6/change_epilog: %s"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>e<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Este reemplazo M6 es compatible con el código incorporado,
excepto los pasos 3-5, que deben completarse con su código NGC.</p></div>
<div class="paragraph"><p>Una vez más, la mayoría de los epilogos tienen un esquema común: primero, determinar si
las cosas salieron bien en el procedimiento de remapeado, luego hacer cualquier accion de confirmación y limpieza
que no se pueden hacer en código NGC.</p></div>
</div>
<div class="sect2">
<h3 id="_configurando_iocontrol_con_un_m6_remapeado">5.4. Configurando iocontrol con un M6 remapeado</h3>
<div class="paragraph"><p>Tenga en cuenta que la secuencia de operaciones ha cambiado: hacemos todo lo
requerido en el procedimiento O-word - incluyendo cualquier configuración/lectura de pin HAL
para activar un cambiador, y para reconocer un cambio de herramienta
- probablemente con pines IO <code>motion.digital-*</code> y <code>motion-analog-*</code>.
Cuando finalmente ejecutamos el comando <code>CHANGE_TOOL()</code>, todos
los movimientos y las interacciones HAL ya están completos.</p></div>
<div class="paragraph"><p>Normalmente, solo ahora iocontrol haría su trabajo como se describe
<a href="#remap:iocontrol-action-on-load">aquí</a>. Sin embargo, no necesitamos mover los
pines HAL más - todo lo que queda por hacer con iocontrol es aceptar que
hemos terminado con preparado y cambiado.</p></div>
<div class="paragraph"><p>Esto significa que los pines iocontrol correspondientes no tienen ninguna función
más. Por lo tanto, configuramos iocontrol para reconocer inmediatamente un
cambio, de esta manera:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900"># puenteo de señales de cambio al reasignar M6</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">net</span></span> <span style="font-weight: bold"><span style="color: #000000">tool-change-loop</span></span> <span style="color: #009900">iocontrol.0.tool-change</span> <span style="color: #009900">iocontrol.0.tool-changed</span></tt></pre></div></div>
<div class="paragraph"><p>Si por alguna razón desea remapear <code>Tx</code> (preparar),
los pines de iocontrol correspondientes también deben estar puenteados.</p></div>
</div>
<div class="sect2">
<h3 id="_escribiendo_el_cambio_y_preparando_procedimientos_o_word">5.5. Escribiendo el cambio y preparando procedimientos O-word</h3>
<div class="paragraph"><p>Los prologos y epilogos estándar encontrados en
<code>ncfiles/remap_lib/python-stdglue/stdglue.py</code> pasan algunos <em>parámetros expuestos</em> al procedimiento de remapeado.</p></div>
<div class="paragraph"><p>Un <em>parámetro expuesto</em> es una variable local nombrada visible en un procedimiento
de remapeado que corresponde a la variable interna del intérprete que
es relevante para el remapeado actual. Los parámetros expuestos
se establecen en el prologo respectivo y se inspeccionan en el epilogo.
Se puede cambiar en el procedimiento de remapeado y se recogerá el cambio
en el epilogo. Los parámetros expuestos para códigos incorporados remapeables son:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>T</code> (prepare_prolog): <code>#&lt;tool&gt;</code> , <code>#&lt;pocket&gt;</code>
</p>
</li>
<li>
<p>
<code>M6</code> (change_prolog): <code>#&lt;tool_in_spindle&gt;</code>, <code>#&lt;selected_tool&gt;</code>, <code>#&lt;current_pocket&gt;</code>, <code>#&lt;selected_pocket&gt;</code>
</p>
</li>
<li>
<p>
<code>M61</code> (settool_prolog): <code>#&lt;tool&gt;</code> , <code>#&lt;pocket&gt;</code>
</p>
</li>
<li>
<p>
<code>S</code> (setspeed_prolog):  <code>#&lt;speed&gt;</code>
</p>
</li>
<li>
<p>
<code>F</code> (setfeed_prolog):  <code>#&lt;feed&gt;</code>
</p>
</li>
</ul></div>
<div class="paragraph"><p>Si tiene necesidad específica de hacer visibles parámetros adicionales,
simplemente agregelos al prologo; prácticamente todas
las partes internas del intérprete son visibles para Python.</p></div>
</div>
<div class="sect2">
<h3 id="_haciendo_cambios_mínimos_a_los_códigos_incorporados_incluyendo_code_m6_code">5.6. Haciendo cambios mínimos a los códigos incorporados, incluyendo <code>M6</code></h3>
<div class="paragraph"><p>Recuerde que, normalmente, el remapeo de un código desactiva completamente todo el
procesamiento interno para ese código.</p></div>
<div class="paragraph"><p>Sin embargo, en algunas situaciones podría ser suficiente agregar algunos códigos alrededor
del <code>M6</code> existente, como una sonda de longitud de herramienta,
pero que conserve el comportamiento de <code>M6</code>.</p></div>
<div class="paragraph"><p>Dado que este podría ser un escenario común, el comportamiento de
los códigos reasignados se han puesto a disposición dentro del procedimiento
de remapeado. El intérprete detecta que nos estamos refiriendo a un
código reasignado dentro del procedimiento que se supone que redefine su
comportamiento. En este caso, se utiliza el comportamiento incorporado - este
actualmente está habilitado para el conjunto: <code>M6</code>,` M61`, <code>T</code>,` S`, <code>F</code>). Note
que de lo contrario, referirse a un código dentro de su propio procedimiento de remapeado
sería un error - una <code>recursión remapping</code>.</p></div>
<div class="paragraph"><p>Retorciendo un poco una incorporada se vería así (en el caso de <code>M6</code>):</p></div>
<div class="literalblock">
<div class="content">
<pre><code>REMAP=M6 modalgroup=6 ngc=mychange</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">o&lt;mychange&gt; sub</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">M6</span></span> <span style="font-style: italic"><span style="color: #9A1900">(uso de comportamiento incorporado de M6)</span></span>
<span style="font-style: italic"><span style="color: #9A1900">(.. mover al interruptor de longitud de la herramienta, probar y ajustar la longitud de la herramienta ..)</span></span>
<span style="font-weight: bold"><span style="color: #000080">o&lt;mychange&gt; endsub</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">m2</span></span></tt></pre></div></div>
<div class="paragraph"><p>PRECAUCIÓN: al redefinir un código incorporado, <strong>no especifique ningún cero encabezando
los códigos G o M</strong>; por ejemplo, diga <code>REMAP=M1 ..</code>, no
<code>REMAP=M01 ...</code>.</p></div>
<div class="paragraph"><p>Vea el directorio <code>configs/sim/axis/remap/extend-builtins</code> para una
configuración completa que es el punto de partida recomendado para su trabajo propio.</p></div>
</div>
<div class="sect2">
<h3 id="_especificando_el_reemplazo_de_t_preparar">5.7. Especificando el reemplazo de T (preparar)</h3>
<div class="paragraph"><p>Si está a gusto con la <a href="#remap:interpreter-action-on-t">implementación por defecto</a>, no
necesitaría hacer esto. Pero el remapeado es también una forma de solucionar las
deficiencias en la implementación actual, por ejemplo,
no bloquear hasta que se establezca el pin "tool-prepared".</p></div>
<div class="paragraph"><p>Lo que podría hacer, por ejemplo, es:
- en una T remapeada, simplemente establezca el equivalente del pin "tool-prepare",
pero <strong>no</strong> espere "tool-prepared" aquí
- en el M6 remapeado correspondiente, espere a "tool-prepared"
al principio del procedimiento O-word.</p></div>
<div class="paragraph"><p>Nuevamente, los pines de iocontrol tool-prepare/tool-ready no se utilizarían
y serian reemplazados por pines <code>motion.*</code>, por lo que esos pines deben estar puenteados:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900"># puentear señales preparar al reasignar T</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">net</span></span> <span style="font-weight: bold"><span style="color: #000000">tool-prep-loop</span></span> <span style="color: #009900">iocontrol.0.tool-prepare</span> <span style="color: #009900">iocontrol.0.tool-prepared</span></tt></pre></div></div>
<div class="paragraph"><p>Aquí está la configuración para una T reasignada:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>REMAP=T  prolog=prepare_prolog epilog=prepare_epilog ngc=prepare</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">prepare_prolog</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,**</span>words<span style="color: #990000">):</span>
    <span style="font-weight: bold"><span style="color: #0000FF">try</span></span><span style="color: #990000">:</span>
        cblock <span style="color: #990000">=</span> self<span style="color: #990000">.</span>blocks<span style="color: #990000">[</span>self<span style="color: #990000">.</span>remap_level<span style="color: #990000">]</span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> <span style="font-weight: bold"><span style="color: #0000FF">not</span></span> cblock<span style="color: #990000">.</span>t_flag<span style="color: #990000">:</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"T requiere un número de herramienta"</span>

        tool  <span style="color: #990000">=</span> cblock<span style="color: #990000">.</span>t_number
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> tool<span style="color: #990000">:</span>
            <span style="color: #990000">(</span>status<span style="color: #990000">,</span> pocket<span style="color: #990000">)</span> <span style="color: #990000">=</span> self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">find_tool_pocket</span></span><span style="color: #990000">(</span>tool<span style="color: #990000">)</span>
            <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> status <span style="color: #990000">!=</span> INTERP_OK<span style="color: #990000">:</span>
                <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"T%d: ranura no encontrado"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>tool<span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #0000FF">else</span></span><span style="color: #990000">:</span>
            pocket <span style="color: #990000">=</span> <span style="color: #990000">-</span><span style="color: #993399">1</span> <span style="font-style: italic"><span style="color: #9A1900"># esto es T0 - descarga de herramienta</span></span>

        <span style="font-style: italic"><span style="color: #9A1900"># estas variables serán visibles en la sub oword de ngc</span></span>
        <span style="font-style: italic"><span style="color: #9A1900"># como variables locales #&lt;tool&gt; y #&lt;pocket&gt; , y pueden ser</span></span>
        <span style="font-style: italic"><span style="color: #9A1900"># modificadas allí - el epilogo recuperará los valores</span></span>
        <span style="font-style: italic"><span style="color: #9A1900"># cambiados</span></span>
        self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"tool"</span><span style="color: #990000">]</span> <span style="color: #990000">=</span> tool
        self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"pocket"</span><span style="color: #990000">]</span> <span style="color: #990000">=</span> pocket

        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK
    <span style="font-weight: bold"><span style="color: #0000FF">except</span></span> Exception<span style="color: #990000">,</span> e<span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"T%d/prepare_prolog: %s"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">int</span></span><span style="color: #990000">(</span>words<span style="color: #990000">[</span><span style="color: #FF0000">'t'</span><span style="color: #990000">]),</span> e<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>El procedimiento mínimo de preparación de ngc de nuevo se ve así:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">o&lt;prepare&gt; sub</span></span>
<span style="font-style: italic"><span style="color: #9A1900">; Devolviendo un valor positivo:</span></span>
<span style="font-weight: bold"><span style="color: #000080">o&lt;prepare&gt; endsub</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span><span style="color: #993399">1</span><span style="font-weight: bold"><span style="color: #000000">]</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">m2</span></span></tt></pre></div></div>
<div class="paragraph"><p>Y el epilogo:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">prepare_epilog</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> <span style="color: #990000">**</span>words<span style="color: #990000">):</span>
    <span style="font-weight: bold"><span style="color: #0000FF">try</span></span><span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> self<span style="color: #990000">.</span>return_value <span style="color: #990000">&gt;</span> <span style="color: #993399">0</span><span style="color: #990000">:</span>
            self<span style="color: #990000">.</span>selected_tool <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">int</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"tool"</span><span style="color: #990000">])</span>
            self<span style="color: #990000">.</span>selected_pocket <span style="color: #990000">=</span> <span style="font-weight: bold"><span style="color: #000000">int</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"pocket"</span><span style="color: #990000">])</span>
            emccanon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">SELECT_POCKET</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>selected_pocket<span style="color: #990000">,</span> self<span style="color: #990000">.</span>selected_tool<span style="color: #990000">)</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK
        <span style="font-weight: bold"><span style="color: #0000FF">else</span></span><span style="color: #990000">:</span>
            <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"T%d: abortado (código de retorno% .1f)"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span><span style="font-weight: bold"><span style="color: #000000">int</span></span><span style="color: #990000">(</span>self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"tool"</span><span style="color: #990000">]),</span>self<span style="color: #990000">.</span>return_value<span style="color: #990000">)</span>

    <span style="font-weight: bold"><span style="color: #0000FF">except</span></span> Exception<span style="color: #990000">,</span> e<span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"T%d/prepare_epilog: %s"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>tool<span style="color: #990000">,</span>e<span style="color: #990000">)</span>
</tt></pre></div></div>
<div class="paragraph"><p>prepare_prolog y prepare_epilog son parte del <em>codigo de union estándar</em>
proporcionado por <em>nc_files/remap_lib/python-stdglue/stdglue.py</em>.
Este módulo está destinado a cubrir la mayoría de situaciones estándar de remapeado de una manera común.</p></div>
</div>
<div class="sect2">
<h3 id="_manejo_de_errores_tratando_con_abort">5.8. Manejo de errores: tratando con abort</h3>
<div class="paragraph"><p>El procedimiento de cambio de herramienta incorporado tiene algunas precauciones para tratar
con un aborte de programa (por ejemplo, al presionar Escape in Axis durante un
cambio). Su función reasignada no tiene nada de esto, por lo tanto, alguna
limpieza explícita podría ser necesaria si un código reasignado es abortado.
En particular, un procedimiento de remapeado podría establecer ajustes modales que son
indeseables tener activos después de un abort. Por ejemplo, si su
procedimiento de remapeado tiene códigos de movimiento (G0, G1, G38 ..) y el remapeado es
abortado, entonces el último código modal permanecerá activo. Sin embargo,
es muy probable que desee que se cancele cualquier movimiento modal cuando el remapeado es
abortado.</p></div>
<div class="paragraph"><p>La forma de hacerlo es mediante el uso de la  característica <code>[RS274NGC]ON_ABORT_COMMAND</code>.
Esta opción de ini especifica una llamada de procedimiento O-word que es
ejecutada si Task, por alguna razón, aborta la ejecución del programa.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">[RS274NGC]</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">ON_ABORT_COMMAND</span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900">O &lt;on_abort&gt; call</span></tt></pre></div></div>
<div class="paragraph"><p>El procedimiento on_abort sugerido se vería así (adaptelo a
sus necesidades):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">o&lt;on_abort&gt; sub</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">G54</span></span> <span style="font-style: italic"><span style="color: #9A1900">(las compensaciones de origen se establecen en el valor predeterminado)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G17</span></span> <span style="font-style: italic"><span style="color: #9A1900">(seleccion del plano XY)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G90</span></span> <span style="font-style: italic"><span style="color: #9A1900">(modo absoluto)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G94</span></span> <span style="font-style: italic"><span style="color: #9A1900">(modo de alimentación: unidades/minuto)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">M4</span></span><span style="color: #993399">8</span> <span style="font-style: italic"><span style="color: #9A1900">(ajuste de velocidad de avance y husillo)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G40</span></span> <span style="font-style: italic"><span style="color: #9A1900">(compensación de corte desactivada)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">M5</span></span>  <span style="font-style: italic"><span style="color: #9A1900">(husillo apagado)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">G80</span></span> <span style="font-style: italic"><span style="color: #9A1900">(cancelar movimiento modal)</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">M9</span></span>  <span style="font-style: italic"><span style="color: #9A1900">(niebla y refrigerante apagado)</span></span>

<span style="font-weight: bold"><span style="color: #000080">o&lt;on_abort&gt; endsub</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">m2</span></span></tt></pre></div></div>
<div class="paragraph"><p>PRECAUCION: Nunca use un <code>M2</code> dentro de una subrutina O-word, incluyendo esta.
Esto causará errores difíciles de encontrar. Por ejemplo, usando un <code>M2</code> en
una subrutina, no terminará la subrutina correctamente y dejará el archivo NGC del
subprograma abierto, no el programa principal.</p></div>
<div class="paragraph"><p>Asegúrese de que <code>on_abort.ngc</code> esté en la ruta de búsqueda del intérprete
(ubicación recomendada: <code>SUBROUTINE_PATH</code> para no desordenar su
directorio <code>NC_FILES</code> con procedimientos internos). <code>on_abort</code> recibe un
un solo parámetro que indica la causa de llamada al procedimiento de abortado,
que podría ser utilizado para la limpieza condicional.</p></div>
<div class="paragraph"><p>Las declaraciones en ese procedimiento típicamente aseguran que el post-aborto
ha limpiado cualquier estado, y que los pines HAL se restablecieron correctamente.
Por ejemplo, vea <code>configs/sim/axis/remap/rack-toolchange</code>.</p></div>
<div class="paragraph"><p>Tenga en cuenta que terminar un código reasignado devolviendo INTERP_ERROR desde
el epilogo (ver la sección anterior) también causará llamada al procedimiento <code>on_abort</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_manejo_de_errores_error_en_un_procedimiento_ngc_de_remapeado_de_código">5.9. Manejo de errores: error en un procedimiento NGC de remapeado de código</h3>
<div class="paragraph"><p>Si determina en su procedimiento de manejo que ocurrio alguna condición de error,
no use <code>M2</code> para finalizar su manejador - vea mas arriba.</p></div>
<div class="paragraph"><p>Si se muestra un mensaje de error al operador y es suficientemente aceptable detener el programa actual,
use la característica <code>(abort, &lt;message&gt;)</code> para terminar el manejador con un
mensaje de error. Tenga en cuenta que puede sustituir parámetros HAL numerados, nombrados e ini
en el texto como en este ejemplo (vea también <code>tests/interp/abort-hot-comment/test.ngc</code>):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">o100 if</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span>..<span style="font-weight: bold"><span style="color: #000000">]</span></span> <span style="font-style: italic"><span style="color: #9A1900">(alguna condición de error)</span></span>
     <span style="font-style: italic"><span style="color: #9A1900">(abort, ¡Algo va Mal! p42=#42 q=#&lt;q&gt; ini=#&lt;_ini[a]x&gt; pin=#&lt;_hal[component.pin])</span></span>
<span style="font-weight: bold"><span style="color: #000080">o100 endif</span></span></tt></pre></div></div>
<div class="paragraph"><p>NOTA: la expansión de variables ini y HAL es opcional y se pueden deshabilitar en
el <a href="../config/ini-config_es.html#gcode:ini-features">archivo INI</a></p></div>
<div class="paragraph"><p>Si se necesita una acción de recuperación más precisa, use lo
presentado en el ejemplo anterior:</p></div>
<div class="ulist"><ul>
<li>
<p>
defina una función de epilogo, incluso si es solo para señalar una
  condición de error.
</p>
</li>
<li>
<p>
pasar un valor negativo desde el manejador para señalar
  el error
</p>
</li>
<li>
<p>
inspeccionar el valor de retorno en la función de epilogo.
</p>
</li>
<li>
<p>
tomar cualquier acción de recuperación necesaria
</p>
</li>
<li>
<p>
devolver la cadena de mensaje de error desde el manejador, que establecerá el
  mensaje de error del intérprete y aborta el programa (casi como
  <code>abort, message=</code>)
</p>
</li>
</ul></div>
<div class="paragraph"><p>Este mensaje de error se mostrará en la interfaz de usuario, y devolviendo
INTERP_ERROR provocará que este error se maneje como cualquier otro error de tiempo de ejecución.</p></div>
<div class="paragraph"><p>Tenga en cuenta que tanto <code>(abort, msg)</code> como devolver INTERP_ERROR desde un
epilogo hará que también se llame a cualquier manejador ON_ABORT si está definido
(ver apartado anterior).</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_reasignando_otros_códigos_existentes_s_m0_m1_m60">6. Reasignando otros códigos existentes: S, M0, M1, M60</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_selección_automática_de_marcha_reasignando_s_ajuste_de_la_velocidad_del_husillo">6.1. Selección automática de marcha reasignando S (ajuste de la velocidad del husillo)</h3>
<div class="paragraph"><p>Un uso potencial para un código S reasignado sería una <em>Selección automática de marcha</em>
dependiendo de la velocidad. En el procedimiento de remapeado, se probaría
la velocidad deseada alcanzable dada la configuración actual de engranajes, y
cambiaria de marcha adecuadamente si no es así.</p></div>
</div>
<div class="sect2">
<h3 id="_ajustando_el_comportamiento_de_m0_m1_m60">6.2. Ajustando el comportamiento de M0, M1, M60</h3>
<div class="paragraph"><p>Un caso de uso para el remapeado de M0/M1 sería personalizar el comportamiento del
código existente. Por ejemplo, podría ser deseable desactivar el
husillo, la niebla y la inundación durante una pausa del programa M0 o M1, y
configurar el reencendido cuando se reanude el programa.</p></div>
<div class="paragraph"><p>Para un ejemplo completo haciendo eso, vea
<em>configs/sim/axis/remap/extend-builtins/</em>, que adapta M1 como se muestra arriba.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creando_nuevos_ciclos_de_codigo_g">7. Creando nuevos ciclos de codigo G</h2>
<div class="sectionbody">
<div class="paragraph"><p>Un ciclo de código G, como se usa aquí, debe comportarse de la siguiente manera:</p></div>
<div class="ulist"><ul>
<li>
<p>
En la primera invocación, se recogen las palabras asociadas y
se ejecuta el ciclo de codigo G
</p>
</li>
<li>
<p>
Si en las líneas subsiguientes simplemente continúan las palabras de parámetro aplicables a este
código, pero no un nuevo código G, el código G anterior se vuelve a ejecutar con los
parámetros cambiados en consecuencia.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Un ejemplo: Supongamos que tiene un <code>G84.3</code> definido como ciclo de código G reasignado
con el siguiente segmento ini (ver <a href="remap_es.html#remap:cycle-stdglue">aquí</a> para
una descripción detallada de <code>cycle_prolog</code> y <code>cycle_epilog</code>):</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000000">[RS274NGC]</span></span>
<span style="font-style: italic"><span style="color: #9A1900"># Un ciclo con un procedimiento oword: G84.3 &lt;X- Y- Z- Q- P-&gt;</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">REMAP</span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900">G84.3 argspec=xyzabcuvwpr prolog=cycle_prolog ngc=g843 epilog=cycle_epilog modalgroup=1</span></tt></pre></div></div>
<div class="paragraph"><p>Ejecutando las siguientes lineas:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">g17</span></span>
<span style="font-style: italic"><span style="color: #9A1900">(1)</span></span> <span style="font-weight: bold"><span style="color: #0000FF">g84</span></span><span style="color: #993399">.3</span> <span style="color: #FF6600">x</span><span style="color: #993399">1</span> <span style="color: #FF6600">y</span><span style="color: #993399">2</span> <span style="color: #FF6600">z</span><span style="color: #993399">3</span> <span style="color: #FF6600">r</span><span style="color: #993399">1</span>
<span style="font-style: italic"><span style="color: #9A1900">(2)</span></span> <span style="color: #FF6600">x</span><span style="color: #993399">3</span> <span style="color: #FF6600">y</span><span style="color: #993399">4</span> <span style="color: #FF6600">p</span><span style="color: #993399">2</span>
<span style="font-style: italic"><span style="color: #9A1900">(3)</span></span> <span style="color: #FF6600">x</span><span style="color: #993399">6</span> <span style="color: #FF6600">y</span><span style="color: #993399">7</span> <span style="color: #FF6600">z</span><span style="color: #993399">5</span>
<span style="font-style: italic"><span style="color: #9A1900">(4)</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G80</span></span></tt></pre></div></div>
<div class="paragraph"><p>provoca lo siguiente (<em>R</em> es sticky y <em>Z</em> es sticky porque el plano es <em>XY</em>):</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<code>g843.ngc</code> se llama con las palabras x = 1, y = 2, z = 3, r = 1
</p>
</li>
<li>
<p>
<code>g843.ngc</code> se llama con las palabras x = 3, y = 4, z = 3, p = 2, r = 1
</p>
</li>
<li>
<p>
<code>g843.ngc</code> se llama con las palabras x = 6, y = 7, z = 3, r = 1
</p>
</li>
<li>
<p>
El ciclo <code>G84.3</code> se cancela.
</p>
</li>
</ol></div>
<div class="paragraph"><p>Además de crear nuevos ciclos, esto proporciona un método fácil para
reempaquetar códigos G existentes que no se comportan como ciclos.
Por ejemplo, el código de roscado rígido <code>G33.1</code> no se comporta como un
ciclo. Con tal envoltorio, se puede crear fácilmente un nuevo código que
use <code>G33.1</code> pero se comporte como un ciclo.</p></div>
<div class="paragraph"><p>Vea <em>configs/sim/axis/remap/cycle</em> para un ejemplo completo de esta
característica. Contiene dos ciclos, uno con un procedimiento NGC como el anterior,
y un ejemplo de ciclo usando solo Python.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="remap:embedded-python">8. Configurando Python Embebido</h2>
<div class="sectionbody">
<div class="paragraph"><p>El complemento de Python sirve tanto al intérprete como a task, si es configurado así,
y por lo tanto tiene su propia sección <code>PYTHON</code> en el archivo ini.</p></div>
<div class="sect2">
<h3 id="_plugin_python_configuración_de_archivos_ini">8.1. Plugin Python : configuración de archivos ini</h3>
<div class="paragraph"><p><code>[PYTHON]</code></p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>TOPLEVEL=</code><em>&lt;nombre de archivo&gt;</em>
</dt>
<dd>
<p>
  nombre de archivo de la secuencia de comandos de Python inicial para ejecutar en la
  puesta en marcha. Este script es responsable de configurar la estructura del nombre del paquete,
  ver más abajo.
</p>
</dd>
<dt class="hdlist1">
<code>PATH_PREPEND=</code><em>&lt;directorio&gt;</em>
</dt>
<dd>
<p>
  añade delante este directorio a <code>PYTHON_PATH</code>. Repetible.
</p>
</dd>
<dt class="hdlist1">
<code>PATH_APPEND=</code><em>&lt;directorio&gt;</em>
</dt>
<dd>
<p>
  agrega detras este directorio a <code>PYTHON_PATH</code>. Repetible.
</p>
</dd>
<dt class="hdlist1">
<code>LOG_LEVEL=</code><em>&lt;integer&gt;</em>
</dt>
<dd>
<p>
  Nivel de registro de las acciones relacionadas con el plugin. Aumente esto si
  sospecha problemas.  Puede ser muy detallado.
</p>
</dd>
<dt class="hdlist1">
<code>RELOAD_ON_CHANGE</code>=<em>[0 | 1]</em>
</dt>
<dd>
<p>
  vuelve a cargar la secuencia de comandos <em>TOPLEVEL</em> si se cambió el archivo. Práctico
  para la depuración, pero actualmente incurre en una sobrecarga de tiempo de ejecución.
  Apaguelo para configuraciones de producción.
</p>
</dd>
<dt class="hdlist1">
<code>PYTHON_TASK</code>=<em>[0 | 1]</em>
</dt>
<dd>
<p>
  Inicia el complemento de tareas de Python. Experimental. Ver xxx.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="remap:executing-python-statements">8.2. Ejecutando sentencias de Python desde el intérprete</h3>
<div class="paragraph"><p>Para la ejecución ad hoc de comandos, ha sido añadido el <em>comentario caliente</em> de Python.
La salida de Python por defecto va a la salida estándar, por lo que necesita comenzar
LinuxCNC desde una ventana de terminal para ver los resultados. Ejemplo (por ejemplo, en la
ventana MDI):</p></div>
<div class="literalblock">
<div class="content">
<pre><code>;py,print 2*3</code></pre>
</div></div>
<div class="paragraph"><p>Tenga en cuenta que la instancia del intérprete está disponible aquí como <code>self</code>, por lo que
también podría correr:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>;py,print self.tool_table[0].toolno</code></pre>
</div></div>
<div class="paragraph"><p>La estructura <code>emcStatus</code> también es accesible:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>;py,from emctask import *
;py,print emcstat.io.aux.estop</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remap:programming-embedded-python">9. Programación de Python Embebido en el intérprete RS274NGC</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_el_espacio_de_nombres_del_plugin_python">9.1. El espacio de nombres del plugin Python</h3>
<div class="paragraph"><p>Se espera que el espacio de nombres se distribuya de la siguiente manera:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>oword</code>
</dt>
<dd>
<p>
  Cualquier codigo llamable en este módulo es candidato para procedimientos Python O-word
  Tenga en cuenta que el módulo de Python <code>oword</code> se testea
  <strong>antes</strong> que un procedimiento NGC con el mismo nombre - en efecto,
  nombres en <code>oword</code> ocultarán los archivos NGC del mismo
  nombre base
</p>
</dd>
<dt class="hdlist1">
<code>remap</code>
</dt>
<dd>
<p>
  Cualquier codigo llamable Python referenciado en un argspec <code>prolog</code>, <code>epilog</code> u
  opción <code>python</code>, se espera que se encuentre aquí.
</p>
</dd>
<dt class="hdlist1">
<code>namedparams</code>
</dt>
<dd>
<p>
  Las funciones de Python en este módulo amplían o redefinen el espacio de nombres de
  parámetros nombrados predefinidos, ver
  <a href="remap_es.html#remap:adding-predefined-named-parameters">agregar parámetros predefinidos</a>.
</p>
</dd>
<dt class="hdlist1">
<code>task</code>
</dt>
<dd>
<p>
  Aquí se esperan codigos llamables relacionados con task.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_el_intérprete_visto_desde_python">9.2. El intérprete visto desde Python</h3>
<div class="paragraph"><p>El intérprete es una clase existente C++ (<em>Interp</em>) definida en
<em>src/emc/rs274ngc</em>. Conceptualmente, todos las llamadas a Python <code>oword.&lt;function&gt;</code> y
<code>remap.&lt;function&gt;</code> son métodos de esta clase Interp,
aunque no hay una definición explícita de Python de esta clase (es una
instancia de envoltorio <em>Boost.Python</em>) y, por lo tanto, recibe el primer
parámetro <em>self</em> que se puede utilizar para acceder a elementos internos.</p></div>
</div>
<div class="sect2">
<h3 id="_las_funciones_del_intérprete_code___init___code_y_code___delete___code">9.3. Las funciones del intérprete <code>__init__</code> y <code>__delete__</code></h3>
<div class="paragraph"><p>Si el módulo <code>TOPLEVEL</code> define una función <code>__init__</code>, será
llamada una vez que el intérprete está totalmente configurado (archivo ini leído, y
estado sincronizado con el modelo mundial).</p></div>
<div class="paragraph"><p>Si el módulo <code>TOPLEVEL</code> define una función <code>__delete__</code>, será
llamada una vez antes que el intérprete se apague y después de que los parámetros persistentes
se han guardado en <code>PARAMETER_FILE</code>.</p></div>
<div class="paragraph"><p>Nota_ en este momento, el manejador <code>__delete__</code> no funciona para
instancias de intérprete creadas importando el módulo <code>gcode</code>. Si
necesita una funcionalidad equivalente (lo cual es bastante improbable),
por favor considere el módulo Python <code>atexit</code>.</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900"># esto sería definido en el módulo TOPLEVEL</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">__init__</span></span><span style="color: #990000">(</span>self<span style="color: #990000">):</span>
    <span style="font-style: italic"><span style="color: #9A1900"># agregar cualquier inicialización unica aquí</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> self<span style="color: #990000">.</span>task<span style="color: #990000">:</span>
  <span style="font-style: italic"><span style="color: #9A1900"># esta es la instancia milltask de interp</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">pass</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span><span style="color: #990000">:</span>
  <span style="font-style: italic"><span style="color: #9A1900"># esta es una instancia de interp no-milltask</span></span>
        <span style="font-weight: bold"><span style="color: #0000FF">pass</span></span>

<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">__delete__</span></span><span style="color: #990000">(</span>self<span style="color: #990000">):</span>
    <span style="font-style: italic"><span style="color: #9A1900"># agregar cualquier acción de limpieza/salvado de estado aquí</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> self<span style="color: #990000">.</span>task<span style="color: #990000">:</span> <span style="font-style: italic"><span style="color: #9A1900"># como arriba</span></span>
  <span style="font-weight: bold"><span style="color: #0000FF">pass</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">else</span></span><span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">pass</span></span></tt></pre></div></div>
<div class="paragraph"><p>Esta función se puede utilizar para inicializar cualquier atributo del lado de Python
que puede ser necesario más adelante, por ejemplo, en funciones remap u o-word,
y guardar o restaurar el estado más allá de lo que proporciona <code>PARAMETER_FILE</code>.</p></div>
<div class="paragraph"><p>Si hay acciones de configuración o limpieza que van a ocurrir solo en la
instancia milltask del intérprete (a diferencia de la instancia de intérprete
que se encuentra en el módulo Python <code>gcode</code> y sirve propósitos de visualización
de vista previa/progreso pero nada más), esto puede ser probado por
<a href="remap_es.html#remap:axis-preview-and-remapped-code-execution">evaluar <em>self.task</em></a>.</p></div>
<div class="paragraph"><p>Un ejemplo de uso de <code>__init__</code> y <code>__delete__</code> se puede encontrar en
<em>configs/sim/axis/remap/cycle/python/toplevel.py</em> inicializando los atributos
necesario para manejar los ciclos en <em>ncfiles/remap_lib/python-stdglue/stdglue.py</em>
(e importado a <em>configs/sim/axis/remap/cycle/python/remap.py</em>).</p></div>
</div>
<div class="sect2">
<h3 id="_convenciones_de_llamada_ngc_a_python">9.4. Convenciones de llamada: NGC a Python</h3>
<div class="paragraph"><p>El código Python se llama desde NGC en las siguientes situaciones:</p></div>
<div class="ulist"><ul>
<li>
<p>
durante la ejecución normal del programa:
</p>
<div class="ulist"><ul>
<li>
<p>
cuando se ejecuta una llamada O-word como <code>O&lt;proc&gt; call</code> y el nombre
<code>oword.proc</code> está definido y es llamable
</p>
</li>
<li>
<p>
cuando se ejecuta un comentario como <code>;py,&lt;Python statement&gt;</code>
</p>
</li>
</ul></div>
</li>
<li>
<p>
durante la ejecución de un código reasignado: cualquier manejador <code>prolog =</code>, <code>python =</code> y
  <code>epilog =</code>.
</p>
</li>
</ul></div>
<div class="paragraph" id="remap:python-o-word-procs"><div class="title">Llamar a subrutinas Python O-word</div><p>Argumentos:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>self</code>
</dt>
<dd>
<p>
  la instancia del intérprete
</p>
</dd>
<dt class="hdlist1">
<code>*args</code>
</dt>
<dd>
<p>
    La lista de parámetros posicionales reales. Ya que el numero
    de los parámetros reales pueden variar, es mejor usar este estilo de declaración:
</p>
</dd>
</dl></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900"># esto sería definido en el módulo oword</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">mysub</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> <span style="color: #990000">*</span>args<span style="color: #990000">):</span>
    <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="color: #FF0000">"número de parámetros pasados:"</span><span style="color: #990000">,</span> <span style="font-weight: bold"><span style="color: #000000">len</span></span><span style="color: #990000">(</span>args<span style="color: #990000">)</span>
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> a <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> args<span style="color: #990000">:</span>
  <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> a</tt></pre></div></div>
<div class="paragraph"><div class="title">Devolver los valores de las subrutinas Python de O-word</div><p>Al igual que los procedimientos NGC pueden devolver valores, también lo hacen las
subrutinas O-word Python. Se espera que sean uno de los siguientes:</p></div>
<div class="ulist"><ul>
<li>
<p>
no devuelve ningún valor (no hay una declaración <code>return</code> o el valor <code>None</code>)
</p>
</li>
<li>
<p>
un valor float o int
</p>
</li>
<li>
<p>
una cadena, esto significa <em>esto es un mensaje de error, abortar el programa</em>. Funciona como <code>(abort, msg)</code>.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Cualquier otro tipo de valor de retorno generará una excepción de Python.</p></div>
<div class="paragraph"><p>En un entorno NGC de llamada, los siguientes parámetros nombrados predefinidos
están disponibles:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>#&lt;_value&gt;</code>
</dt>
<dd>
<p>
        Valor devuelto por el último procedimiento llamado. Inicializado
        a 0.0 en el inicio. Expuesto en Interp como <code>self.return_value</code> (float).
</p>
</dd>
<dt class="hdlist1">
<code>#&lt;_value_returned&gt;</code>
</dt>
<dd>
<p>
        indica el último procedimiento llamado <code>devuelto</code> o
        <code>endsub</code> con un valor explícito. 1.0 si es cierto. Establecido a 0.0 en cada <em>call</em>. Expuesto
        en Interp como <code>self.value_returned</code> (int).
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Vea también <code>tests/interp/value-return</code> para un ejemplo.</p></div>
<div class="paragraph"><div class="title">Convenciones de llamada para las subrutinas <em>prolog=</em> y <em>epilog=</em></div><p>Los argumentos son:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>self</code>
</dt>
<dd>
<p>
  la instancia del intérprete
</p>
</dd>
<dt class="hdlist1">
<code>words</code>
</dt>
<dd>
<p>
  parámetro diccionario de palabras clave. Si estaba presente un argspec,
  se recogen del bloque actual en consecuencia y se pasan
  al diccionario por conveniencia (las palabras también podrían ser
  recuperadas directamente del bloque llamante, pero esto requiere
  más conocimientos internos del intérprete). Si no se pasó argspec,
  o solo se especificaron valores opcionales y ninguno de
  estos estaban presentes en el bloque llamante, este diccionario estará
  vacío. Los nombres de las palabras se convierten a minúsculas.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Ejemplo de llamada:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">minimal_prolog</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> <span style="color: #990000">**</span>words<span style="color: #990000">):</span> <span style="font-style: italic"><span style="color: #9A1900"># in remap module</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="font-weight: bold"><span style="color: #000000">len</span></span><span style="color: #990000">(</span>words<span style="color: #990000">),</span><span style="color: #FF0000">"palabras pasadas"</span>
    <span style="font-weight: bold"><span style="color: #0000FF">for</span></span> w <span style="font-weight: bold"><span style="color: #0000FF">in</span></span> words<span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="color: #FF0000">"%s: %s"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>w<span style="color: #990000">,</span> words<span style="color: #990000">[</span>w<span style="color: #990000">])</span>
    <span style="font-weight: bold"><span style="color: #0000FF">if</span></span> words<span style="color: #990000">[</span><span style="color: #FF0000">'p'</span><span style="color: #990000">]</span> <span style="color: #990000">&lt;</span> <span style="color: #993399">78</span><span style="color: #990000">:</span> <span style="font-style: italic"><span style="color: #9A1900"># NB: podría provocar una excepción si p fuera opcional</span></span>
       retornando <span style="color: #FF0000">"fallando miserablemente"</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK</tt></pre></div></div>
<div class="paragraph"><p>Valores de retorno:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>INTERP_OK</code>
</dt>
<dd>
<p>
devolver esto en éxito. Se necesita importar esto desde "interpreter".
</p>
</dd>
<dt class="hdlist1">
<code>"un mensaje de texto"</code>
</dt>
<dd>
<p>
devolver una cadena desde un manejador significa 'esto es
un mensaje de error, abortar el programa '. Funciona como <code>(abortar, msg)</code>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>.</p></div>
<div class="paragraph"><div class="title">Convenciones de llamada para las subrutinas <em>python=</em></div><p>Los argumentos son:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>self</code>
</dt>
<dd>
<p>
  la instancia del intérprete
</p>
</dd>
<dt class="hdlist1">
<code>words</code>
</dt>
<dd>
<p>
  parámetro diccionario de palabras clave. el mismo diccionario kwargs que
  prolog y epilog (ver arriba).
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Ejemplo mínimo de la función <code>python=</code>:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">useless</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span>  <span style="color: #990000">**</span>words<span style="color: #990000">):</span> <span style="font-style: italic"><span style="color: #9A1900"># en el módulo de remapeado</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK</tt></pre></div></div>
<div class="paragraph"><p>Valores de retorno:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>INTERP_OK</code>
</dt>
<dd>
<p>
devolver esto en éxito
</p>
</dd>
<dt class="hdlist1">
<code>"mensaje de texto"</code>
</dt>
<dd>
<p>
devolver una cadena desde un manejador significa 'esto es
un mensaje de error, abortar el programa '. Funciona como <code>(abort, msg)</code>.
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Si el manejador necesita ejecutar una operación <em>queuebuster</em>(cambio de herramienta, sonda, lectura del pin HAL)
se supone que se suspende la ejecución con la siguiente declaración:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>yield INTERP_EXECUTE_FINISH</code>
</dt>
<dd>
<p>
       Esto señala a task para que detenga la lectura adelantada, ejecuta todas
       las operaciones en cola, ejecutar la operación <em>queue-buster</em>,
       sincroniza el estado del intérprete con el estado de la máquina, y luego señaliza
  al intérprete que continue. En este punto la función es
  reanudada en la declaración siguiente a la declaración <code>yield ..</code>.
</p>
</dd>
</dl></div>
<div class="paragraph"><div class="title">Tratando con queue-buster: Sonda, Cambio de Herramienta y espera de un pin HAL</div><p>Los destructores de colas interrumpen un procedimiento en el punto en que se llama a tal
operación, por lo tanto el procedimiento debe ser reiniciado después de synch() del intérprete.
Cuando esto sucede, el procedimiento necesita saber si se reinicia, y dónde continuar. El método generador de Python
se utiliza para tratar el reinicio del procedimiento.</p></div>
<div class="paragraph"><p>Esto demuestra la continuación de la llamada con un solo punto de reinicio:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">read_pin</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,*</span>args<span style="color: #990000">):</span>
    <span style="font-style: italic"><span style="color: #9A1900"># espere 5 segundos para que la entrada digital 00 sea alta</span></span>
    emccanon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">WAIT</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">1</span><span style="color: #990000">,</span><span style="color: #993399">2</span><span style="color: #990000">,</span><span style="color: #993399">5.0</span><span style="color: #990000">)</span>
    <span style="font-style: italic"><span style="color: #9A1900"># cede el control después de ejecutar el destructor de colas:</span></span>
    yield INTERP_EXECUTE_FINISH
    <span style="font-style: italic"><span style="color: #9A1900"># La ejecución de post-sync() se reanuda aquí:</span></span>
    pin_status <span style="color: #990000">=</span> emccanon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">GET_EXTERNAL_DIGITAL_INPUT</span></span><span style="color: #990000">(</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">);</span>
    <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="color: #FF0000">"pin status="</span><span style="color: #990000">,</span>pin_status</tt></pre></div></div>
<div class="paragraph"><p>ADVERTENCIA: La característica <em>yield</em> es frágil. Las siguientes restricciones
se aplica al uso de <em>yield INTERP_EXECUTE_FINISH</em>:</p></div>
<div class="ulist"><ul>
<li>
<p>
El código Python que ejecuta un <em>yield INTERP_EXECUTE_FINISH</em> debe ser parte
  de un procedimiento de remapeado. yield no funciona en un procedimiento Python o-word.
</p>
</li>
<li>
<p>
Una subrutina de remapeado de Python que contiene la declaración de <em>yield INTERP_EXECUTE_FINISH</em> puede
no devolver un valor, como ocurre con las declaraciones yield de Python normales.
</p>
</li>
<li>
<p>
El código que sigue a un yield no puede llamar al intérprete de forma recursiva, como con
  self.execute("&lt;comando_mdi&gt;"). Esta es una restricción de la arquitectura
  del intérprete y no se puede reparar sin un rediseño importante.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_convenciones_de_llamada_python_a_ngc">9.5. Convenciones de llamada: Python a NGC</h3>
<div class="paragraph"><p>El código NGC se ejecuta desde Python cuando:</p></div>
<div class="ulist"><ul>
<li>
<p>
se ejecuta el método <code>self.execute(&lt;código NGC&gt;[,&lt;número_de_línea&gt;])</code>
</p>
</li>
<li>
<p>
durante la ejecución de un código reasignado, si está definida una función <code>prolog=</code>,
 el procedimiento NGC dado en <code>ngc=</code> se ejecuta inmediatamente.
</p>
</li>
</ul></div>
<div class="paragraph"><p>El manejador prolog no llama al manejador, sino que prepara el entorno de llamada,
por ejemplo, mediante la configuración de parámetros locales predefinidos.</p></div>
<div class="paragraph"><div class="title">Insertando parámetros en un prolog, y recuperándolos en un epilog</div><p>Conceptualmente un prolog y un epilog se ejecutan al mismo nivel de llamada
que un procedimiento O-word, es decir, después de que se establece la llamada de subrutina
y antes de que la subrutina finalice o regrese.</p></div>
<div class="paragraph"><p>Esto significa que cualquier variable local creada en un prolog será una variable local
en un procedimiento O-word, y cualquier variable local creada en
el procedimiento O-word todavía es accesible cuando se ejecuta el epilog.</p></div>
<div class="paragraph"><p>La matriz <code>self.params</code> maneja la lectura y configuración de parámetros numerados y nombrados.
Si un parámetro con nombre comienza con <code>_</code> (guión bajo),
se asume que es un parámetro global; si no, es local al procedimiento llamante.
Además, los parámetros numerados en el rango 1..30 se tratan
como variables locales; sus valores originales son restaurados en los
return/endsub de procedimientos O-word.</p></div>
<div class="paragraph"><p>Aquí hay un ejemplo de código reasignado que demuestra la inserción y
extracción de parámetros en/desde un procedimiento O-word:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>REMAP=m300 prolog=insert_param ngc=testparam epilog=retrieve_param modalgroup=10</code></pre>
</div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">insert_param</span></span> <span style="color: #990000">(</span>self<span style="color: #990000">,</span> <span style="color: #990000">**</span>words<span style="color: #990000">):</span> <span style="font-style: italic"><span style="color: #9A1900"># en el módulo remapeado</span></span>
    <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="color: #FF0000">"insert_param call level="</span><span style="color: #990000">,</span>self<span style="color: #990000">.</span>call_level
    self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"myname"</span><span style="color: #990000">]</span> <span style="color: #990000">=</span> <span style="color: #993399">123</span>
    self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #993399">1</span><span style="color: #990000">]</span> <span style="color: #990000">=</span> <span style="color: #993399">345</span>
    self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">]</span> <span style="color: #990000">=</span> <span style="color: #993399">678</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK

<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">retrieve_param</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,</span> <span style="color: #990000">**</span>words<span style="color: #990000">):</span>
    <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="color: #FF0000">"retrieve_param call level="</span><span style="color: #990000">,</span>self<span style="color: #990000">.</span>call_level
    <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="color: #FF0000">"#1="</span><span style="color: #990000">,</span> self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #993399">1</span><span style="color: #990000">]</span>
    <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="color: #FF0000">"#2="</span><span style="color: #990000">,</span> self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #993399">2</span><span style="color: #990000">]</span>
    <span style="font-weight: bold"><span style="color: #0000FF">try</span></span><span style="color: #990000">:</span>
        <span style="font-weight: bold"><span style="color: #0000FF">print</span></span> <span style="color: #FF0000">"result="</span><span style="color: #990000">,</span> self<span style="color: #990000">.</span>params<span style="color: #990000">[</span><span style="color: #FF0000">"result"</span><span style="color: #990000">]</span>
    <span style="font-weight: bold"><span style="color: #0000FF">except</span></span> Exception<span style="color: #990000">,</span>e<span style="color: #990000">:</span>
  <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #FF0000">"testparam olvidó asignar #&lt;result&gt;"</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK</tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">o&lt;testparam&gt; sub</span></span>
<span style="font-style: italic"><span style="color: #9A1900">(debug, call_level=</span></span><span style="color: #009900">#&lt;_call_level&gt;</span><span style="font-style: italic"><span style="color: #9A1900"> myname=</span></span><span style="color: #009900">#&lt;myname&gt;</span><span style="font-style: italic"><span style="color: #9A1900">)</span></span>
<span style="font-style: italic"><span style="color: #9A1900">; Intente descomentar la siguiente línea y corra otra vez.</span></span>
<span style="color: #009900">#&lt;result&gt;</span> <span style="font-weight: bold"><span style="color: #000000">=</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span><span style="color: #009900">#&lt;myname&gt;</span> <span style="font-weight: bold"><span style="color: #000000">*</span></span> <span style="color: #993399">3</span><span style="font-weight: bold"><span style="color: #000000">]</span></span>
<span style="color: #009900">#1</span> <span style="font-weight: bold"><span style="color: #000000">=</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span><span style="color: #009900">#1</span> <span style="font-weight: bold"><span style="color: #000000">*</span></span> <span style="color: #993399">5</span><span style="font-weight: bold"><span style="color: #000000">]</span></span>
<span style="color: #009900">#2</span> <span style="font-weight: bold"><span style="color: #000000">=</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span><span style="color: #009900">#2</span> <span style="font-weight: bold"><span style="color: #000000">*</span></span> <span style="color: #993399">3</span><span style="font-weight: bold"><span style="color: #000000">]</span></span>
<span style="font-weight: bold"><span style="color: #000080">o&lt;testparam&gt; endsub</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">m2</span></span></tt></pre></div></div>
<div class="paragraph"><p><code>self.params()</code> devuelve una lista de todos los nombres de variables actualmente definidos.
Como <code>myname</code> es local, desaparece después de que finaliza el epilog.</p></div>
<div class="paragraph"><div class="title">Llamar al intérprete desde Python</div><p>Puede llamar de forma recursiva al intérprete desde el código de Python de la siguiente manera:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>self.execute(&lt;código NGC&gt;[,&lt;número de línea&gt;])</code></pre>
</div></div>
<div class="paragraph"><p>Ejemplos:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt>  self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"G1 X%f Y%f"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>x<span style="color: #990000">,</span>y<span style="color: #990000">))</span>
  self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"O &lt;myprocedure&gt; call"</span><span style="color: #990000">,</span> currentline<span style="color: #990000">)</span></tt></pre></div></div>
<div class="paragraph"><p>Es posible que desee probar si el valor de retorno es
menor que <code>INTERP_MIN_ERROR</code>. Si está usando muchas instrucciones execute(), es
probablemente sea más fácil atrapar InterpreterException como se muestra a continuación.</p></div>
<div class="paragraph"><p>PRECAUCIÓN: el método de inserción/recuperación de parámetros descrito en la sección anterior no
trabaja en este caso. Es lo suficientemente bueno para comandos ejecutar simples NGC
o una llamada de procedimiento e introspección avanzada en el
procedimiento, y el paso de los parámetros locales con nombre no es necesario. La caracteristica de
llamada recursiva es frágil.</p></div>
<div class="paragraph"><div class="title">Excepción del intérprete durante execute()</div><p>Si <code>interpreter.throw_exceptions</code> es distinto de cero (valor predeterminado 1), y self.execute() devuelve un error,
se genera la excepción <code>InterpreterException</code>. InterpreterException tiene los
siguientes atributos:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>line_number</code>
</dt>
<dd>
<p>
donde ocurrió el error
</p>
</dd>
<dt class="hdlist1">
<code>line_text</code>
</dt>
<dd>
<p>
la sentencia NGC causando el error
</p>
</dd>
<dt class="hdlist1">
<code>error_message</code>
</dt>
<dd>
<p>
mensaje de error del intérprete
</p>
</dd>
</dl></div>
<div class="paragraph"><p>Los errores pueden ser atrapados de la siguiente manera:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> interpreter
interpreter<span style="color: #990000">.</span>throw_exceptions <span style="color: #990000">=</span> <span style="color: #993399">1</span>
   <span style="color: #990000">...</span>
   <span style="font-weight: bold"><span style="color: #0000FF">try</span></span><span style="color: #990000">:</span>
        self<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">execute</span></span><span style="color: #990000">(</span><span style="color: #FF0000">"G3456"</span><span style="color: #990000">)</span>  <span style="font-style: italic"><span style="color: #9A1900">#  raise InterpreterException</span></span>

   <span style="font-weight: bold"><span style="color: #0000FF">except</span></span> InterpreterException<span style="color: #990000">,</span>e<span style="color: #990000">:</span>
        msg <span style="color: #990000">=</span> <span style="color: #FF0000">"%d: '%s' - %s"</span> <span style="color: #990000">%</span> <span style="color: #990000">(</span>e<span style="color: #990000">.</span>line_number<span style="color: #990000">,</span>e<span style="color: #990000">.</span>line_text<span style="color: #990000">,</span> e<span style="color: #990000">.</span>error_message<span style="color: #990000">)</span>
        <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> msg  <span style="font-style: italic"><span style="color: #9A1900"># reemplazar el mensaje de error incorporado</span></span></tt></pre></div></div>
<div class="paragraph"><div class="title">Canon</div><p>La capa canonica está prácticamente compuesta de funciones libres. Ejemplo:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #000080">import</span></span> emccanon
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">example</span></span><span style="color: #990000">(</span>self<span style="color: #990000">,*</span>args<span style="color: #990000">):</span>
    <span style="color: #990000">....</span>
    emccanon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">STRAIGHT_TRAVERSE</span></span><span style="color: #990000">(</span>line<span style="color: #990000">,</span>x0<span style="color: #990000">,</span>y0<span style="color: #990000">,</span>z0<span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">)</span>
    emccanon<span style="color: #990000">.</span><span style="font-weight: bold"><span style="color: #000000">STRAIGHT_FEED</span></span><span style="color: #990000">(</span>line<span style="color: #990000">,</span>x1<span style="color: #990000">,</span>y1<span style="color: #990000">,</span>z1<span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">,</span><span style="color: #993399">0</span><span style="color: #990000">)</span>
    <span style="color: #990000">...</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> INTERP_OK</tt></pre></div></div>
<div class="paragraph"><p>Las funciones canonicas reales se declaran en <code>src/emc/nml_intf/canon.hh</code> y
se implementan en <code>src/emc/task/emccanon.cc</code>. La implementación de
las funciones Python se pueden encontrar en <code>src/emc/rs274ncg/canonmodule.cc</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_módulos_integrados">9.6. Módulos Integrados</h3>
<div class="paragraph"><p>Los siguientes módulos están integrados:</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<code>interpreter</code>
</dt>
<dd>
<p>
  Expone la clase Interp. Ver
  <code>src/emc/rs274ngc/interpmodule.cc</code>, y el test de regresión
  <code>tests/remap/introspect</code>.
</p>
</dd>
<dt class="hdlist1">
<code>emccanon</code>
</dt>
<dd>
<p>
  expone la mayoría de las llamadas de <code>src/emc/task/emccanon.cc</code>.
</p>
</dd>
<dt class="hdlist1">
<code>emctask</code>
</dt>
<dd>
<p>
  expone la instancia de la clase <code>emcStatus</code>. Consulte <code>src/emc/task/taskmodule.cc</code>.
  No presente cuando se usa el módulo <code>gcode</code> usado para interfaces de usuario -
  solo está presente en la instancia miltask del intérprete.
</p>
</dd>
</dl></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remap:adding-predefined-named-parameters">10. Agregando Parámetros Nombrados Predefinidos</h2>
<div class="sectionbody">
<div class="paragraph"><p>El intérprete viene con un conjunto de parámetros nombrados predefinidos para
acceso al estado interno desde el nivel NGC. Estos parametros
son de solo lectura y globales, y por lo tanto pueden asignarse.</p></div>
<div class="paragraph"><p>Se pueden agregar parámetros adicionales definiendo una función en el
módulo <code>namedparams</code>. El nombre de la función define el nombre del
nuevo parámetro nombrado predefinido, que ahora puede ser referenciado en
expresiones arbitrarias.</p></div>
<div class="paragraph"><p>Para agregar o redefinir un parámetro nombrado:</p></div>
<div class="ulist"><ul>
<li>
<p>
agregue un módulo <code>namedparams</code> para que el intérprete lo pueda encontrar
</p>
</li>
<li>
<p>
Definir nuevos parámetros por funciones (ver abajo). Estas funciones
 reciben <code>self</code> (la instancia del intérprete) como parámetro y así pueden
 acceder a estados aribtrarios. Las capacidades arbitrarias de Python se pueden usar para devolver un valor.
</p>
</li>
<li>
<p>
importar ese módulo desde el script <code>TOPLEVEL</code>
</p>
</li>
</ul></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900"># namedparams.py</span></span>
<span style="font-style: italic"><span style="color: #9A1900"># ejemplo trivial</span></span>
<span style="font-weight: bold"><span style="color: #0000FF">def</span></span> <span style="font-weight: bold"><span style="color: #000000">_pi</span></span><span style="color: #990000">(</span>self<span style="color: #990000">):</span>
    <span style="font-weight: bold"><span style="color: #0000FF">return</span></span> <span style="color: #993399">3.1415926535</span></tt></pre></div></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="color: #009900">#&lt;circumference&gt;</span> <span style="font-weight: bold"><span style="color: #000000">=</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span><span style="color: #993399">2</span> <span style="font-weight: bold"><span style="color: #000000">*</span></span> <span style="color: #009900">#&lt;radius&gt;</span> <span style="font-weight: bold"><span style="color: #000000">*</span></span> <span style="color: #009900">#&lt;_pi&gt;</span><span style="font-weight: bold"><span style="color: #000000">]</span></span></tt></pre></div></div>
<div class="paragraph"><p>Se espera que las funciones en <code>namedparams.py</code> devuelvan un valor float o int.
Si se devuelve una cadena, se establece el mensaje de error del intérprete
y aborta la ejecución.</p></div>
<div class="paragraph"><p>Sólo se agregan funciones con un guión bajo como parámetros,
ya que esta es la convención RS274NGC para globales.</p></div>
<div class="paragraph"><p>Es posible redefinir un parámetro predefinido existente agregando
una función de Python con el mismo nombre que el módulo <code>namedparams</code>.
En este caso, se genera una advertencia durante el inicio.</p></div>
<div class="paragraph"><p>Si bien el ejemplo anterior no es terriblemente útil, tenga en cuenta que
todo el estado interno del intérprete es accesible desde Python, por lo que
los predicados arbitrarios se pueden definir de esta manera. Para un ejemplo algo más
avanzado, vea <code>tests/remap/predefined-named-params</code>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="remap:standard-glue">11. Rutinas estándar de union</h2>
<div class="sectionbody">
<div class="paragraph"><p>Dado que muchas tareas de remapeado son muy similares, se comenzo a recopilar
rutinas de prolog y epilog en un solo módulo de Python. Actualmente estas
se puede encontrar en <em>ncfiles/remap_lib/python-stdglue/stdglue.py</em>, que proporciona las
siguientes rutinas:</p></div>
<div class="sect2">
<h3 id="_t_code_prepare_prolog_code_y_code_prepare_epilog_code">11.1. T: <code>prepare_prolog</code> y <code>prepare_epilog</code></h3>
<div class="paragraph"><p>Estos envuelven un procedimiento NGC para Tx Tool Prepare.</p></div>
<div class="paragraph"><div class="title">Acciones de <code>prepare_prolog</code></div><p>Los siguientes parámetros se hacen visibles para el procedimiento NGC:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>#&lt;tool&gt;</code> - el parámetro de la palabra <code>T</code>
</p>
</li>
<li>
<p>
<code>#&lt;pocket&gt;</code> - la ranura correspondiente
</p>
</li>
</ul></div>
<div class="paragraph"><p>Si se solicita el número cero de herramienta (lo que significa descargar la herramienta),
la ranura correspondiente se pasa como -1.</p></div>
<div class="paragraph"><p>Es un error si:</p></div>
<div class="ulist"><ul>
<li>
<p>
no se da ningún número de herramienta como parámetro T
</p>
</li>
<li>
<p>
la herramienta no se puede encontrar en la tabla de herramientas.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Tenga en cuenta que a menos que establezca el parámetro <code>[EMCIO] RANDOM_TOOLCHANGER=1</code>,
la herramienta y el número de ranura son idénticos, y el número de ranura de
la tabla de herramientas se ignora. Esto es actualmente una restricción.</p></div>
<div class="ulist"><div class="title">Acciones de <code>prepare_epilog</code></div><ul>
<li>
<p>
Se espera que el procedimiento NGC devuelva un valor positivo, de lo contrario
  se da un mensaje de error que contiene el valor de retorno y el
  el intérprete aborta.
</p>
</li>
<li>
<p>
En caso de que el procedimiento NGC ejecutara el comando T (que luego se refiere
  al comportamiento incorporado en T), no se toma ninguna otra acción. Esto puede ser
  utilizado por ejemplo para ajustar mínimamente el comportamiento incorporado en
  lo que precede o sigue con algunas otras declaraciones.
</p>
</li>
<li>
<p>
De lo contrario, se extraen los parámetros <code>#&lt;tool&gt;</code> y <code>#&lt;pocket&gt;</code>
  del espacio de parámetros de la subrutina. Esto significa que el
  procedimiento NGC podría cambiar estos valores, y el epilog tiene los
  valores modificados en cuenta.
</p>
</li>
<li>
<p>
despues, se ejecuta el comando canononico <code>SELECT_POCKET(#&lt;pocket&gt;,#&lt;tool&gt;)</code>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_m6_code_change_prolog_code_y_code_change_epilog_code">11.2. M6: <code>change_prolog</code> y <code>change_epilog</code></h3>
<div class="paragraph"><p>Estos envuelven un procedimiento NGC para M6 Tool Change.</p></div>
<div class="ulist"><div class="title">Acciones de <code>change_prolog</code></div><ul>
<li>
<p>
Los siguientes tres pasos son aplicables solo si se utiliza el componente <code>iocontrol-v2</code>:
</p>
<div class="ulist"><ul>
<li>
<p>
Si el parámetro 5600 (indicador de fallo) es mayor que cero, esto indica un fallo del cambiador de herramientas,
que se maneja de la siguiente manera:
</p>
</li>
<li>
<p>
Si el parámetro 5601 (código de error) es negativo, esto indica un error hard
y el prolog aborta con un mensaje de error.
</p>
</li>
<li>
<p>
Si el parámetro 5601 (código de error) es mayor o igual a cero, esto indica un
fallo soft. Se muestra un mensaje informativo y prolog continúa.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Si no había un comando T precedente que causára que no fue seleccionada una ranura,
prolog aborta con un mensaje de error.
</p>
</li>
<li>
<p>
Si la compensación del radio de corte está activada, prolog se cancela con un mensaje de error.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Luego, los siguientes parámetros se exportan al procedimiento NGC:</p></div>
<div class="ulist"><ul>
<li>
<p>
<code>#&lt;tool_in_spindle&gt;</code> : el número de herramienta de la herramienta cargada actualmente
</p>
</li>
<li>
<p>
<code>#&lt;selected_tool&gt;</code> : el número de herramienta seleccionado
</p>
</li>
<li>
<p>
<code>#&lt;selected_pocket&gt;</code> : el número de ranura de la herramienta seleccionada
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Acciones de <code>change_epilog</code></div><ul>
<li>
<p>
Se espera que el procedimiento NGC devuelva un valor positivo; de lo contrario
  se da un mensaje de error que contiene el valor de retorno y
  el intérprete aborta.
</p>
</li>
<li>
<p>
Si el parámetro 5600 (indicador de fallo) es mayor que cero, esto indica un fallo del cambiador de herramientas,
que se maneja de la siguiente manera (solo para <code>iocontrol-v2</code>):
</p>
<div class="ulist"><ul>
<li>
<p>
Si el parámetro 5601 (código de error) es negativo, esto indica un error hard
y el epilog se anula con un mensaje de error.
</p>
</li>
<li>
<p>
Si el parámetro 5601 (código de error) es mayor o igual a cero, esto indica un fallo soft.
Se muestra un mensaje informativo y el epilog continúa.
</p>
</li>
</ul></div>
</li>
<li>
<p>
En caso de que el procedimiento NGC ejecutara el comando M6 (que luego se refiere
  al comportamiento M6 incorporado), no se realiza ninguna otra acción. Esto puede ser
  utilizado por ejemplo para ajustar mínimamente el comportamiento incorporado en
  lo que precede o sigue con algunas otras declaraciones.
</p>
</li>
<li>
<p>
De lo contrario, se extrae el parámetro <code>#&lt;selected_pocket&gt;</code>
  del espacio de parámetros de la subrutina, y se utiliza para establecer
  la variable <code>current_pocket</code> del intérprete. De nuevo, el
  procedimiento podría cambiar este valor, y el epilog toma en cuenta el
  valor cambiado .
</p>
</li>
<li>
<p>
entonces, el comando canonico <code>CHANGE_TOOL(#&lt;selected_pocket&gt;)</code> es
  ejecutado.
</p>
</li>
<li>
<p>
Se establecen los nuevos parámetros de la herramienta (desplazamientos, diámetro, etc.).
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="remap:cycle-stdglue">11.3. Ciclos de código G: <code>cycle_prolog</code> y <code>cycle_epilog</code></h3>
<div class="paragraph"><p>Estos envuelven un procedimiento de NGC para que pueda actuar como un ciclo, lo que significa que
el código de movimiento se conserva después de finalizar la ejecución. Si la siguiente linea
solo contiene palabras de parámetros (por ejemplo, nuevos valores de X, Y), el código es
ejecutado de nuevo con las nuevas palabras de parámetros fusionadas en el conjunto de los
parámetros dados en la primera invocación.</p></div>
<div class="paragraph"><p>Estas rutinas están diseñadas para trabajar en conjunto con un
parámetro <code>argspec=&lt;words&gt;</code>. Mientras esto es
fácil de usar, en un escenario realista usted evitaría argspec y haría una
investigación más a fondo del bloque de forma manual para dar mejor mensaje
de error.</p></div>
<div class="paragraph"><p>El argspec sugerido es el siguiente:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-weight: bold"><span style="color: #0000FF">REMAP</span></span><span style="font-weight: bold"><span style="color: #000000">=</span></span><span style="color: #009900">G&lt;somecode&gt; argspec=xyzabcuvwqplr prolog=cycle_prolog ngc=&lt;ngc procedure&gt; epilog=cycle_epilog modalgroup=1</span></tt></pre></div></div>
<div class="paragraph"><p>Esto permitirá a <code>cycle_prolog</code> determinar la compatibilidad de cualquier
palabra de eje dada en el bloque, ver más abajo.</p></div>
<div class="ulist"><div class="title">Acciones de <code>cycle_prolog</code></div><ul>
<li>
<p>
Determine si las palabras pasadas desde el bloque actual cumplen
las condiciones descritas en <a href="../gcode/g-code_es.html#gcode:canned-cycle-errors">Errores en ciclos fijos</a>.
</p>
<div class="ulist"><ul>
<li>
<p>
exportar las palabras del eje como + &lt;x&gt; +, + # &lt;y&gt; + etc; falla si las palabras del eje de
diferentes grupos (XYZ) (UVW) se utilizan juntos, o se da cualquiera de (ABC).
</p>
</li>
<li>
<p>
exportar <em>L-</em> como <code>#&lt;l&gt;</code>; por defecto a 1 si no se da.
</p>
</li>
<li>
<p>
exportar <em>P-</em> como <code>#&lt;p&gt;</code>; fallo si p es menor que 0.
</p>
</li>
<li>
<p>
exportar <em>R-</em> como <code>#&lt;r&gt;</code>; fallo si no se da r, o es menor o igual a 0 si se da.
</p>
</li>
<li>
<p>
fallo si la velocidad de avance es cero, o el avance de tiempo inverso o
la compensación del cortador está activas.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Determine si esta es la primera invocación de un código G de ciclo, en
cuyo caso:
</p>
<div class="ulist"><ul>
<li>
<p>
Agregue las palabras pasadas (según argspec) en un conjunto de
parámetros sticky, que se conservan a través de varias invocaciones.
</p>
</li>
</ul></div>
</li>
<li>
<p>
Si no es así (una línea de continuación con nuevos parámetros):
</p>
<div class="ulist"><ul>
<li>
<p>
fusionar las palabras pasadas en el conjunto existente de
parámetros sticky.
</p>
</li>
</ul></div>
</li>
<li>
<p>
exportar el conjunto de parámetros sticky al procedimiento NGC.
</p>
</li>
</ul></div>
<div class="ulist"><div class="title">Acciones de <code>cycle_epilog</code></div><ul>
<li>
<p>
Determine si el código actual era en realidad un ciclo, si es así:
</p>
<div class="ulist"><ul>
<li>
<p>
retenga el modo de movimiento actual para que una línea de continuación sin un
código de movimiento ejecute el mismo código de movimiento.
</p>
</li>
</ul></div>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_s_establecer_velocidad_code_setspeed_prolog_code_y_code_setspeed_epilog_code">11.4. S (Establecer velocidad): <code>setspeed_prolog</code> y <code>setspeed_epilog</code></h3>
<div class="paragraph"><p>TBD</p></div>
</div>
<div class="sect2">
<h3 id="_f_establecer_alimentacion_code_setfeed_prolog_code_y_code_setfeed_epilog_code">11.5. F (Establecer Alimentacion): <code>setfeed_prolog</code> y <code>setfeed_epilog</code></h3>
<div class="paragraph"><p>TBD</p></div>
</div>
<div class="sect2">
<h3 id="_m61_establecer_el_número_de_herramienta_code_settool_prolog_code_y_code_settool_epilog_code">11.6. M61 Establecer el número de herramienta: <code>settool_prolog</code> y <code>settool_epilog</code></h3>
<div class="paragraph"><p>TBD</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ejecución_del_código_remapeado">12. Ejecución del código remapeado</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_entorno_de_llamada_a_procedimiento_ngc_durante_remapeados">12.1. Entorno de llamada a procedimiento NGC durante remapeados</h3>
<div class="paragraph"><p>Normalmente, un procedimiento de palabra O se llama con parámetros posicionales.
Este esquema es muy limitante, en particular en presencia de parámetros opcionales.
Por lo tanto, la convención de llamada se ha extendido para utilizar
algo remotamente similar al modelo de argumentos de palabras clave de Python.</p></div>
<div class="paragraph"><p>vea LINKTO gcode/main Subrutinas: sub, endsub, return, call.</p></div>
</div>
<div class="sect2">
<h3 id="_códigos_reasignados_anidados">12.2. Códigos reasignados anidados</h3>
<div class="paragraph"><p>Los códigos reasignados se pueden anidar al igual que las llamadas de procedimiento, es decir, un
código reasignado cuyo procedimiento NGC se refiere a algún otro código reasignado se ejecutará correctamente.</p></div>
<div class="paragraph"><p>El máximo nivel de anidacion de remapeados es actualmente 10.</p></div>
</div>
<div class="sect2">
<h3 id="_número_de_secuencia_durante_remapeos">12.3. Número de secuencia durante remapeos</h3>
<div class="paragraph"><p>Los números de secuencia se propagan y se restauran con las llamadas a palabra O.
Consulte <code>tests/remap/nested-remaps/word</code> para la prueba de regresión,
que muestra el seguimiento de los números de secuencia durante el anidamiento de tres niveles de remapeado.</p></div>
</div>
<div class="sect2">
<h3 id="_banderas_de_depuracion">12.4. Banderas de depuracion</h3>
<div class="paragraph"><p>Los siguientes indicadores son relevantes para la remapeado y ejecución relacionada con Python:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>EMC_DEBUG_OWORD             0x00002000 rastrea la ejecución de subrutinas O-word
EMC_DEBUG_REMAP             0x00004000 rastrea la ejecución del código relacionado con la remapeado
EMC_DEBUG_PYTHON            0x00008000 llamadas a complemento de Python
EMC_DEBUG_NAMEDPARAM        0x00010000 rastrea acceso a parámetros nombrados
EMC_DEBUG_PYTHON_TASK       0x00040000 rastrea el complemento de Python de task
EMC_DEBUG_USER1             0x10000000 definido por el usuario - no interpretado por LinuxCNC
EMC_DEBUG_USER2             0x20000000 definido por el usuario - no interpretado por LinuxCNC</code></pre>
</div></div>
<div class="paragraph"><p>combine con <em>or</em> estas banderas en la variable <code>[EMC]DEBUG</code> según sea necesario. Para una
lista actual de indicadores de depuración, vea <em>src/emc/nml_intf/debugflags.h</em>.</p></div>
</div>
<div class="sect2">
<h3 id="_depuración_de_código_python_embebido">12.5. Depuración de código Python embebido</h3>
<div class="paragraph"><p>La depuración del código Python enbebido es más difícil que la depuración normal
de scripts Python, y solo existe un suministro limitado de depuradores. Una
solución basada en código abierto que funciona es utilizar el
<a href="http://www.eclipse.org">http://www.eclipse.org</a> [IDE Eclipse], Eclipse plugin <a href="http://www.pydev.org">http://www.pydev.org</a> [PydDev]
y su <a href="http://pydev.org/manual_adv_remote_debugger.html">característica de depuracion remota</a>.</p></div>
<div class="paragraph"><p>Para utilizar este enfoque:</p></div>
<div class="ulist"><ul>
<li>
<p>
instale Eclipse a través del <em>Centro de software de Ubuntu</em> (elija primero
selección)
</p>
</li>
<li>
<p>
Instale el plugin PyDev desde
<a href="http://pydev.org/updates">Pydev Update Site</a>
</p>
</li>
<li>
<p>
configure el árbol fuente de LinuxCNC como un proyecto de Eclipse
</p>
</li>
<li>
<p>
inicie el servidor de depuración Pydev en Eclipse
</p>
</li>
<li>
<p>
asegúrese de que el código Python incrustado pueda encontrar el módulo <code>pydevd.py</code>
que viene con ese plugin - está enterrado en algún lugar profundo debajo del
directorio de instalación de Eclipse. Establezca la variable <code>pydevd</code> en <code>util.py</code>
para reflejar esta ubicación del directorio.
</p>
</li>
<li>
<p>
<code>import pydevd</code> en su módulo Python - vea los ejemplos <code>util.py</code> y <code>remap.py</code>
</p>
</li>
<li>
<p>
llame a <code>pydevd.settrace()</code> en su módulo en algún punto para conectarse
al servidor de depuración de Eclipse Python: aquí puede establecer puntos de interrupción en su
Código, inspeccionar variables, pasos, etc., como de costumbre.
</p>
</li>
</ul></div>
<div class="paragraph"><p>PRECAUCIÓN: <code>pydevd.settrace()</code> bloqueará la ejecución si Eclipse y el
servidor de depuración Pydev no se ha iniciado.</p></div>
<div class="paragraph"><p>Para cubrir los dos últimos pasos: el procedimiento <code>o&lt;pydevd&gt;</code> ayuda a entrar
en el depurador desde el modo MDI. Véase también la función <code>call_pydevd</code>
en <code>util.py</code> y su uso en` remap.involute` para establecer un punto de interrupción.</p></div>
<div class="paragraph"><p>Aquí hay una captura de pantalla de Eclipse/PyDevd depurando el procedimiento <code>involute</code>:</p></div>
<div class="imageblock">
<div class="content">
<img src="images/debug_embedded_python.png" alt="Depuración con Eclipse" />
</div>
</div>
<div class="paragraph"><p>Vea el código de Python en <code>configs/sim/axis/remap/getting-started/python</code> para más detalles.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="remap:axis-preview-and-remapped-code-execution">13. Vista previa de Axis y Ejecución de código remapeado</h2>
<div class="sectionbody">
<div class="paragraph"><p>Para obtener una vista previa completa del camino de la herramienta de un código remapeado,
necesita tomar algunas precauciones.
Para entender lo que está pasando, revisemos la
vista previa y proceso de ejecución (esto cubre el caso de Axis, pero otros casos
son similares):</p></div>
<div class="paragraph"><p>Primero, tenga en cuenta que hay <strong>dos</strong> instancias de intérprete independientes
involucradas:</p></div>
<div class="ulist"><ul>
<li>
<p>
una instancia en el programa milltask, que ejecuta un programa cuando
presiona el botón <em>Inicio</em> y hace que la máquina se mueva
</p>
</li>
<li>
<p>
una segunda instancia en la interfaz de usuario cuyo propósito principal es
generar la vista previa de ruta de herramienta. Éste <em>ejecuta</em> el programa una vez que
está cargado, pero en realidad no causa movimientos de la máquina.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Ahora suponga que su procedimiento de remapeado contiene una operación de sonda G38,
por ejemplo, como parte de un cambio de herramienta con touch-off de longitud de herramienta automático.
Si la sonda falla, eso sería claramente un error, por lo que se debe
mostrar un mensaje y abortar el programa.</p></div>
<div class="paragraph"><p>Ahora, ¿qué pasa con la vista previa de este procedimiento?. En tiempo de vista previa, por supuesto
no se sabe si la sonda tiene éxito o no, pero
probablemente quiera ver cuál es la profundidad máxima de la sonda y suponga
tiene éxito y continúa la ejecución hasta
previsualizar nuevos movimientos. Además, no tiene sentido mostrar un
mensaje de <em>sonda fallida</em> y abort <strong>durante la vista previa</strong>.</p></div>
<div class="paragraph"><p>La forma de abordar este problema es probar en su procedimiento si
se ejecuta en modo de vista previa o ejecución. Esto puede ser verificado
probando el <a href="../gcode/overview_es.html#gcode:predefined-named-parameters">parámetro predefinido nombrado</a> <code>#&lt;_task&gt;</code>- será 1 durante la ejecución real y 0 durante
la vista previa. Ver <em>configs/sim/axis/remap/ manual-toolchange-with-tool-length-switch/nc_subroutines/manual_change.ngc</em>
para un ejemplo de uso completo.</p></div>
<div class="paragraph"><p>Dentro de Python embebido, la instancia de task puede ser verificada
probando <em>self.task</em> - será 1 en la instancia de milltask, y 0
en la(s) instancia(s) de vista previa.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="remap:remappable-codes">14. Códigos remapeables</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="remap:existing-codes">14.1. Códigos existentes que pueden ser remapeados</h3>
<div class="paragraph"><p>El conjunto actual de códigos <strong>existentes</strong> abiertos para redefinición es:</p></div>
<div class="ulist"><ul>
<li>
<p>
Tx (Preparar)
</p>
</li>
<li>
<p>
M6 (Cambiar herramienta)
</p>
</li>
<li>
<p>
M61 (Establecer número de herramienta)
</p>
</li>
<li>
<p>
M0 (pausa temporalmente un programa en ejecución)
</p>
</li>
<li>
<p>
M1 (pausar un programa en ejecución temporalmente si el interruptor de parada opcional está activado)
</p>
</li>
<li>
<p>
M60 (intercambiar transbordadores de paletas y luego pausar un programa en ejecución temporalmente)
</p>
</li>
<li>
<p>
S (ajuste la velocidad del husillo)
</p>
</li>
<li>
<p>
F (ajuste de alimentación)
</p>
</li>
</ul></div>
<div class="paragraph"><p>Tenga en cuenta que el uso de M61 actualmente requiere el uso de iocontrol-v2.</p></div>
</div>
<div class="sect2">
<h3 id="remap:unallocated-g-codes">14.2. Códigos G actualmente sin asignar:</h3>
<div class="paragraph"><p>Los códigos G actualmente no asignados (para remapeado) deben seleccionarse de los espacios en blanco
de las siguientes tablas. Todos los códigos G listados ya están definidos en
la implementación actual de LinuxCNC y no se puede usar para reasignar nuevos
códigos G (Se recomienda a los desarrolladores que agreguen nuevos códigos G a LinuxCNC que también
agregue sus nuevos códigos G a estas tablas.)</p></div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 1. Tabla de códigos G asignados_00-09</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>00</em></p></td>
<td align="left" valign="top"><p class="table"><code>G00</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>01</em></p></td>
<td align="left" valign="top"><p class="table"><code>G01</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>02</em></p></td>
<td align="left" valign="top"><p class="table"><code>G02</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>03</em></p></td>
<td align="left" valign="top"><p class="table"><code>G03</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>04</em></p></td>
<td align="left" valign="top"><p class="table"><code>G04</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>05</em></p></td>
<td align="left" valign="top"><p class="table"><code>G05</code></p></td>
<td align="left" valign="top"><p class="table"><code>G05.1</code></p></td>
<td align="left" valign="top"><p class="table"><code>G05.2</code></p></td>
<td align="left" valign="top"><p class="table"><code>G05.3</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>06</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>07</em></p></td>
<td align="left" valign="top"><p class="table"><code>G07</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>08</em></p></td>
<td align="left" valign="top"><p class="table"><code>G08</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>09</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 2. Tabla de códigos G asignados_10-19</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>10</em></p></td>
<td align="left" valign="top"><p class="table"><code>G10</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>11</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>12</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>13</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>14</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>15</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>16</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>17</em></p></td>
<td align="left" valign="top"><p class="table"><code>G17</code></p></td>
<td align="left" valign="top"><p class="table"><code>G17.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>18</em></p></td>
<td align="left" valign="top"><p class="table"><code>G18</code></p></td>
<td align="left" valign="top"><p class="table"><code>G18.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>19</em></p></td>
<td align="left" valign="top"><p class="table"><code>G19</code></p></td>
<td align="left" valign="top"><p class="table"><code>G19.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 3. Tabla de códigos G asignados_20-29</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>20</em></p></td>
<td align="left" valign="top"><p class="table"><code>G20</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>21</em></p></td>
<td align="left" valign="top"><p class="table"><code>G21</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>22</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>23</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>24</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>25</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>26</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>27</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>28</em></p></td>
<td align="left" valign="top"><p class="table"><code>G28</code></p></td>
<td align="left" valign="top"><p class="table"><code>G28.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>29</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 4. Tabla de códigos G asignados_30-39</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>30</em></p></td>
<td align="left" valign="top"><p class="table"><code>G30</code></p></td>
<td align="left" valign="top"><p class="table"><code>G30.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>31</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>32</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>33</em></p></td>
<td align="left" valign="top"><p class="table"><code>G30</code></p></td>
<td align="left" valign="top"><p class="table"><code>G30.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>34</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>35</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>36</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>37</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>38</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>39</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 5. Tabla de códigos G asignados_40-49</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>40</em></p></td>
<td align="left" valign="top"><p class="table"><code>G40</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>41</em></p></td>
<td align="left" valign="top"><p class="table"><code>G41</code></p></td>
<td align="left" valign="top"><p class="table"><code>G41.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>42</em></p></td>
<td align="left" valign="top"><p class="table"><code>G42</code></p></td>
<td align="left" valign="top"><p class="table"><code>G42.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>43</em></p></td>
<td align="left" valign="top"><p class="table"><code>G43</code></p></td>
<td align="left" valign="top"><p class="table"><code>G43.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>44</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>45</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>46</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>47</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>48</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>49</em></p></td>
<td align="left" valign="top"><p class="table"><code>G40</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 6. Tabla de códigos G asignados_50-59</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>50</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>51</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>52</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>53</em></p></td>
<td align="left" valign="top"><p class="table"><code>G53</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>54</em></p></td>
<td align="left" valign="top"><p class="table"><code>G54</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>55</em></p></td>
<td align="left" valign="top"><p class="table"><code>G55</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>56</em></p></td>
<td align="left" valign="top"><p class="table"><code>G56</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>57</em></p></td>
<td align="left" valign="top"><p class="table"><code>G57</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>58</em></p></td>
<td align="left" valign="top"><p class="table"><code>G58</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>59</em></p></td>
<td align="left" valign="top"><p class="table"><code>G59</code></p></td>
<td align="left" valign="top"><p class="table"><code>G59.1</code></p></td>
<td align="left" valign="top"><p class="table"><code>G59.2</code></p></td>
<td align="left" valign="top"><p class="table"><code>G59.3</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 7. Tabla de códigos G asignados_60-69</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>60</em></p></td>
<td align="left" valign="top"><p class="table"><code>G60</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>61</em></p></td>
<td align="left" valign="top"><p class="table"><code>G61</code></p></td>
<td align="left" valign="top"><p class="table"><code>G61.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>62</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>63</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>64</em></p></td>
<td align="left" valign="top"><p class="table"><code>G64</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>65</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>66</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>67</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>68</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>69</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 8. Tabla de códigos G asignados_70-79</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>70</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>71</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>72</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>73</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>74</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>75</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>76</em></p></td>
<td align="left" valign="top"><p class="table"><code>G76</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>77</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>78</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>79</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 9. Tabla de códigos G asignados_80-89</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>80</em></p></td>
<td align="left" valign="top"><p class="table"><code>G80</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>81</em></p></td>
<td align="left" valign="top"><p class="table"><code>G81</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>82</em></p></td>
<td align="left" valign="top"><p class="table"><code>G82</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>83</em></p></td>
<td align="left" valign="top"><p class="table"><code>G83</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>84</em></p></td>
<td align="left" valign="top"><p class="table"><code>G84</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>85</em></p></td>
<td align="left" valign="top"><p class="table"><code>G85</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>86</em></p></td>
<td align="left" valign="top"><p class="table"><code>G86</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>87</em></p></td>
<td align="left" valign="top"><p class="table"><code>G87</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>88</em></p></td>
<td align="left" valign="top"><p class="table"><code>G88</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>89</em></p></td>
<td align="left" valign="top"><p class="table"><code>G89</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 10. Tabla de códigos G asignados_90-99</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#  </th>
<th align="left" valign="top">Gxx </th>
<th align="left" valign="top">Gxx.1</th>
<th align="left" valign="top">Gxx.2</th>
<th align="left" valign="top">Gxx.3</th>
<th align="left" valign="top">Gxx.4</th>
<th align="left" valign="top">Gxx.5</th>
<th align="left" valign="top">Gxx.6</th>
<th align="left" valign="top">Gxx.7</th>
<th align="left" valign="top">Gxx.8</th>
<th align="left" valign="top">Gxx.9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>90</em></p></td>
<td align="left" valign="top"><p class="table"><code>G90</code></p></td>
<td align="left" valign="top"><p class="table"><code>G90.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>91</em></p></td>
<td align="left" valign="top"><p class="table"><code>G91</code></p></td>
<td align="left" valign="top"><p class="table"><code>G91.1</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>92</em></p></td>
<td align="left" valign="top"><p class="table"><code>G92</code></p></td>
<td align="left" valign="top"><p class="table"><code>G92.1</code></p></td>
<td align="left" valign="top"><p class="table"><code>G92.2</code></p></td>
<td align="left" valign="top"><p class="table"><code>G92.3</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>93</em></p></td>
<td align="left" valign="top"><p class="table"><code>G93</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>94</em></p></td>
<td align="left" valign="top"><p class="table"><code>G94</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>95</em></p></td>
<td align="left" valign="top"><p class="table"><code>G95</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>96</em></p></td>
<td align="left" valign="top"><p class="table"><code>G96</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>97</em></p></td>
<td align="left" valign="top"><p class="table"><code>G97</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>98</em></p></td>
<td align="left" valign="top"><p class="table"><code>G98</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>99</em></p></td>
<td align="left" valign="top"><p class="table"><code>G99</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="remap:unallocated-m-codes">14.3. Códigos M actualmente sin asignar:</h3>
<div class="paragraph"><p>Estos códigos M actualmente no están definidos en la implementación actual de LinuxCNC
y se puede utilizar para definir nuevos códigos M. (Desarrolladores que definan nuevos códigos M en
LinuxCNC se recomienda que los elimine de esta tabla.)</p></div>
<div class="tableblock unbreakable">
<table rules="all"
style="margin-left:auto; margin-right:auto;"
width="90%"
frame="border"
cellspacing="0" cellpadding="4">
<caption class="title">Tabla 11. Tabla de códigos M no asignados 00-99</caption>
<col width="16%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<thead>
<tr>
<th align="center" valign="top">#     </th>
<th align="left" valign="top">Mx0 </th>
<th align="left" valign="top">Mx1 </th>
<th align="left" valign="top">Mx2 </th>
<th align="left" valign="top">Mx3 </th>
<th align="left" valign="top">Mx4 </th>
<th align="left" valign="top">Mx5 </th>
<th align="left" valign="top">Mx6 </th>
<th align="left" valign="top">Mx7 </th>
<th align="left" valign="top">Mx8 </th>
<th align="left" valign="top">Mx9</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center" valign="top"><p class="table"><em>00-09</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>10-19</em></p></td>
<td align="left" valign="top"><p class="table"><code>M10</code></p></td>
<td align="left" valign="top"><p class="table"><code>M11</code></p></td>
<td align="left" valign="top"><p class="table"><code>M12</code></p></td>
<td align="left" valign="top"><p class="table"><code>M13</code></p></td>
<td align="left" valign="top"><p class="table"><code>M14</code></p></td>
<td align="left" valign="top"><p class="table"><code>M15</code></p></td>
<td align="left" valign="top"><p class="table"><code>M16</code></p></td>
<td align="left" valign="top"><p class="table"><code>M17</code></p></td>
<td align="left" valign="top"><p class="table"><code>M18</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>20-29</em></p></td>
<td align="left" valign="top"><p class="table"><code>M20</code></p></td>
<td align="left" valign="top"><p class="table"><code>M21</code></p></td>
<td align="left" valign="top"><p class="table"><code>M22</code></p></td>
<td align="left" valign="top"><p class="table"><code>M23</code></p></td>
<td align="left" valign="top"><p class="table"><code>M24</code></p></td>
<td align="left" valign="top"><p class="table"><code>M25</code></p></td>
<td align="left" valign="top"><p class="table"><code>M26</code></p></td>
<td align="left" valign="top"><p class="table"><code>M27</code></p></td>
<td align="left" valign="top"><p class="table"><code>M28</code></p></td>
<td align="left" valign="top"><p class="table"><code>M29</code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>30-39</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code>M31</code></p></td>
<td align="left" valign="top"><p class="table"><code>M32</code></p></td>
<td align="left" valign="top"><p class="table"><code>M33</code></p></td>
<td align="left" valign="top"><p class="table"><code>M34</code></p></td>
<td align="left" valign="top"><p class="table"><code>M35</code></p></td>
<td align="left" valign="top"><p class="table"><code>M36</code></p></td>
<td align="left" valign="top"><p class="table"><code>M37</code></p></td>
<td align="left" valign="top"><p class="table"><code>M38</code></p></td>
<td align="left" valign="top"><p class="table"><code>M39</code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>40-49</em></p></td>
<td align="left" valign="top"><p class="table"><code>M40</code></p></td>
<td align="left" valign="top"><p class="table"><code>M41</code></p></td>
<td align="left" valign="top"><p class="table"><code>M42</code></p></td>
<td align="left" valign="top"><p class="table"><code>M43</code></p></td>
<td align="left" valign="top"><p class="table"><code>M44</code></p></td>
<td align="left" valign="top"><p class="table"><code>M45</code></p></td>
<td align="left" valign="top"><p class="table"><code>M46</code></p></td>
<td align="left" valign="top"><p class="table"><code>M47</code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>50-59</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code>M54</code></p></td>
<td align="left" valign="top"><p class="table"><code>M55</code></p></td>
<td align="left" valign="top"><p class="table"><code>M56</code></p></td>
<td align="left" valign="top"><p class="table"><code>M57</code></p></td>
<td align="left" valign="top"><p class="table"><code>M58</code></p></td>
<td align="left" valign="top"><p class="table"><code>M59</code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>60-69</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>70-79</em></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code></code></p></td>
<td align="left" valign="top"><p class="table"><code>M74</code></p></td>
<td align="left" valign="top"><p class="table"><code>M75</code></p></td>
<td align="left" valign="top"><p class="table"><code>M76</code></p></td>
<td align="left" valign="top"><p class="table"><code>M77</code></p></td>
<td align="left" valign="top"><p class="table"><code>M78</code></p></td>
<td align="left" valign="top"><p class="table"><code>M79</code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>80-89</em></p></td>
<td align="left" valign="top"><p class="table"><code>M80</code></p></td>
<td align="left" valign="top"><p class="table"><code>M81</code></p></td>
<td align="left" valign="top"><p class="table"><code>M82</code></p></td>
<td align="left" valign="top"><p class="table"><code>M83</code></p></td>
<td align="left" valign="top"><p class="table"><code>M84</code></p></td>
<td align="left" valign="top"><p class="table"><code>M85</code></p></td>
<td align="left" valign="top"><p class="table"><code>M86</code></p></td>
<td align="left" valign="top"><p class="table"><code>M87</code></p></td>
<td align="left" valign="top"><p class="table"><code>M88</code></p></td>
<td align="left" valign="top"><p class="table"><code>M89</code></p></td>
</tr>
<tr>
<td align="center" valign="top"><p class="table"><em>90-99</em></p></td>
<td align="left" valign="top"><p class="table"><code>M90</code></p></td>
<td align="left" valign="top"><p class="table"><code>M91</code></p></td>
<td align="left" valign="top"><p class="table"><code>M92</code></p></td>
<td align="left" valign="top"><p class="table"><code>M93</code></p></td>
<td align="left" valign="top"><p class="table"><code>M94</code></p></td>
<td align="left" valign="top"><p class="table"><code>M95</code></p></td>
<td align="left" valign="top"><p class="table"><code>M96</code></p></td>
<td align="left" valign="top"><p class="table"><code>M97</code></p></td>
<td align="left" valign="top"><p class="table"><code>M98</code></p></td>
<td align="left" valign="top"><p class="table"><code>M99</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Todos los códigos M de <code>M100</code> a` M199` ya son códigos M definidos por el usuario,
y no deben ser remapeados.</p></div>
<div class="paragraph"><p>Todos los códigos M de <code>M200</code> a` M999` están disponibles para la remapeado.</p></div>
</div>
<div class="sect2">
<h3 id="_tiempo_de_lectura_anticipada_y_tiempo_de_ejecución">14.4. tiempo de lectura anticipada y tiempo de ejecución</h3>
<div class="paragraph"><p>foo</p></div>
</div>
<div class="sect2">
<h3 id="_plugin_pickle_hack">14.5. plugin / pickle hack</h3>
<div class="paragraph"><p>foo</p></div>
</div>
<div class="sect2">
<h3 id="_módulo_métodos_clases_etc_referencia">14.6. Módulo, métodos, clases, etc. referencia.</h3>
<div class="paragraph"><p>foo</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introducción_extender_la_ejecución_de_tareas">15. Introducción: Extender la ejecución de tareas</h2>
<div class="sectionbody">
<div class="paragraph"><p>foo</p></div>
<div class="sect2">
<h3 id="_por_qué_quieres_cambiar_la_ejecución_de_tareas">15.1. ¿Por qué quieres cambiar la ejecución de tareas?</h3>
<div class="paragraph"><p>foo</p></div>
</div>
<div class="sect2">
<h3 id="_un_diagrama_tarea_interp_iocontrol_ui">15.2. Un diagrama: tarea, interp, iocontrol, UI (??)</h3>
<div class="paragraph"><p>foo</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_modelos_de_ejecución_de_tareas">16. Modelos de ejecución de tareas</h2>
<div class="sectionbody">
<div class="paragraph"><p>foo</p></div>
<div class="sect2">
<h3 id="_ejecución_tradicional_de_iocontrol_iocontrolv2">16.1. Ejecución tradicional de iocontrol / iocontrolv2</h3>
<div class="paragraph"><p>foo</p></div>
</div>
<div class="sect2">
<h3 id="_redefiniendo_procedimientos_de_io">16.2. Redefiniendo procedimientos de IO</h3>
<div class="paragraph"><p>foo</p></div>
</div>
<div class="sect2">
<h3 id="_procedimientos_de_python_en_tiempo_de_ejecución">16.3. Procedimientos de Python en tiempo de ejecución</h3>
<div class="paragraph"><p>foo</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_una_breve_inspección_de_la_ejecución_del_programa_linuxcnc">17. Una breve inspección de la ejecución del programa LinuxCNC</h2>
<div class="sectionbody">
<div class="paragraph"><p>Para comprender el remapeado de códigos, podría ser útil inspeccionar la
ejecución de task e intérprete en lo que se refiere al remapeado.</p></div>
<div class="sect2">
<h3 id="_estado_del_intérprete">17.1. Estado del intérprete</h3>
<div class="paragraph"><p>Conceptualmente, el estado del intérprete consiste en variables que entran en
las siguientes categorias:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
información de configuración (típicamente del archivo INI)
</p>
</li>
<li>
<p>
El <em>modelo mundial</em>: una representación del estado real de la máquina.
</p>
</li>
<li>
<p>
Estado modal y ajustes
</p>
</li>
<li>
<p>
estado de ejecución del intérprete
</p>
</li>
</ol></div>
<div class="paragraph"><p>(3) se refiere al estado que se "transfiere" entre la ejecución
de códigos NGC individuales: por ejemplo, una vez que el husillo está encendido y
la velocidad establecida, permanece en este ajuste hasta que se desactiva.
Lo mismo ocurre con muchos códigos, como alimentación, unidades, modos de movimiento (alimentación o
rápido) y así sucesivamente.</p></div>
<div class="paragraph"><p>(4) contiene información sobre el bloque actualmente ejecutado, ya sea que
esté en una subrutina, variables de intérprete, etc.</p></div>
<div class="paragraph"><p>La mayor parte de este estado se agrega en una, bastante poco sistemática,
<code>structure _setup</code> (vea interp_internals.hh).</p></div>
</div>
<div class="sect2">
<h3 id="_interacción_de_task_e_interpreter_puesta_en_cola_y_lectura_anticipada">17.2. Interacción de Task e Interpreter, puesta en cola y lectura anticipada</h3>
<div class="paragraph"><p>La parte Task de LinuxCNC es responsable de coordinar los comandos de máquina real
- movimiento, interacciones HAL y así sucesivamente. No lo hace por si misma
manejando el lenguaje RS274NGC. Task apela al
intérprete para analizar y ejecutar el siguiente comando, ya sea desde MDI o
el archivo actual.</p></div>
<div class="paragraph"><p>La ejecución del intérprete genera operaciones canónicas de máquina, que son las que
en realidad mueven algo. Estas, sin embargo, no se ejecutan de inmediato, sino que
se ponen en una cola. La ejecución real de estos códigos ocurre
en la parte Task de LinuxCNC: los comandos canonicos se extraen de la cola de intérprete
y se ejecutan, dando como resultado movimientos reales de la máquina.</p></div>
<div class="paragraph"><p>Esto significa que normalmente el intérprete está muy por delante de la
ejecución real de comandos: el análisis del programa bien podría haber
terminado antes de que comience cualquier movimiento notable. Este comportamiento es
llamado <em>lectura anticipada</em>.</p></div>
</div>
<div class="sect2">
<h3 id="_predecir_la_posición_de_la_máquina">17.3. Predecir la posición de la máquina</h3>
<div class="paragraph"><p>Para calcular de antemano las operaciones canónicas de la máquina durante la lectura anticipada,
el intérprete debe poder predecir la posición de la máquina después de
cada línea de Gcode, y eso no siempre es posible.</p></div>
<div class="paragraph"><p>Veamos un programa de ejemplo simple que hace movimientos relativos.
(G91), y supongamos que la máquina comienza en x = 0, y = 0, z = 0. Movimientos relativos
implica que el resultado del próximo movimiento se basa en la posición del
anterior:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">N10</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G91</span></span>
<span style="font-style: italic"><span style="color: #9A1900">N20</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">10</span> <span style="color: #FF6600">Y</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">5</span> <span style="color: #FF6600">Z</span><span style="color: #993399">20</span>
<span style="font-style: italic"><span style="color: #9A1900">N30</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G1</span></span> <span style="color: #FF6600">Y</span><span style="color: #993399">20</span> <span style="color: #FF6600">Z</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">5</span>
<span style="font-style: italic"><span style="color: #9A1900">N40</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">Z</span><span style="color: #993399">30</span>
<span style="font-style: italic"><span style="color: #9A1900">N50</span></span> <span style="font-weight: bold"><span style="color: #0000FF">M2</span></span></tt></pre></div></div>
<div class="paragraph"><p>Aquí el intérprete puede predecir claramente las posiciones de la máquina para cada línea:</p></div>
<div class="paragraph"><p>Después de N20: x = 10 y = -5 z = 20; después de N30: ​​x = 10 y = 15 z = 15; después de N40: x = 10 y = 15 z = 45</p></div>
<div class="paragraph"><p>y así pueden analizar todo el programa y generar operaciones canónicas
con mucha antelación</p></div>
</div>
<div class="sect2">
<h3 id="_el_destructor_de_colas_rompe_la_predicción_de_la_posición">17.4. El destructor de colas rompe la predicción de la posición</h3>
<div class="paragraph"><p>Sin embargo, la lectura adelantada completa solo es posible cuando
el intérprete puede predecir el impacto de la posición para <strong>cada</strong> línea en el
programa de antemano. Veamos un ejemplo modificado:</p></div>
<div class="listingblock">
<div class="content"><!-- Generator: GNU source-highlight 3.1.8
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre><tt><span style="font-style: italic"><span style="color: #9A1900">N10</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G91</span></span>
<span style="font-style: italic"><span style="color: #9A1900">N20</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">X</span><span style="color: #993399">10</span> <span style="color: #FF6600">Y</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">5</span> <span style="color: #FF6600">Z</span><span style="color: #993399">20</span>
<span style="font-style: italic"><span style="color: #9A1900">N30</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G38.3</span></span> <span style="color: #FF6600">Z</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">10</span>
<span style="font-style: italic"><span style="color: #9A1900">N40</span></span><span style="font-weight: bold"><span style="color: #000080"> O100 if</span></span> <span style="font-weight: bold"><span style="color: #000000">[</span></span><span style="color: #009900">#5070</span> <span style="font-weight: bold"><span style="color: #000000">EQ</span></span> <span style="color: #993399">0</span><span style="font-weight: bold"><span style="color: #000000">]</span></span>
<span style="font-style: italic"><span style="color: #9A1900">N50</span></span>    <span style="font-weight: bold"><span style="color: #0000FF">G1</span></span> <span style="color: #FF6600">Y</span><span style="color: #993399">20</span> <span style="color: #FF6600">Z</span><span style="font-weight: bold"><span style="color: #000000">-</span></span><span style="color: #993399">5</span>
<span style="font-style: italic"><span style="color: #9A1900">N60</span></span><span style="font-weight: bold"><span style="color: #000080"> O100 else</span></span>
<span style="font-style: italic"><span style="color: #9A1900">N70</span></span>    <span style="font-weight: bold"><span style="color: #0000FF">G0</span></span> <span style="color: #FF6600">Z</span><span style="color: #993399">30</span>
<span style="font-style: italic"><span style="color: #9A1900">N80</span></span><span style="font-weight: bold"><span style="color: #000080"> O100 endif</span></span>
<span style="font-style: italic"><span style="color: #9A1900">N90</span></span> <span style="font-weight: bold"><span style="color: #0000FF">G1</span></span> <span style="color: #FF6600">Z</span><span style="color: #993399">10</span>
<span style="font-style: italic"><span style="color: #9A1900">N95</span></span> <span style="font-weight: bold"><span style="color: #0000FF">M2</span></span></tt></pre></div></div>
<div class="paragraph"><p>Para pre-calcular el movimiento en N90, el intérprete debería saber
dónde está la máquina después de la línea N80, y eso depende de si el
comando de la sonda tuvo éxito o no, lo cual no se conoce hasta que en realidad se
ejecuta.</p></div>
<div class="paragraph"><p>Por lo tanto, algunas operaciones son incompatibles con una lectura anticipada. Estas
se llaman <em>busters de cola</em> (cazadores o destructores de colas), y son:</p></div>
<div class="ulist"><ul>
<li>
<p>
leer el valor de un pin HAL con M66: el valor del pin HAL no es predecible.
</p>
</li>
<li>
<p>
Cargar una nueva herramienta con M6: la geometría de la herramienta no es predecible.
</p>
</li>
<li>
<p>
ejecutar un sondeo con G38.n: la posición final y el éxito/fracaso no son predecibles.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_cómo_se_tratan_los_busters_de_cola">17.5. ¿Cómo se tratan los busters de cola?</h3>
<div class="paragraph"><p>Cada vez que el intérprete se encuentra con un destructor de colas, debe detener
la lectura anticipada y esperar hasta que el resultado relevante esté disponible. La manera
en que esto funciona es:</p></div>
<div class="ulist"><ul>
<li>
<p>
cuando se encuentra dicho código, el intérprete devuelve un
código de retorno especial a la tarea (<em>INTERP_EXECUTE_FINISH</em>).
</p>
</li>
<li>
<p>
este código de retorno señala a task la detencion de lectura anticipada por ahora, ejecutar
todos los comandos canónicos en cola acumulados hasta el momento (incluido el último,
que es el destructor de la cola), y luego <em>sincronizar
el estado del intérprete con el modelo universal</em>. Técnicamente, esto significa
actualizar variables internas para reflejar los valores de pines HAL, recargar geometrías de herramienta
después de un M6, y transmitir los resultados de una sonda.
</p>
</li>
<li>
<p>
El método <em>synch()</em> del intérprete es llamado por task y hace solo
eso - lee todos los valores <em>reales</em> del modelo universal que sean relevantes para la
posterior ejecución.
</p>
</li>
<li>
<p>
En este punto, task continúa y llama al intérprete para obtener más información por lectura
  adelantada - hasta que el programa finalice o se encuentre otro destructor de colas.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_orden_de_palabras_y_orden_de_ejecución">17.6. Orden de palabras y orden de ejecución</h3>
<div class="paragraph"><p>Una o varias <em>palabras</em> pueden estar presentes en un <em>bloque</em> NGC si son
compatibles (algunas se excluyen mutuamente y deben estar en diferentes
líneas). Sin embargo, el modelo de ejecución prescribe una ordenación estricta de
ejecución de códigos, independientemente de su aparición en la línea de origen.
(<a href="../gcode/overview_es.html#gcode:order-of-execution">Orden de ejecución de G-Code</a>).</p></div>
</div>
<div class="sect2">
<h3 id="_análisis">17.7. Análisis</h3>
<div class="paragraph"><p>Una vez que se lee una línea (en modo MDI o desde el archivo NGC actual),
se analiza y los indicadores y parámetros se configuran en una <em>estructura</em>
(struct _setup, member block1). Esta estructura contiene toda la información
sobre la línea de origen actual, pero independiente del orden diferente
de códigos en la línea actual: siempre que varios códigos sean compatibles,
cualquier orden fuente resultará en las mismas variables establecidas en el
bloque de estructura. Inmediatamente después del análisis, se comprueba la compatibilidad de
todos los códigos en un bloque.</p></div>
</div>
<div class="sect2">
<h3 id="_ejecución">17.8. Ejecución</h3>
<div class="paragraph"><p>Después de analizar con éxito, el bloque se ejecuta mediante execute_block(), y
aquí los diferentes elementos se manejan de acuerdo al orden de ejecución.</p></div>
<div class="paragraph"><p>Si se encuentra un "destructor de cola", se establece una marca correspondiente en el
estado del intérprete (toolchange_flag, input_flag, probe_flag) y el
intérprete devuelve un valor de retorno INTERP_EXECUTE_FINISH, señalizando
<em>Detener readahead por ahora, y volver a sincronizar</em> con el llamador (<em>task</em>).
Si no se encuentran busters de cola después de que se ejecutan todos los elementos, se devuelve INTERP_OK, lo que
indica que la lectura anticipada puede continuar.</p></div>
<div class="paragraph"><p>Cuando la lectura anticipada continúa después de la sincronización, task comienza a ejecutar
de nuevo las operaciones read() del intérprete. Durante la siguiente operación de lectura,
se comprueban los indicadores mencionados anteriormente y las variables correspondientes son
establecidas (porque se acaba de ejecutar un synch(), los valores son ahora los actuales.
Esto significa que el siguiente comando ya se ejecuta en el contexto de variables correctamente establecidas.</p></div>
</div>
<div class="sect2">
<h3 id="_ejecución_de_procedimientos">17.9. Ejecución de procedimientos</h3>
<div class="paragraph"><p>Los procedimientos de O-word complican un poco el manejo de los generadores de colas.
Un destructor de colas puede encontrarse en algún lugar en un procedimiento anidado, lo que resulta en una
llamada a procedimiento semiacabada cuando es devuelto INTERP_EXECUTE_FINISH.
Task se asegura de sincronizar el modelo universal y continua
 el análisis y ejecución siempre que haya un procedimiento en ejecución (call_level&gt; 0).</p></div>
</div>
<div class="sect2">
<h3 id="remap:how-tool-change-currently-works">17.10. Cómo funciona el cambio de herramienta actualmente</h3>
<div class="paragraph"><p>Las acciones que suceden en LinuxCNC están poco involucradas, pero son necesarias
para tener una idea general de lo que sucede actualmente antes de
adaptar esos trabajos a sus propias necesidades.</p></div>
<div class="paragraph"><p>Tenga en cuenta que la remapeado de un código existente desactiva completamente todo el procesamiento
interno de ese código. Eso significa que más allá del comportamiento deseado
- probablemente descrito a través de una Oword NGC o procedimiento Python,
necesita replicar esas acciones internas con el
intérprete, que juntos resultan en un reemplazo completo del
código existente. El código prolog y epilog es el lugar para hacer esto.</p></div>
<div class="paragraph"><div class="title">Cómo se comunica la información de la herramienta.</div><p>Varios procesos están <em>interesados</em> en la información de la herramienta: task y su
intérprete, así como la interfaz de usuario. Además, el proceso <em>halui</em>.</p></div>
<div class="paragraph"><p>La información de la herramienta se mantiene en la estructura <em>emcStatus</em>, que es
compartida por todas las partes. Uno de sus campos es la matriz <em>toolTable</em>,
que contiene la descripción cargada desde el archivo de tabla de herramientas (numero de herramienta,
diámetro, frontangle, backangle y orientación para torno, e información de compensación de la herramienta).</p></div>
<div class="paragraph"><p>La fuente autorizada y el único proceso en realidad que "configura" la información de herramienta
es esa estructura en el proceso <em>iocontrol</em>. Todos los otros
procesos solo consultan la estructura. El intérprete mantiene en realidad
una copia local de la tabla de herramientas.</p></div>
<div class="paragraph"><p>Para los curiosos, se puede acceder a la estructura actual de emcStatus mediante
<a href="remap_es.html#remap:executing-python-statements">sentencias de Python</a>.
La percepción del intérprete de la herramienta cargada actualmente, por ejemplo, es
accedida por:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>;py,from interpreter import *
;py,print this.tool_table[0]</code></pre>
</div></div>
<div class="paragraph"><p>Para ver los campos en la estructura global de emcStatus, intente esto:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>;py,from emctask import *
;py,print emcstat.io.tool.pocketPrepped
;py,print emcstat.io.tool.toolInSpindle
;py,print emcstat.io.tool.toolTable[0]</code></pre>
</div></div>
<div class="paragraph"><p>Debe tener LinuxCNC iniciado desde una ventana de terminal para ver los resultados.</p></div>
</div>
<div class="sect2">
<h3 id="_cómo_funciona_tx_prepare_tool">17.11. Cómo funciona Tx (Prepare Tool)</h3>
<div class="paragraph" id="remap:interpreter-action-on-t"><div class="title">Acción de intérprete en un comando Tx</div><p>Todo lo que hace el intérprete es evaluar el parámetro toolnumber, busca
su ranura correspondiente, lo recuerda en la variable <code>selected_pocket</code>
para más tarde, y pone en cola un comando canonico
(SELECT_POCKET). Consulte <em>Interp::convert_tool_select</em> en <em>src/emc/rs274/interp_execute.cc</em>.</p></div>
<div class="paragraph"><div class="title">Acción de Task en SELECT_POCKET</div><p>Cuando task maneja un SELECT_POCKET, envía un mensaje
EMC_TOOL_PREPARE al proceso iocontrol, que maneja la mayoría
de acciones relacionadas con herramientas en LinuxCNC.</p></div>
<div class="paragraph"><p>En la implementación actual, task realmente espera a que iocontrol
complete la operación de posicionamiento del cambiador, (que creo que no es necesario)
- esto rechaza la idea de que la preparación del cambiador y la ejecución del código pueden
proceder en paralelo.</p></div>
<div class="paragraph"><div class="title">Acción de iocontrol sobre EMC_TOOL_PREPARE</div><p>Cuando iocontrol ve el comando select pocket, hace el HAL relacionado
movimiento de pines - establece el pin "número de preparación de la herramienta" para indicar cuál
La herramienta es la siguiente, levanta el pin de "preparación de la herramienta" y espera a que
El pin "preparado por la herramienta" irá alto.</p></div>
<div class="paragraph"><p>Cuando el cambiador responde con "herramienta preparada", se considera completa
la fase de preparación y se señala a task tarea que
continue. (de nuevo, creo que esta <em>espera</em> no es estrictamente necesaria)</p></div>
<div class="paragraph"><div class="title">Construyendo prolog y epilog para Tx.</div><p>Vea las funciones de Python <code>prepare_prolog</code> y` prepare_epilog` en
<code>configs/sim/axis/remap/toolchange/python/toolchange.py</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_cómo_funciona_m6_cambio_de_herramienta">17.12. Cómo funciona M6 (cambio de herramienta)</h3>
<div class="paragraph"><p>Necesita entender esto completamente antes de poder adaptarlo. Es muy
relevante para escribir un controlador de prolog y epilog para un M6 reasignado.
Reasignar códigos existentes significa que se deshabilita los pasos internos
que se ejecutarian normalmente, y se deben replicar hasta donde sea necesario para sus propios
fines.</p></div>
<div class="paragraph"><p>Incluso si no está familiarizado con C, le sugiero que mire el
código <em>Interp::convert_tool_change</em> en
<em>src/emc/rs274/interp_convert.cc</em>.</p></div>
<div class="paragraph" id="remap:interpreter-action-on-m6"><div class="title">Acción del intérprete en un comando M6</div><p>Cuando el intérprete ve un M6, éste:</p></div>
<div class="olist arabic" id="remap:send-tool-load-msg"><ol class="arabic">
<li>
<p>
verifica si un comando T ya ha sido ejecutado (prueba si
<em>settings-&gt;selected_pocket</em> es &gt;= 0). y si falla da el mensaje <em>necesito
preparada -Txx- para  de cambio de herramientas</em>.
</p>
</li>
<li>
<p>
verifica que la compensación del cortador está activa y si es así, falla con el mensaje <em>No se puede
cambiar las herramientas con la compensación del radio de corte activa</em>.
</p>
</li>
<li>
<p>
detiene el husillo, excepto si se establece la opción "TOOL_CHANGE_WITH_SPINDLE_ON" en el ini.
</p>
</li>
<li>
<p>
genera un movimiento rápido de <em>Z up</em> si se establece la opción "TOOL_CHANGE_QUILL_UP" en el ini.
</p>
</li>
<li>
<p>
si se estableció TOOL_CHANGE_AT_G30:
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
mueve los indizadores A, B y C si corresponde
</p>
</li>
<li>
<p>
genera un movimiento rápido a la posición G30
</p>
</li>
</ol></div>
</li>
<li>
<p>
ejecuta un comando canonico CHANGE_TOOL, con el ranura seleccionada como
parámetro. CHANGE_TOOL puede:
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
generar un movimiento rápido a TOOL_CHANGE_POSITION si así lo establece el ini
</p>
</li>
<li>
<p>
encolar un mensaje EMC_TOOL_LOAD NML a task.
</p>
</li>
</ol></div>
</li>
<li>
<p>
Configura los parámetros numerados 5400-5413 de acuerdo con la nueva herramienta
</p>
</li>
<li>
<p>
señala a task que deje de llamar al intérprete para leer adelantadamente
devolviendo INTERP_EXECUTE_FINISH, ya que M6 es un destructor de colas.
</p>
</li>
</ol></div>
<div class="paragraph"><div class="title">Qué hace task cuando ve un comando CHANGE_TOOL</div><p>Nuevamente, no mucho más que pasar la carga a iocontrol enviándole
un mensaje EMC_TOOL_LOAD, y espera hasta que iocontrol haya realizado su
labor.</p></div>
<div class="olist arabic" id="remap:iocontrol-action-on-load"><div class="title">Acción de iocontrol tras EMC_TOOL_LOAD</div><ol class="arabic">
<li>
<p>
Establece el pin "tool-change"
</p>
</li>
<li>
<p>
espera a que el pin "tool-changed" se active
</p>
</li>
<li>
<p>
cuando eso ha sucedido:
</p>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
borra "tool-change"
</p>
</li>
<li>
<p>
coloca los pines "tool-prep-number" y "tool-prep-pocket" a cero.
</p>
</li>
<li>
<p>
ejecuta la función <em>load_tool()</em> con la ranura como parámetro.
</p>
</li>
</ol></div>
</li>
</ol></div>
<div class="paragraph"><p>El último paso realmente establece las entradas de herramientas en la estructura <em>emcStatus</em>.
La acción real tomada depende de si la opción ini RANDOM_TOOLCHANGER se estableció, pero al final del proceso
<em>toolTable[0]</em> refleja la herramienta que se encuentra actualmente en el husillo.</p></div>
<div class="paragraph"><p>Cuando eso ha sucedido:</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
iocontrol señala a task que puede seguir adelante
</p>
</li>
<li>
<p>
task le dice al intérprete que ejecute una operación <em>synch()</em>, para actualizar
los cambios.
</p>
</li>
<li>
<p>
<em>synch()</em> del intérprete extrae toda la información necesaria del modelo universal,
entre ellos la tabla de herramientas cambiada.
</p>
</li>
</ol></div>
<div class="paragraph"><p>A partir de ahí, el intérprete tiene un conocimiento completo del modelo universal
y continúa con la lectura adelantada.</p></div>
<div class="paragraph"><div class="title">Construyendo prolog y epilog para M6.</div><p>Ver las funciones de Python <code>change_prolog</code> y` change_epilog` en
<code>configs/sim/axis/remap/toolchange/python/toolchange.py</code>.</p></div>
</div>
<div class="sect2">
<h3 id="_cómo_funciona_m61_cambiar_número_de_herramienta">17.13. Cómo funciona M61 (Cambiar número de herramienta)</h3>
<div class="paragraph"><p>M61 requiere un parámetro <code>Q</code> no negativo (número de herramienta). Si es cero,
significa <em>descargar herramienta</em>; si no, es <em>establecer el número de la herramienta actual en Q</em>.</p></div>
<div class="paragraph"><div class="title">Construyendo el reemplazo para M61</div><p>Un ejemplo de redefinición de Python para M61 se puede encontrar en la
función <code>set_tool_number</code> en
<code>configs/sim/axis/remap/toolchange/python/toolchange.py</code>.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cambios">18. Cambios</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
el método para devolver mensajes de error y fallo solía ser
  <em>self.set_errormsg(texto)</em> seguido de <em>return INTERP_ERROR</em>. Esto
  ha sido reemplazado simplemente devolviendo una cadena desde un manejador de Python
  o subrutina oword. Esto establece el mensaje de error y aborta el
  programa. Anteriormente no había una forma clara de abortar una subrutina de palabra O de Python
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_depuración">19. Depuración</h2>
<div class="sectionbody">
<div class="paragraph"><p>En la sección <em>[EMC]</em> del archivo ini, el parámetro <em>DEBUG</em> se puede cambiar para
obtener varios niveles de mensajes de depuración cuando LinuxCNC se inicia desde un terminal.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>Nivel de depuración, 0 significa que no hay mensajes. Vea src/emc/nml_intf/debugflags.h para otros.
DEBUG = 0x00000002 # configuración
DEBUG = 0x7FFFDEFF # no interp, oword
DEBUG = 0x00008000 # solo py
DEBUG = 0x0000E000 # py + remap + Oword
DEBUG = 0x0000C002 # py + remap + config
DEBUG = 0x0000C100 # py + remap + Intérprete
DEBUG = 0x0000C140 # py + remap + Intérprete + NML msgs
DEBUG = 0x0000C040 # py + remap + NML
DEBUG = 0x0003E100 # py + remap + Intérprete + oword + señales + namedparams
DEBUG = 0x10000000 # EMC_DEBUG_USER1 - declaraciones de rastreo
DEBUG = 0x20000000 # EMC_DEBUG_USER2 - captura en el depurador de Python
DEBUG = 0x10008000 # USER1, PYTHON
DEBUG = 0x30008000 # USER1, USER2, PYTHON # USER2 hará que la involuta intente conectarse a pydev
DEBUG = 0x7FFFFFFF # Todos los mensajes de depuración</code></pre>
</div></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2022-11-24 07:38:35 MST
</div>
</div>
</body>
</html>
