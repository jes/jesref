<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="es">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.10" />
<title>Asistente de configuracion Stepconf</title>
<link rel="stylesheet" href="..//asciidoc.css" type="text/css" />


<link rel="stylesheet" href="..//linuxcnc.css" type="text/css" />
<script type="text/javascript" src="..//asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>Asistente de configuracion Stepconf</h1>
<div id="toc">
  <div id="toctitle">Tabla de contenidos</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="cha:stepconf-wizard">1. Introduccion</h2>
<div class="sectionbody">
<div class="paragraph"><p>LinuxCNC es capaz de controlar una amplia variedad de tipos diferentes de maquinaria,
utilizando diferentes interfaces de hardware.</p></div>
<div class="paragraph"><p>Stepconf es un programa que genera archivos de configuracion para LinuxCNC
para un tipo especifico de maquina CNC:
aquellas que son controladas a traves de un <em>puerto paralelo estandar</em>, y
utilizan las señales <em>Paso y Direccion</em></p></div>
<div class="paragraph"><p>Stepconf se instala automaticamente cuando se instala LinuxCNC; se encuentra en el menu CNC. El
asistente genera un archivo en el directorio ~/linuxcnc/config
en el cual guarda las opciones de cada configuracion que usted genere.
Cuando se desea cambia algo, se necesita seleccionar el archivo
cuyo nombre coincida con la configuracion que desea modificar.
La extension del archivo es <strong>.stepconf</strong>.</p></div>
<div class="paragraph"><p>El asistente Stepconf necesita una resolucion de pantalla de al menos 800 x 600
para que los botones de la parte baja de la pantalla sean visibles.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_pagina_de_entrada_a_id_sec_entry_page_a">2. Pagina de entrada<a id="sec:Entry-Page"></a></h2>
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/stepconf-start_1_es.png" alt="Pagina inicial" />
</div>
<div class="title">Figura 1. Pagina inicial<a id="cap:init-Page"></a></div>
</div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/stepconf-start_2_es.png" alt="Pagina de entrada" />
</div>
<div class="title">Figura 2. Pimera Pagina<a id="cap:Entry-Page"></a></div>
</div>
<div class="paragraph"><p>Los tres primeros botones radio son autoexplicativos:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Crear una nueva configuración</em> -
    Crea una configuracion nueva.
</p>
</li>
<li>
<p>
<em>Modificar una configuracion ya creada&#8230;</em> -
    Modifica una configuracion existente.
    Despues de seleccionar esta opcion, aparecera una pantalla de seleccion de archivo
    y usted debera seleccionar el archivo con extension .stepconf que desea modificar.
    Si usted relizo alguna modificacion previa a los archivos principales .hal o .ini, estas modificaciones se perderan.
    Las modificaciones en los archivos custom.hal y custom_postgui.hal no seran canbiadas por el
    asistente Stepconf. Stepconf resaltara la ultima configuracion que se construyo.
</p>
</li>
<li>
<p>
<em>Importar un archivo Mach</em> -
    Despues de seleccionar esta opcion, aparecera una pantalla de seleccion de archivo.
    Seleccione un archivo de configuración de Mach; LinuxCNC intentará convertirlo en un archivo de configuración
    apropiado para si mismo.
    Después de la importación, pase por las páginas de stepconf para confirmar/modificar las entradas.
    El archivo mach xml original no se cambiará.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Las siguientes opciones se registrarán en un archivo de preferencias para la próxima ejecución de Stepconf.</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Crear Atajo en Escritorio</em> -
    Se generara en su escritorio un enlace a los archivos.
</p>
</li>
<li>
<p>
<em>Crear un Lanzador en Escritorio</em> -
    Se generara un lanzador en su escritorio para iniciar la aplicacion.
</p>
</li>
<li>
<p>
<em>Crear Hardware Simulado</em> -
    Permite crear configuraciones para pruebas,
    incluso sin tener el hardware apropiado.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_informacion_basica_a_id_sec_basic_information_a">3. Informacion Basica<a id="sec:Basic-Information"></a></h2>
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/stepconf-base_es.png" alt="Informacion Basica" />
</div>
<div class="title">Figura 3. Informacion Basica<a id="cap:Basic-Information-Page"></a></div>
</div>
<div class="ulist"><ul>
<li>
<p>
<em>Nombre de la maquina</em> -
    
    Seleccione un nombre para su maquina.
    Utilice solo letras mayusculas, minusculas, digitos, <em>-</em> y <em>_</em>.
</p>
</li>
<li>
<p>
<em>Configuracion de Ejes</em> -
    
    Seleccione XYZ (Fresadora), XYZA (Fresadora de 4 ejes) o XZ (Torno).
</p>
</li>
<li>
<p>
<em>Unidades Maquina</em> -
    
    Seleccione pulgadas o milimetros. Todas las preguntas posteriores
    (tales como el largo de los ejes, el paso de los tornillos, etc)
    deberan ser contestadas utilizando las unidades seleccionadas.
</p>
</li>
<li>
<p>
<em>Tipo de Driver</em> -
    
    Si usted tiene uno de los controladores de motor a pasos listados en el menu desplegable, seleccionelo directamente.
    En cualquier otro caso, busque los 4 valores de tiempo necesarios.
    Utilize los manuales de su controlador y rellene los campos.
    Si sus manuales le dan los datos en microsegundos multipliquelos por 1000 para nanosegundos.
    Por ejemplo, si el manual marca 4.5 us, escriba 4500 ns.
</p>
</li>
</ul></div>
<div class="paragraph"><p>En la pagina wiki de LinuxCNC.org puede ser consultada una lista de controladores populares, asi como sus tiempos, en  <a href="http://wiki.linuxcnc.org/cgi-bin/emcinfo.pl?Stepper_Drive_Timing">Temporizado de Drivers Stepper</a>.</p></div>
<div class="paragraph"><p>El acondicionamiento extra de señal o el aislamiento electrico, como cuando se usan optoacopladores y
filtros RC en tarjetas breakboards,
pueden requerir diferentes valores de tiempo a los indicados para su controlador.
Puede ser el caso que se requiera agregar tiempo extra a los valores de temporizacion para compensar los filtros o aislamientos.
La seccion de seleccion de configuracion tiene maquinas de la marca Sherline ya configuradas para su uso en caso de que posea una de estas.</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Step Time</em> -
    Tiempo del pulso de paso "Encendido" en nanosegundos.
</p>
</li>
<li>
<p>
<em>Step Space</em> -
    Tiempo minimo entre dos pulsos de paso en nanosegundos.
</p>
</li>
<li>
<p>
<em>Direction Hold</em> -
    Tiempo que debe ser mantenido activo el pin de direccion despues de ordenar cambio de direccion, en nanosegundos.
</p>
</li>
<li>
<p>
<em>Direction Setup</em> -
    Tiempo debe preceder a un cambio de direccion despues del ultimo pulso de paso en la direccion anterior.
</p>
</li>
<li>
<p>
<em>Primer Parport</em> -
    Usualmente la direcion en hexadecimal del primer puerto paralelo es 0x378 (puerto no PCI).
</p>
</li>
<li>
<p>
<em>Segundo Parport</em> -
    En caso de ser necesario especificar un puerto paralelo extra, introduca la direccion
    y el tipo. Para informacion de como encontrar la direccion de puertos paralelos PCI
    vea la seccion Port Address en el manual de integrador (trate con 0x278 o 0x3BC para puertos no PCI)
</p>
</li>
<li>
<p>
<em>Maximo Jitter en Periodo Base</em> -
    
    Introduzca el resultado de la prueba de latencia.
    Para correr la prueba de latencia presione el boton "Test Jitter Periodo Base".
    Vea la seccion de la prueba de latencia para mas detalles.
</p>
</li>
<li>
<p>
<em>Tasa Max de Pasos</em> -
    
    Stepconf calculara automaticamente la tasa maxima de pulsos de pasos
    basandose en las caracteristicas del controlador del motor y en el resultado de la prueba de latencia.
</p>
</li>
<li>
<p>
<em>Periodo Base Mínimo</em> -
    
    Stepconf calculara automaticamente el periodo base minimo
    basandose en las caracteristicas del controlador del motor y el resultado de la prueba de latencia.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_prueba_de_latencia_a_id_sub_latency_test_a">4. Prueba de latencia<a id="sub:latency-test"></a></h2>
<div class="sectionbody">
<div class="paragraph"><p>Mientras se ejecute la prueba, usted debera <em>abusar</em> de la computadora. Mueva
ventanas alrededor de la pantalla. Navegue en internet. Copie algunos archivos de gran tamano
en diferentes partes del disco duro. Reproduzca musica. Corra algun programa OpenGl como glxgears.
La idea es poner a la computadora en apuros mientras se ejecuta la prueba para poder tener una idea de
cuales seran los peores casos de demanda a la computadora y sus tiempo de respuesta.
Ejecute la prueba al menos unos cuantos minutos. Contra mas tiempo la ejecute, mas probable es que detecte
casos especiales que solo suceden en intervalos poco frecuentes. Esta prueba es solo para
la computadora; no se requiere que conecte los controladores de motores.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Aviso</div>
</td>
<td class="content">No ejecute LinuxCNC mientras realiza la prueba de latencia.</td>
</tr></table>
</div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/latency-test_en.png" alt="Prueba de Latencia" />
</div>
<div class="title">Figura 4. Prueba de Latencia</div>
</div>
<div class="paragraph"><p>La latencia es el tiempo que le tomara a una PC concreta detener lo que esta haciendo
y responder a una solicitud externa. En este caso, la solicitud es
el <em>latido periodico</em> que sirve como referencia de tiempo
para la genracion de los pulsos de paso.
Cuanto menor sea la latencia, mas rapido se generaran los latidos,
y mas rapidos y suaves seran los pulsos de paso.</p></div>
<div class="paragraph"><p>La latencia es mucho mas importante que la velocidad de la CPU. La velocidad
de la CPU no es el unico factor determinate en la latencia. La placa madre, tarjetas de video, puertos
USB, problemas con SMI, y otras cosas pueden afectar la latencia.</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">Troubleshooting SMI Issues (LinuxCNC.org Wiki)</div>
<div class="paragraph"><p>Encuentre aqui soluciones a algunos problemas de SMI y tiempo real comunes en Ubuntu</p></div>
<div class="paragraph"><p><a href="http://wiki.linuxcnc.org/cgi-bin/emcinfo.pl?FixingSMIIssues">http://wiki.linuxcnc.org/cgi-bin/emcinfo.pl?FixingSMIIssues</a></p></div>
</div></div>
<div class="paragraph"><p>El numero importante es el "Jitter Maximo". En el ejemplo, 9075
nanosegundos, o 9.075 microsegundos, es el maximo retraso.
Guarde este numero, y escribalo en el recuadro Jitter Maximo del Periodo Base.</p></div>
<div class="paragraph"><p>Si el maximo retraso  se encuentra entre 15-20 microsegundos o menor
(15000-20000 nanosegundos), la computadora deberia dar muy buenos resultados
con la generacion de pulsos de pasos. Si la latencia maxima esta entre 30-50
microsegundos, se pueden seguir obteniendo buenos resultados, pero la tasa
maxima de generacion de pulsos puede ser un poco decepcionante, especialmente si se usan
micropasos o un tornillo con un paso muy fino. Si los numeros son
100us o mas (100 000 nanosegundos), la PC no es una buena candidata para la generacion
de pulsos de paso por software. Numeros superiores a 1 milisegundo (1 000 000 nanosegundos)
significan que la PC no es una buena candidata para ejecutar LinuxCNC, sin importar si se
usa generacion de pulsos de paso por software o no.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_ajustes_del_puerto_paralelo_a_id_sec_parallel_port_setup_a">5. Ajustes del puerto Paralelo<a id="sec:Parallel-Port-Setup"></a></h2>
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/stepconf-parallel-1_es.png" alt="Pagina de ajuste del Puerto Paralelo 1" />
</div>
<div class="title">Figura 5. Pagina de ajuste del Puerto Paralelo<a id="cap:Parallel-Port-Setup"></a></div>
</div>
<div class="paragraph"><p>Para cada pin se debera seleccionar la señal de control
que concuerde con la configuracion del puerto.</p></div>
<div class="paragraph"><p>Active la casilla "invert" si la señal de control requiere
ser invertida (0V para activo/Verdadero, 5v para inactivo/Falso)</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Esquemas de pines predefinidos</em> -
   Se configuraran automaticamente los pines del 2 al 9 de acuerdo al estandar
   de las maquinas Sherline (Direccion en los pines 2, 4, 6, 8) o Xylotex (Direccion en los
   pines 3, 5, 7, 9).
</p>
</li>
<li>
<p>
<em>Entradas y Salidas</em> -
    Si el pin no sera utilizado como entrada o salida, seleccionarlo como "Sin uso".
</p>
</li>
<li>
<p>
<em>Señal de Paro Externo (E stop)</em> -
    Esta señal pude ser seleccionada en la casilla desplegable.
    Una cadena de señal de paro tipica utiliza solo contactos en serie normalmente cerrados.
</p>
</li>
<li>
<p>
'Posicion home y limites de seguridad (Homing &amp; Limit Switches) -
    Estos pines pueden ser seleccionados para la mayoria de las configuraciones
    utilizando la casilla desplegable.
</p>
</li>
<li>
<p>
<em>Bomba de Carga (Charge Pump)</em> -
    Si su controlador de motor requiere de una señal de bomba de carga,
    simplemente seleccione esta opcion de la lista desplegable y conecte la señal
    al pin seleccionado.
    La salida de la bomba de carga sera conectada a la tarea base por el programa Stepconf.
    La salida de bomba de carga sera aproximadamente 1/2 de la maxima tasa de generacion
    de pulsos de paso mostrados en la pagina de configuracion basica.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_configuracion_del_puerto_paralelo_2">6. Configuracion del puerto paralelo 2</h2>
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/stepconf-parallel-2_es.png" alt="Página de configuración del puerto paralelo 2" />
</div>
<div class="title">Figura 6. Página de configuración del puerto paralelo 2</div>
</div>
<div class="paragraph"><p>El segundo puerto paralelo (si está seleccionado) puede configurarse y asignar sus pines en esta página.<br />
No se pueden seleccionar señales de paso y dirección.<br />
Puede seleccionarlo de entrada o de salida para maximizar el número de pines de entrada/salida que están disponibles.<br />
Puede especificar la dirección como hexadecimal (a menudo 0x378) o como el número de puerto predeterminado de Linux (probablemente 1).</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_opciones">7. Opciones</h2>
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/stepconf-options_es.png" alt="Configuración avanzada" />
</div>
<div class="title">Figura 7. Configuracion avanzada</div>
</div>
<div class="ulist"><ul>
<li>
<p>
<em>Incluir Halui</em>: esto agregará el componente de interfaz de usuario Halui. Ver el
<a href="../gui/halui_es.html#cha:hal-user-interface">Capitulo HALUI</a> para más información.
</p>
</li>
<li>
<p>
<em>Incluir pyVCP</em>: esta opción agrega el archivo base del panel pyVCP o un archivo ejemplo
para trabajar en el. Ver el <a href="../gui/pyvcp_es.html#cha:pyvcp">Capítulo PyVCP</a> para más información.
</p>
</li>
<li>
<p>
<em>Incluir ClassicLadder PLC</em> - Esta opción agregará el PLC ClassicLadder
(Controlador lógico programable). Ver el
<a href="../ladder/classic-ladder_es.html#cha:classicladder">Capitulo Classicladder</a> para más información.
</p>
</li>
<li>
<p>
<em>Indicador en pantalla para cambio de herramienta</em> - Si esta casilla está marcada, LinuxCNC
para y le pide que cambie la herramienta cuando se encuentre <em>M6</em>. Esta característica
generalmente solo es útil si tiene herramientas predimensionadas.
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_configuracion_de_los_ejes_a_id_sec_axis_configuration_a">8. Configuracion de los Ejes<a id="sec:Axis-Configuration"></a></h2>
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/stepconf-axis-x_es.png" alt="Pagina de configuracion de ejes" />
</div>
<div class="title">Figura 8. Pagina de configuracion de ejes<a id="cap:Axis-Configuration-Page"></a></div>
</div>
<div class="ulist"><ul>
<li>
<p>
<em>Pasos del motor por revolucion</em> (Motor Steps Per Revolution) -
    
    El numero de pasos completos por revolucion del motor.
    Si solo se tiene el dato de los grados por paso del motor (ejemplo 1.8 grados),
    se debe dividir 360 por el numero de grados por paso
    para encontrar el numero de pasos por revolucion.
</p>
</li>
<li>
<p>
<em>Micro pasos</em> (Driver Microstepping) -
    
    El numero de micropasos producidos por el controlador por cada paso fisico completo del motor.
    Entre "2" para semipasos.
    Por ejemplo, si el controlador produce 1/10 de giro de un paso completo
    del motor por cada pulso de paso que recibe, escriba 10 en la casilla.
</p>
</li>
<li>
<p>
<em>Relacion de Poleas</em> (Pulley Ratio) -
    
    Si su maquina tiene poleas o engranes entre el motor y el tornillo,
    escriba su relacion mecanica aqui. Si no tiene, escriba "1:1".
</p>
</li>
<li>
<p>
<em>Paso del tornillo</em> (Leadscrew Pitch) -
    
    Entre aqui el paso del tornillo.
    Si se selecciono unidades "Inch", entre el numero de
    hilos por pulgada (por ejemplo, 8 para un tornillo de 8 TPI).
    Si se tiene un tornillo con varias entradas, se necesita saber
    cuantas vueltas se requieren para mover la tuerca una pulgada.
    Si se selecciono <em>mm</em> como unidades, entre el numero de milimetros que la tuerca
    se movera por revolucion (ejemplo, 2 para 2 mm/rev).
    Si la maquina se mueve en la direccion opuesta a la esperada,
    entre un valor negativo, o invierta el pin de direccion del eje.
</p>
</li>
<li>
<p>
<em>Velocidad Maxima</em> (Maximum Velocity) -
    
    Entre la velocidad maxima del eje, en unidades por segundo.
</p>
</li>
<li>
<p>
'Aceleracion Maxima (Maximum Acceleration) -
    
    El valor correcto de esta casilla solo puede ser determinado
    por experimentacion. Vea
    &lt;&lt;sub:finding-maximum-velocity,Encontrar Velocidad Maxima para ajustar la velocidad, y
    &lt;&lt;sub:finding-maximum-acceleration,Encontrar Velocidad Maxima para ajustar la aceleracion.
</p>
</li>
<li>
<p>
<em>Posicion Home</em> (Home Location) -
    
    Home es la posicion a la que la maquina se movera despues de completar
    el procedimiento de inicio del eje.
    Para maquinas sin interruptores de posicion home,
    esta es la posicion a la cual el operador debera mover la maquina
    antes de presionar el boton de inicializacion del eje (Home).
    Si se combinan interruptores home y de limite,
    se debera mover la maquina fuera del interruptor para inicializar el eje
    o se recibira un error de limite en el eje.
</p>
</li>
<li>
<p>
<em>Carrera de la mesa</em> (Table Travel) -
    
    El rango de carrera que el codigo g no podra sobrepasar.
    La posicion de inicializacion del eje debe estar dentro del area de carrera.
    En particular, tener la posicion de inicializacion (Home) de un eje exactamente
    en un limite del area de carrera, producira una configuracion invalida.
</p>
</li>
<li>
<p>
<em>Localizacion de los interruptores home</em> (Home Switch Location) -
    
    La posicion en la cual el interruptor home se activa o desactiva,
    relativa al origen maquina. Este apartado y los dos siguientes
    solo apareceran cuando se selecciona la existencia de interruptores home
    en la configuracion de los pines del puerto paralelo. Si se combinan los
    interruptores de limite y de home, la posicion del interruptor home
    no puede ser la misma que la posicion home o se producira un error de limite de articulacion.
</p>
</li>
<li>
<p>
<em>Velocidad de busqueda de home</em> (Home Search Velocity) -
    
    Velocidad usada en la busqueda de los interruptores home.
    Si el interruptor se encuentra cercano al limite de carrera del eje,
    esta velocidad debe ser seleccionada de tal forma que el eje tenga
    suficiente tiempo para desacelerar hasta detenerse antes de llegar al
    limite fisico de la carrera.
    Si el interruptor se encuentra cerrado en un rango corto de carrera,
    (en lugar de estar cerrado desde el punto de disparo hasta un final de carrera),
    la velocidad debera ser seleccionada de tal forma que el eje pueda desacelerar
    hasta detenerse antes de que el interruptor se habra otra vez, y el procedimiento
    de homing debera comenzarse siempre desde el mismo lado del interruptor.
    Si la maquina se mueve en la direccion contraria al inicio del homing,
    cambie el signo del parametro <strong>Home Search Velocity</strong>.
</p>
</li>
<li>
<p>
<em>Direccion de enclavamiento</em> (Home Latch Direction) -
    
    Seleccione "Igual" para que el interruptor sea liberado
    y posteriormente la maquina se acerque a el a muy baja velocidad.
    La segunda vez que el interruptor se cierre, definira la posicion home.
    Seleccione "Opuesto" para realizar la inializacion liberando lentamente el interruptor;
    cuando el interruptor se abra, se marcara la posiocion home.
</p>
</li>
<li>
<p>
<em>Tiempo para acelerar hasta maxima velocidad</em> (Time to accelerate to max speed) -
    
    Tiempo calculado a partir de <em>Max Acceleration</em> y <em>Max Velocity</em>.
</p>
</li>
<li>
<p>
<em>Distancia para acelerar hasta maxima velocidad</em> (Distance to accelerate to max speed) -
    
    Distancia para alcanzar maxima velocidad desde posicion de parado.
</p>
</li>
<li>
<p>
<em>Tasa de pulsos a maxima velocidad</em> (Pulse rate at max speed) -
    
    Este dato se calcula en base a los valores anteriores.
    El valor maximo de la <strong>Tasa</strong> determina el <em>BASE_PERIOD</em>.
    Valores por encima de 20000Hz pueden producir tiempos de respuesta muy bajos o incluso bloqueos
    (La tasa maxima varia entre computadoras)
</p>
</li>
<li>
<p>
<em>Escala del Eje</em> (Axis SCALE) -
    El numero que sera usado en el archivo ini en la seccion [SCALE].
    Representa cuantos pasos se deben dar por unidad de usuario.
</p>
</li>
<li>
<p>
<em>Probar este Eje</em> (Test this axis) -
    
    Esta opcion abre una ventana para permitir probar cada eje
    y puede ser utilizada despues de llenar toda la informacion referente a cada eje.
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_probar_este_eje">8.1. Probar este eje</h3>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/stepconf-x-test_es.png" alt="Probar este Eje" />
</div>
<div class="title">Figura 9. Probar este eje</div>
</div>
<div class="paragraph"><p>Es un comprobador básico que solo emite señales de paso y dirección
para probar diferentes valores de aceleración y velocidad.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Importante</div>
</td>
<td class="content">Para utilizar la prueba de este eje, debe habilitar manualmente el eje si se requiere.
Si su controlador tiene una bomba de carga, tendrá que derivarla.
Probar el eje no reacciona a las entradas del interruptor de límite. Usar con precaución.</td>
</tr></table>
</div>
<div class="paragraph" id="sub:finding-maximum-velocity"><div class="title">Encontrar la velocidad máxima</div><p>Comience con una baja aceleración


(por ejemplo, <strong><code>2 pulgadas/s<sup>2</sup></code></strong> o <strong><code>50 mm/s<sup>2</sup></code></strong>)
y la velocidad que espera alcanzar.
Usando los botones provistos, mueva el eje hasta cerca del centro de su carrera.
Tenga cuidado, porque con un bajo valor de aceleración puede recorrerse una distancia
sorprendentemente larga hasta que el eje desacelere completamente y pare.</p></div>
<div class="paragraph"><p>Después de calcular la cantidad de carrera disponible,
ingrese una distancia segura en el Área de prueba, teniendo en cuenta que
después de un bloqueo, el motor puede comenzar a moverse en una dirección inesperada.
Luego haga clic en Ejecutar.
La máquina comenzará a avanzar y retroceder a lo largo de este eje.
En esta prueba, es importante que la combinación de aceleración y
área de prueba permita que la máquina alcance la velocidad seleccionada y la mantenga
al menos una corta distancia: cuanto mayor sea la distancia, mejor será esta prueba.
La fórmula <strong><code>d=0.5 * v * v/a</code></strong>

da la distancia mínima requerida para alcanzar la
velocidad especificada con la aceleración dada.
Si es conveniente y seguro hacerlo,
empuje la mesa contra la dirección del movimiento para simular las fuerzas de corte.
Si la máquina se para, reduzca la velocidad y comience nuevamente la prueba.</p></div>
<div class="paragraph"><p>Si la máquina no se paró, haga clic en el botón <em>Run</em> para parar. El eje
vuelve ahora a la posición donde comenzó. Si la posición es incorrecta,
el eje se estancó o perdió pasos durante la prueba. Reduzca la velocidad y comiencela
otra vez.</p></div>
<div class="paragraph"><p>Si la máquina no se mueve, se detiene o pierde pasos, incluso a baja
velocidad, verifique lo siguiente:</p></div>
<div class="ulist"><ul>
<li>
<p>
Corregir los tiempos de onda de paso
</p>
</li>
<li>
<p>
Pinout correcto, incluyendo <em>Invert</em> en los pines de paso
</p>
</li>
<li>
<p>
Cableado correcto y bien protegido
</p>
</li>
<li>
<p>
Problemas físicos con el motor, acoplamiento del motor, husillo, etc.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Una vez que haya encontrado una velocidad a la que el eje no se detiene o pierde pasos
durante este procedimiento de prueba, reducirlo en un 10% y usarlo como
<em>Velocidad máxima</em> del eje.</p></div>
<div class="paragraph"><p><a id="sub:finding-maximum-acceleration"></a></p></div>
<div class="paragraph"><div class="title">Encontrar la máxima aceleración</div><p>Con la velocidad máxima que encontro en el paso anterior,
ingrese el valor de aceleración a probar.
Usando el mismo procedimiento anterior,
ajuste el valor de Aceleración hacia arriba o hacia abajo según sea necesario.
En esta prueba, es importante que la combinación de
aceleración y área de prueba permitan que la máquina alcance la velocidad seleccionada.
Una vez que haya encontrado un valor en el que el eje
no se detiene ni pierde pasos durante este procedimiento de prueba,
reducirlo en un 10% y usarlo como  Aceleración máxima del eje.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuracion_del_husillo">9. Configuracion del husillo</h2>
<div class="sectionbody">
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/stepconf-spindle_es.png" alt="Página de configuración del husillo" />
</div>
<div class="title">Figura 10. Página de configuración del husillo</div>
</div>
<div class="paragraph"><p>Esta página solo aparece cuando se selecciona <em>Spindle PWM</em> en
la página <em>Pin Portout Parallel</em> para una de las salidas.</p></div>
<div class="sect2">
<h3 id="_control_de_velocidad_del_eje">9.1. Control de velocidad del eje</h3>
<div class="paragraph"><p>Si <em>Spindle PWM</em> aparece en el pinout,
debe aportarse la siguiente información:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>PWM Rate</em> - La <em>frecuencia portadora</em> de la señal PWM al husillo. Entrar
<em>0</em> para el modo PDM, que es útil para generar un voltaje de control analógico.
Consulte la documentación de su controlador de husillo para conocer el valor apropiado.
</p>
</li>
<li>
<p>
<em>Speed 1 y 2, PWM 1 y 2</em>: el archivo de configuración generado utiliza una
relación lineal simple para determinar el valor PWM para un valor RPM dado. Si los
valores no se conocen, se pueden determinar. Para más información, ver
<a href="stepconf_es.html#sub:determining-spindle-calibration">determinación de la calibración del husillo</a>.
</p>
</li>
</ul></div>
</div>
<div class="sect2">
<h3 id="_movimiento_sincronizado_con_el_husillo">9.2. Movimiento sincronizado con el husillo</h3>
<div class="paragraph"><p>Cuando las señales apropiadas de un encoder de husillo están conectadas a
LinuxCNC a través de HAL, LinuxCNC admite el roscado en torno.
Estas señales son:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Índice del husillo</em> - Es un pulso que ocurre <em>una vez por revolución</em> del husillo.
</p>
</li>
<li>
<p>
<em>Fase A del husillo</em> - Este es un pulso que ocurre en múltiples ubicaciones,
igualmente espaciadas, a medida que gira el husillo.
</p>
</li>
<li>
<p>
<em>Fase B del husillo (opcional)</em> - Este es un segundo pulso, pero con
un desplazamiento de la fase A del husillo. Las ventajas de usar tanto A como B son
detección de dirección, mayor inmunidad al ruido y mayor resolución.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Si aparecen <em>Fase A de husillo</em> e <em>Índice de husillo</em>
en el pinout, se debe ingresar la siguiente información:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>Usar Spindle-At-Speed</em> - Con la retroalimentación del encoder se puede hacer que linuxcnc
espere a que el husillo alcance la velocidad ordenada antes de que se mueva la alimentación. Seleccione esta
opción y establezca la escala <em>close enough</em>.
</p>
</li>
<li>
<p>
<em>Ganancia del filtro de pantalla de velocidad</em> - Configuración para ajustar la estabilidad de la
visualización de la velocidad del husillo.
</p>
</li>
<li>
<p>
<em>Ciclos por revolución</em> - El número de ciclos de la señal A del husillo
durante una revolución. Esta opción solo está habilitada cuando
una entrada se ha configurado como <em>Fase A del husillo</em>
</p>
</li>
<li>
<p>
<em>Velocidad máxima en roscado</em> - La velocidad máxima del husillo utilizada en el roscado.
Para un husillo de altas RPM o un encóder de husillo con alta resolución, es obligatorio un valor bajo
de <em>BASE_PERIOD</em> .
</p>
</li>
</ul></div>
<div class="paragraph"><p><a id="sub:determining-spindle-calibration"></a></p></div>
</div>
<div class="sect2">
<h3 id="_determinacion_de_la_calibracion_del_husillo">9.3. Determinacion de la calibracion del husillo</h3>
<div class="paragraph"><p>Ingrese los siguientes valores en la página Configuración del husillo:</p></div>
<div class="tableblock">
<table rules="all"
width="80%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="25%" />
<col width="25%" />
<col width="25%" />
<col width="25%" />
<tbody>
<tr>
<td align="left" valign="top"><p class="table">Velocidad 1:</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
<td align="left" valign="top"><p class="table">PWM 1:</p></td>
<td align="left" valign="top"><p class="table">0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">Velocidad 2:</p></td>
<td align="left" valign="top"><p class="table">1000</p></td>
<td align="left" valign="top"><p class="table">PWM 2:</p></td>
<td align="left" valign="top"><p class="table">1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>Termine los pasos restantes del proceso de configuración,
luego, inicie LinuxCNC con su configuración.
Encienda la máquina y seleccione la pestaña MDI.
Inicie el giro del husillo ingresando: <em>M3 S100</em>.
Cambie la velocidad del husillo ingresando un número S diferente: <em>S800</em>.
Los números válidos (en este momento) van de 1 a 1000.</p></div>
<div class="paragraph"><p>Para dos números S diferentes, mida la velocidad real del eje en RPM.
Registre los números S y las velocidades reales del eje. Ejecute Stepconf nuevamente.
Para <em>Velocidad</em>, ingrese la velocidad medida, y
para <em>PWM</em> ingrese el número S dividido entre 1000.</p></div>
<div class="paragraph"><p>Ya que la mayoría de los controladores de husillo son ligeramente no lineales en sus
curvas de respuesta, lo mejor es:</p></div>
<div class="ulist"><ul>
<li>
<p>
Asegúrese de que las dos velocidades de calibración no estén demasiado juntas en RPM
</p>
</li>
<li>
<p>
Asegúrese de que las dos velocidades de calibración estén en el rango de velocidades que
típicamente usará durante el fresado
</p>
</li>
</ul></div>
<div class="paragraph"><p>Por ejemplo, si su husillo va de 0 RPM a 8000 RPM,
pero generalmente usa velocidades de 400 RPM (10%) a 4000 RPM (100%),
encuentre los valores de PWM que dan 1600 RPM (40%) y 2800 RPM (70%).</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuracion_de_la_maquina_completa">10. Configuracion de la maquina completa</h2>
<div class="sectionbody">
<div class="paragraph"><p>Haga clic en <em>Aplicar</em> para escribir los archivos de configuración.
Más tarde, puede volver a ejecutar este programa y ajustar la configuración que ingresó antes.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_recorrido_de_eje_y_home">11. Recorrido de eje y home</h2>
<div class="sectionbody">
<div class="paragraph"><p>Para cada eje, hay un rango limitado de recorrido.
El final físico del recorrido se llama <em>parada dura o hard</em>.</p></div>
<div class="paragraph"><p>Antes de la "parada dura" hay un "interruptor de límite".
Si se encuentra el interruptor de límite durante la operación normal,
LinuxCNC apaga el amplificador de motor.
La distancia entre la "parada dura" y el "interruptor de límite"
debe ser lo suficientemente larga como para permitir que un motor sin alimentacion se detenga.</p></div>
<div class="paragraph"><p>Antes del <em>interruptor de límite</em> hay un <em>límite suave o soft</em>.
Este es un límite impuesto en el software después de home.
Si un comando MDI o un programa de código g superara el límite soft, no se ejecutará.
Si un desplazamiento pasa el límite suave, se detiene en el límite suave.</p></div>
<div class="paragraph"><p>El <em>interruptor home</em> se puede colocar en cualquier lugar dentro del recorrido (entre paradas duras).
Siempre que el hardware externo no desactive los amplificadores de motor
cuando se alcanza el interruptor de límite, uno de los interruptores de límite
puede ser utilizado como un interruptor home.</p></div>
<div class="paragraph"><p>La <em>posición cero</em> es la ubicación en el eje que es 0 en
el sistema de coordenadas de la máquina.
Por lo general, la "posición cero" estará dentro de los "límites suaves".
En los tornos, el modo de velocidad de superficie constante requiere que <em>X = 0</em> en la máquina
corresponda al centro de rotación del husillo cuando no está activo el offset de la herramienta.</p></div>
<div class="paragraph"><p>La <em>posición home</em> es la ubicación dentro del recorrido a la que el eje
sera movido al final de la secuencia de home.
Este valor debe estar dentro de los "límites suaves".
En particular, la <em>posición home</em>
nunca debe ser exactamente igual a un <em>límite suave</em>.</p></div>
<div class="sect2">
<h3 id="_operando_sin_interruptores_de_limite">11.1. Operando sin interruptores de limite</h3>
<div class="paragraph"><p>Una máquina puede ser operada sin interruptores de límite. En este caso, solo
los límites suaves impiden que la máquina alcance la parada dura.
Los límites suaves solo funcionan después de que la máquina ha sido puesta a home.</p></div>
</div>
<div class="sect2">
<h3 id="_operando_sin_switches_home_a_id_sub_operating_without_home_a">11.2. Operando sin Switches Home<a id="sub:Operating-without-Home"></a></h3>
<div class="paragraph"><p></p></div>
<div class="paragraph"><p>Una máquina puede operarse sin interruptores home.
Si la máquina tiene interruptores de límite, pero no hay interruptores home,
lo mejor es utilizar un interruptor de límite como el interruptor home
(Por ejemplo, elija <em>Límite mínimo + Home X</em> en el pinout).
Si la máquina no tiene interruptores, o los
interruptores de límite no pueden ser utilizados como interruptores de inicio por otra razón, entonces
la máquina debe ponerse <em>a ojo</em> en home o usando marcas de coincidencia. Homing a ojo
no es tan repetible como el home por interruptores, pero aún permite que los
límites suaves sean de utilidad.</p></div>
</div>
<div class="sect2">
<h3 id="_opciones_de_cableado_del_interruptor_de_home_y_de_limite">11.3. Opciones de cableado del interruptor de home y de limite</h3>
<div class="paragraph"><p>El cableado ideal para interruptores externos sería de una entrada por interruptor.
Sin embargo, el puerto paralelo de PC solo ofrece un total de 5 entradas,
mientras que hay hasta 9 interruptores en una máquina de 3 ejes.
En cambio, múltiples interruptores pueden conectarse entre sí en varias
formas para que se requiera un menor número de entradas.</p></div>
<div class="paragraph"><p>Las siguientes figuras muestran la idea general de cablear múltiples interruptores
a un solo pin de entrada.
En cada caso, cuando se activa un interruptor,
el valor visto en ENTRADA va de lógica ALTA a BAJA.
Sin embargo, LinuxCNC espera un valor VERDADERO cuando se cierra un interruptor,
por lo que el correspondiente cuadro <em>Invert</em>
debe verificarse en la página de configuración del pinout.
El resistor pull-up que se muestra en los diagramas mantiene la entrada alta
hasta que se realice la conexión a tierra y la entrada pasa a baja.
Sin resistencia, la entrada puede flotar entre encendido y apagado cuando el circuito está abierto.
Normalmente, para un puerto paralelo, puede usar resistencias de 47k.</p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Interruptores normalmente cerrados
</p>
</li>
</ol></div>
<div class="paragraph"><p>Cableado de interruptores N/C en serie (diagrama simplificado)</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/switch-nc-series-es.png" alt="Interruptores normalmente cerrados" />
</div>
</div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Interruptores normalmente abiertos
</p>
</li>
</ol></div>
<div class="paragraph"><p>Cableado de interruptores de N/O en paralelo (diagrama simplificado)</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/switch-no-parallel-es.png" alt="Interruptores normalmente abiertos" />
</div>
</div>
<div class="paragraph"><p>Las siguientes combinaciones de interruptores están permitidas en Stepconf:</p></div>
<div class="ulist"><ul>
<li>
<p>
Combinar los interruptores de home para todos los ejes
</p>
</li>
<li>
<p>
Combinar los interruptores de límite para todos los ejes
</p>
</li>
<li>
<p>
Combinar ambos interruptores de límite para un eje
</p>
</li>
<li>
<p>
Combinar ambos interruptores de límite y el interruptor de home para un eje
</p>
</li>
<li>
<p>
Combinar un interruptor de límite y el interruptor de home para un eje
</p>
</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2022-11-24 07:38:35 MST
</div>
</div>
</body>
</html>
