<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.10" />
<title>NGCGUI</title>
<link rel="stylesheet" href="..//asciidoc.css" type="text/css" />


<link rel="stylesheet" href="..//linuxcnc.css" type="text/css" />
<script type="text/javascript" src="..//asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>NGCGUI</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock" id="cha:ngcgui" style="text-align:center;">
<div class="content">
<img src="images/ngcgui.png" alt="images/ngcgui.png" />
</div>
<div class="title">Figure 1. NGCGUI incrustado en Axis</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_descripción_general">1. Descripción general</h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
<em>NGCGUI</em> es una aplicación Tcl para trabajar con subrutinas. Permite
  tener una interfaz conversacional con LinuxCNC. Puede organizar las
  subrutinas en el orden en que las necesite para ejecutarlas y concatenarlas
  en un archivo para completar un programa.
</p>
</li>
<li>
<p>
<em>NGCGUI</em> puede ejecutarse como una aplicación independiente o puede integrarse en
   múltiples páginas de pestañas en la GUI Axis
</p>
</li>
<li>
<p>
<em>PYNGCGUI</em> es una implementación Python alternativa de ngcgui.
</p>
</li>
<li>
<p>
<em>PYNGCGUI</em> puede ejecutarse como una aplicación independiente o puede integrarse     como una página de pestañas (con su propio conjunto de múltiples pestañas de subrutinas) en cualquier GUI que admita incrustación de aplicaciones; gladevcp axis, touchy, gscreen y gmoccapy.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Usando NGCGUI o PYNGCGUI:</p></div>
<div class="ulist"><ul>
<li>
<p>
Se proporcionan pestañas para cada subrutina especificada en el archivo INI
</p>
</li>
<li>
<p>
Se pueden agregar nuevas pestañas de subrutinas sobre la marcha usando
  <a href="ngcgui_es.html#ngcgui-ini">pestañas personalizadas</a>
</p>
</li>
<li>
<p>
Cada pestaña de subrutina proporciona cuadros de entrada para todos los parámetros de la subrutina
</p>
</li>
<li>
<p>
Los cuadros de entrada pueden tener un valor predeterminado y una etiqueta que
  se identifican por comentarios especiales en el archivo de subrutina
</p>
</li>
<li>
<p>
Las invocaciones de subrutina se pueden concatenar juntas para formar un  programa de múltiples pasos
</p>
</li>
<li>
<p>
Se puede usar cualquier subrutina de código G de un solo archivo que se ajuste a las convenciones ngcgui
</p>
</li>
<li>
<p>
Se pueden usar cualquier programa gcmc (G code-meta-compiler) que se ajuste a las convenciones ngcgui para etiquetar variables (el ejecutable gcmc debe estar instalado por separado, ver: <a href="http://www.vagrearg.org/content/gcmc">http://www.vagrearg.org/content/gcmc</a>)
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">NGCGUI y PYNGCGUI implementan las mismas funciones y ambas procesan archivos .ngc y .gcmc que se ajusten a algunas convenciones específicas de ngcgui. En este documento, el término <em>NGCGUI</em> generalmente se refiere a cualquier aplicación.</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuraciones_de_demostración">2. Configuraciones de demostración</h2>
<div class="sectionbody">
<div class="paragraph"><p>Varias configuraciones de demostración se encuentran en el directorio sim
de configuraciones de muestra que ofrece el selector de configuración LinuxCNC. El selector de configuración está en el menú principal del sistema:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>CNC&gt; LinuxCNC</code></pre>
</div></div>
<div class="paragraph"><p>Se incluyen ejemplos para Axis, touchy, gscreen y gmoccapy.
Estos ejemplos muestran configuraciones cartesianas de 3 ejes (XYZ) (como fresadoras) y configuraciones de torno (XZ). Algunos ejemplos muestran el uso de un
teclado emergente para sistemas de pantalla táctil y otros ejemplos muestran el uso de archivos creados por la aplicación gcmc.
Los ejemplos de touchy también muestran la incorporación de un visor de backplot gladevcp (gremlin_view).</p></div>
<div class="paragraph"><p>La aplicación más simple se encuentra como:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Configuraciones de muestra/sim/axis/ngcgui/ngcgui_simple</code></pre>
</div></div>
<div class="paragraph"><p>Un ejemplo completo que muestra la compatibilidad con gcmc está en:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Configuraciones de muestra/sim/axis/ngcgui/ngcgui_gcmc</code></pre>
</div></div>
<div class="paragraph"><p>Un ejemplo completo integrado como una aplicación gladevcp y usando gcmc está en:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Configuraciones de muestra/sim/gscreen/ngcgui/pyngcgui_gcmc</code></pre>
</div></div>
<div class="paragraph"><p>Las configuraciones sim de ejemplo utilizan archivos de biblioteca que proporcionan
ejemplo de archivos de subrutina de código G (.ngc) y archivos de metacompilador de código G (.gcmc):</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>nc_files/ngcgui_lib</em>
</p>
<div class="ulist"><ul>
<li>
<p>
<em>arc1.ngc</em> - arco básico con compensación del radio del cortador
</p>
</li>
<li>
<p>
<em>arc2.ngc</em> - arco dado por centro, offset, ancho, ángulo (llama a arc1)
</p>
</li>
<li>
<p>
<em>backlash.ngc</em> - rutina para medir el backlash de eje con un indicador
</p>
</li>
<li>
<p>
<em>db25.ngc</em>: crea un recorte de conector DB25
</p>
</li>
<li>
<p>
<em>gosper.ngc</em> - una demostración de recursión (Flownake)
</p>
</li>
<li>
<p>
<em>helix.ngc</em> -  corte de hélice o con agujero en D
</p>
</li>
<li>
<p>
<em>helix_rtheta.ngc</em> - hélice o agujero en D colocado por radio y ángulo
</p>
</li>
<li>
<p>
<em>hole_circle.ngc</em> - agujeros igualmente espaciados en un círculo
</p>
</li>
<li>
<p>
<em>ihex.ngc</em> - hexágono interno
</p>
</li>
<li>
<p>
<em>iquad.ngc</em> - cuadrilátero interno
</p>
</li>
<li>
<p>
<em>ohex.ngc</em> - fuera del hexágono
</p>
</li>
<li>
<p>
<em>oquad.ngc</em> - cuadrilátero exterior
</p>
</li>
<li>
<p>
<em>qpex_mm.ngc</em> - demostración de qpockets (basado en mm)
</p>
</li>
<li>
<p>
<em>qpex.ngc</em> - demostración de qpockets (basado en pulgadas)
</p>
</li>
<li>
<p>
<em>qpocket.ngc</em> - bolsillo cuadrilátero
</p>
</li>
<li>
<p>
<em>rectangle_probe.ngc</em> - sondea un área rectangular
</p>
</li>
<li>
<p>
<em>simp.ngc</em> - un ejemplo de subrutina simple que crea dos círculos
</p>
</li>
<li>
<p>
<em>slot.ngc</em> - ranura desde la conexión de dos puntos finales
</p>
</li>
<li>
<p>
<em>xyz.ngc</em> - ejercitador de máquina limitado a una forma de caja
</p>
</li>
</ul></div>
</li>
<li>
<p>
<em>nc_files/ngcgui_lib/lathe</em>
</p>
<div class="ulist"><ul>
<li>
<p>
<em>g76base.ngc</em> - interfaz gráfica de usuario para g76 threading
</p>
</li>
<li>
<p>
<em>g76diam.ngc</em> - subprocesos especificados por diámetros mayores y menores
</p>
</li>
<li>
<p>
<em>id.ngc</em> - perfora el diámetro interior
</p>
</li>
<li>
<p>
<em>od.ngc</em> - gira el diámetro exterior
</p>
</li>
<li>
<p>
<em>taper-od.ngc</em> - gira un cono en el diámetro exterior
</p>
</li>
</ul></div>
</li>
<li>
<p>
<em>nc_files/gcmc_lib</em>
</p>
<div class="ulist"><ul>
<li>
<p>
<em>drill.gcmc</em>: perfora agujeros en el patrón rectangular
</p>
</li>
<li>
<p>
<em>square.gcmc</em>: demostración simple de etiquetas variables para archivos gcmc
</p>
</li>
<li>
<p>
<em>star.gcmc</em>: demostración de gcmc que ilustra funciones y matrices
</p>
</li>
<li>
<p>
<em>wheels.gcmc</em>: demostración de gcmc de patrones complejos
</p>
</li>
</ul></div>
</li>
</ul></div>
<div class="paragraph"><p>Para probar una demostración, seleccione una configuración sim y comience linuxCNC.</p></div>
<div class="paragraph"><p>Si utiliza la interfaz gráfica de usuario Axis, presione <em>E-Stop</em>
<span class="image">
<img src="images/tool_estop.png" alt="images/tool_estop.png" />
</span> luego <em>Encender Máquina</em>
<span class="image">
<img src="images/tool_power.png" alt="images/tool_power.png" />
</span> luego <em>Home Todo</em>. Elija una pestaña ngcgui, complete
cualquier espacio en blanco vacío con valores razonables y presione
<em>Crear función</em> y luego <em>Finalizar</em>. Finalmente presione <em>Ejecutar</em>
<span class="image">
<img src="images/tool_run.png" alt="images/tool_run.png" />
</span> para ver cómo se ejecuta. Experimentar
creando múltiples características y características de diferentes páginas de pestañas.</p></div>
<div class="paragraph"><p>Para crear varias subrutinas concatenadas en un solo archivo, vaya a cada pestaña
complete los espacios en blanco, presione <em>Crear función</em> y luego, con las teclas de flecha, mueva las pestañas necesarias para ponerlas en orden. Ahora presione <em>Finalizar</em> y responda el mensaje para crear.</p></div>
<div class="paragraph"><p>Otras guis tendrán una funcionalidad similar pero los botones y nombres pueden ser diferentes.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Notas</div>
<div class="paragraph"><p>Las configuraciones de demostración crean páginas con pestañas solo para algunos ejemplos. Cualquier interfaz gráfica de usuario con una <a href="ngcgui_es.html#ngcgui-ini">pestaña personalizada</a> puede abrir cualquiera de las subrutinas de bibliotecas de ejemplo o cualquier archivo de usuario si está en el path de la subrutina linuxCNC.</p></div>
<div class="paragraph"><p>Para ver las combinaciones de teclas especiales, haga clic dentro de una página de pestaña ngcgui para obtener foco y luego presione Control-k.</p></div>
<div class="paragraph"><p>Las subrutinas de demostración deben ejecutarse en configuraciones de máquina simuladas incluidas en la distribución. El usuario siempre debe comprender el comportamiento y el propósito de un programa antes de correrlos en una máquina real.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ubicaciones_de_la_biblioteca">3. Ubicaciones de la biblioteca</h2>
<div class="sectionbody">
<div class="paragraph"><p>En las instalaciones de linuxCNC desde paquetes deb, las configuraciones de simulación ngcgui usan enlaces simbólicos a bibliotecas LinuxCNC que no se pueden escribir por el usuario para:</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>nc_files/ngcgui_lib</em> subfiles compatibles con ngcgui
</p>
</li>
<li>
<p>
<em>nc_files/ngcgui_lib/lathe</em> subfiles de torno compatibles con ngcgui
</p>
</li>
<li>
<p>
<em>nc_files/gcmc_lib</em> programas compatibles con ngcgui-gcmc
</p>
</li>
<li>
<p>
<em>nc_files/ngcgui_lib/utilitysubs</em> Subrutinas de ayuda
</p>
</li>
<li>
<p>
<em>nc_files/ngcgui_lib/mfiles</em> Archivos M de usuario
</p>
</li>
</ul></div>
<div class="paragraph"><p>Estas bibliotecas están ubicadas por elementos de archivo ini que especifican las rutas de búsqueda utilizadas por linuxCNC (y ngcgui):</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[RS274NGC]
SUBROUTINE_PATH = ../../nc_files/ngcgui_lib:../../nc_files/gcmc_lib:../../nc_files/ngcgui_lib/utilitysubs
USER_M_PATH = ../../nc_files/ngcgui_lib/mfiles</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Estas son líneas largas (no continúan en varias líneas) que especifican los directorios utilizados en un path de búsqueda. Los nombres de directorio están separados por dos puntos (:). No hay espacio entre los nombres de directorio.</td>
</tr></table>
</div>
<div class="paragraph"><p>Un usuario puede crear nuevos directorios para sus propias subrutinas y
M-files y agréguelos a la(s) ruta(s) de búsqueda.</p></div>
<div class="paragraph"><p>Por ejemplo, un usuario podría crear directorios desde la terminal con los comandos:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>mkdir /home/myusername/mysubs
mkdir /home/myusername/mymfiles</code></pre>
</div></div>
<div class="paragraph"><p>Y luego crear o copiar los archivos proporcionados por el sistema a estos directorios que el usuario puede escribir. Por ejemplo, un usuario puede crear un subfile compatible con ngcgui llamado:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>/home/myusername/mysubs/example.ngc</code></pre>
</div></div>
<div class="paragraph"><p>Para usar archivos en nuevos directorios, el archivo ini debe editarse para incluir los nuevos subarchivos y para aumentar la(s) ruta(s) de búsqueda. Para este ejemplo:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[RS274NGC]
...
SUBROUTINE_PATH = /home/myusername/mysubs:../../nc_files/ngcgui_lib:../../nc_files/gcmc_lib:../../nc_files/ngcgui_lib/utilitysubs
USER_M_PATH = /home/myusername/mymfiles:../../nc_files/ngcgui_lib/mfiles

[DISPLAY]
...
NGCGUI_SUBFILE = example.ngc
...</code></pre>
</div></div>
<div class="paragraph"><p>LinuxCNC (y ngcgui) usan el primer archivo encontrado al buscar en directorios en la ruta de búsqueda. Con este comportamiento, puede reemplazar un subfile ngcgui_lib colocando un subfile con un nombre idéntico en un directorio que se encuentre anteriormente en la ruta de busqueda. Se puede encontrar más información en el capítulo INI del Manual de integradores.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_uso_independiente">4. Uso independiente</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_ngcgui_independiente">4.1. NGCGUI independiente</h3>
<div class="paragraph"><p>Para su uso, escriba un terminal:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>ngcgui --help
Uso:
  ngcgui --help | -?
  ngcgui [Opciones] -D nc_files_directory_name
  ngcgui [Opciones] -i LinuxCNC_inifile_name
  ngcgui [Opciones]

  Opciones:
       [-S subrutina_archivo]
       [-p preámbulo]
       [-P archivo_epílogo]
       [-o archivo_salida]
       [-a autosend_file]            (autosend al eje predeterminado: auto.ngc)
       [--noauto]                    (sin autosend al eje)
       [-N | --nom2]                 (sin terminador m2 (use%))
       [--font [big|small|fontspec]] (predeterminado: "Helvetica -10 normal")
       [--horiz | --vert]            (predeterminado: --horiz)
       [--cwidth comment_width]      (ancho del campo de comentario)
       [--vwidth varname_width]      (ancho del campo varname)
       [--quiet]                     (menos comentarios en outfile)
       [--noiframe]                  (predeterminado: el cuadro muestra la imagen)</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Como aplicación independiente, ngcgui maneja un único archivo de subrutina que
se puede invocar varias veces. Se puede iniciar múltiples aplicaciones ngcgui independientes.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_pyngcgui_independiente">4.2. PYNGCGUI independiente</h3>
<div class="paragraph"><p>Para su uso, escriba en un terminal:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>pyngcgui --help
Uso:
pyngcgui [Opciones] [sub_archivo]
Opciones que requieren valores:
    [-d | --demo] [0|1|2] (0: demo de nivel superior independiente)
                          (1: DEMO incrustar nuevo cuaderno)
                          (2: DEMO incrustado en el cuaderno existente)
    [-S | --subfile sub_filename]
    [-p | - preamble preamble_filename]
    [-P | --postamble postamble_filename]
    [-i | --ini nombre_infiltro]
    [-a | --autofile auto_filename]
    [-t | --test testno]
    [-K | --keyboardfile glade_file] (use el archivo glade popupkeyboard personalizado)
Opciones solas:
    [-v | --verbose]
    [-D | --debug]
    [-N | --nom2] (sin terminador m2 (use%))
    [-n | --noauto] (guardar pero no enviar resultados automáticamente)
    [-k | --keyboard] (use popupkeybaord predeterminado)
    [-s | --sendtoaxis] (envía el archivo ngc generado a la gui axis)
Notas:
      Un conjunto de archivos se compone de un preámbulo, subarchivo y epílogo.
      El preámbulo y el epílogo son opcionales.
      Se puede especificar un conjunto de archivos desde cmdline.
      Se pueden especificar múltiples conjuntos de archivos desde un inifile.
      Si --ini NO se especifica:
         busque un linuxCNC en ejecución y use su inifile</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Como aplicación independiente, pyngcgui puede leer un archivo ini (o una aplicación linuxCNC ejecutandose) para crear páginas con pestañas para múltiples subarchivos.</td>
</tr></table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_incrustar_ngcgui">5. Incrustar NGCGUI</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_incrustar_ngcgui_en_axis">5.1. Incrustar NGCGUI en Axis</h3>
<div class="paragraph"><p>Los siguientes elementos del archivo INI van en la sección [DISPLAY]. (Ver a continuación secciones adicionales para items adicionales necesarios)</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>TKPKG = Ngcgui 1.0</em> - el paquete NGCGUI
</p>
</li>
<li>
<p>
<em>TKPKG = Ngcguittt 1.0</em>: el paquete True Type Tracer para generar texto
   para grabar (opcional, debe seguir TKPKG = Ngcgui).
</p>
</li>
<li>
<p>
<em>TTT = truetype-tracer</em>: nombre del programa truetype tracer (debe estar en la RUTA del usuario)
</p>
</li>
<li>
<p>
<em>TTT_PREAMBLE = in_std.ngc</em> - Opcional, especifica el nombre del archivo para el preámbulo utilizado para subfiles ttt creados. (alternativo: mm_std.ngc)
</p>
</li>
</ul></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Los elementos opcionales del trazador truetype se utilizan para especificar una página de pestaña compatible con ngcgui que usa la aplicación truetype-tracer. La aplicación truetype-tracer debe ser instalada de forma independiente y ubicada en la RUTA del usuario.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_incrustar_pyngcgui_como_una_pestaña_gladevcp_en_una_gui">5.2. Incrustar PYNGCGUI como una pestaña gladevcp en una GUI</h3>
<div class="paragraph"><p>Los siguientes elementos del archivo INI van en la sección [DISPLAY] para usar con Axis, gscreen o touchy. (Consulte las secciones adicionales a continuación para obtener información adicional)</p></div>
<div class="literalblock">
<div class="title">Items EMBED_</div>
<div class="content">
<pre><code>EMBED_TAB_NAME = Pyngcgui - nombre que aparecerá en la pestaña incrustada
EMBED_TAB_COMMAND = gladevcp -x {XID} pyngcgui_axis.ui - invoca gladevcp
EMBED_TAB_LOCATION = nombre_de_ubicación - donde se encuentra la página incrustada</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">El especificador EMBED_TAB_LOCATION no se usa para la GUI Axis. Mientras
Pyngcgui se puede incrustar en Axis, la integración es más completa cuando se usa
ngcgui (usando TKPKG = Ngcgui 1.0). Para especificar EMBED_TAB_LOCATION para otras guis, vea <a href="../config/ini-config_es.html#sec:display-section">Sección DISPLAY</a> del Capítulo de configuración INI
.</td>
</tr></table>
</div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">La gui front-end truetype tracer no está disponible actualmente para aplicaciones gladevcp.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="ngcgui-ini">5.3. Items adicionales del archivo INI necesarios para ngcgui o pyngcgui</h3>
<div class="paragraph"><p>Los siguientes elementos del archivo INI van en la sección [DISPLAY] para cualquier gui  que incorpore ngcgui o pyngcgui.</p></div>
<div class="ulist"><ul>
<li>
<p>
<em>NGCGUI_FONT = Helvetica -12 normal</em> - especifica el nombre de la fuente, tamaño, normal|negrita
</p>
</li>
<li>
<p>
<em>NGCGUI_PREAMBLE = in_std.ngc</em>: el archivo de preámbulo que se agregará delante del subrutinas. Al concatenar varias invocaciones de subrutinas comunes, este preámbulo solo se agrega una vez. Para máquinas basadas en mm, use mm_std.ngc
</p>
</li>
<li>
<p>
<em>NGCGUI_SUBFILE = filename1.ngc</em> - crea una pestaña a partir de la subrutina filename1
</p>
</li>
<li>
<p>
<em>NGCGUI_SUBFILE = filename2.ngc</em> - crea una pestaña a partir de la subrutina filename2
</p>
</li>
<li>
<p>
<em>&#8230; etc.</em>
</p>
</li>
<li>
<p>
<em>NGCGUI_SUBFILE = gcmcname1.gcmc</em> - crea una pestaña desde el archivo gcmcname1
</p>
</li>
<li>
<p>
<em>NGCGUI_SUBFILE = gcmcname2.gcmc</em> - crea una pestaña desde el archivo gcmcname2
</p>
</li>
<li>
<p>
<em>&#8230; etc.</em>
</p>
</li>
<li>
<p>
<em>NGCGUI_SUBFILE = ""</em> - crea una pestaña personalizada que puede abrir cualquier subrutina en la ruta de búsqueda
</p>
</li>
<li>
<p>
<em>NGCGUI_OPTIONS = opt1 opt2 &#8230;</em> - Opciones de NGCGUI
</p>
<div class="ulist"><ul>
<li>
<p>
<em>nonew</em> - no permitir hacer una nueva pestaña personalizada
</p>
</li>
<li>
<p>
<em>noremove</em> - no permitir eliminar ninguna pestaña
</p>
</li>
<li>
<p>
<em>noauto</em> - sin envío automático (use makeFile, luego guarde o envíe manualmente)
</p>
</li>
<li>
<p>
<em>noiframe</em> - sin imagen interna, muestra imágenes en un widget de nivel superior separado
</p>
</li>
<li>
<p>
<em>nom2</em> - Esta opción elimina todos los efectos secundarios de la terminación m2
</p>
</li>
</ul></div>
</li>
<li>
<p>
<em>GCMC_INCLUDE_PATH = dirname1:dirname2</em> - busca directorios para archivos include de gcmc
Este es un ejemplo de NGCGUI incrustado en Axis. Las subrutinas deben estar en un directorio especificado por [RS274NGC]SUBROUTINE_PATH. En algun ejemplo las subrutinas usan otras subrutinas, así que asegúrese de tener las dependencias, si las hay, en un directorio SUBROUTINE_PATH. Algunas subrutinas pueden usar archivos M personalizados que deben estar en un directorio especificado por [RS274NGC]USER_M_PATH.
</p>
</li>
</ul></div>
<div class="paragraph"><p>Gcode-meta-compiler (gcmc) puede incluir declaraciones como:
  include ("filename.inc.gcmc");
Por defecto, gcmc incluye el directorio actual que, para linuxCNC, será
el directorio que contiene el archivo ini linuxCNC. Directorios adicionales pueden ser antepuestos al orden de búsqueda de gcmc con el elemento GCMC_INCLUDE_PATH.</p></div>
<div class="listingblock">
<div class="title">Muestra de INI basado en GUI Axis.</div>
<div class="content">
<pre><code>[RS274NGC]
...
SUBROUTINE_PATH   = ../../nc_files/ngcgui_lib:../../ngcgui_lib/utilitysubs
USER_M_PATH       = ../../nc_files/ngcgui_lib/mfiles

[DISPLAY]
TKPKG             = Ngcgui    1.0
TKPKG             = Ngcguittt 1.0
# Ngcgui debe preceder a Ngcguittt
NGCGUI_FONT       = Helvetica -12 normal
# especificar solo nombres de archivo, los archivos deben estar en [RS274NGC]SUBROUTINE_PATH
NGCGUI_PREAMBLE   = in_std.ngc
NGCGUI_SUBFILE    = simp.ngc
NGCGUI_SUBFILE    = xyz.ngc
NGCGUI_SUBFILE    = iquad.ngc
NGCGUI_SUBFILE    = db25.ngc
NGCGUI_SUBFILE    = ihex.ngc
NGCGUI_SUBFILE    = gosper.ngc
# especificar "" para una pestaña personalizada
NGCGUI_SUBFILE    = ""
#NGCGUI_SUBFILE   = "" se usa cuando se especifica el marco de imagen si
# se requiere abrir otros archivos
# las imágenes se colocarán en una ventana de nivel superior
NGCGUI_OPTIONS    =

#NGCGUI_OPTIONS = opt1 opt2 …
# opt items:
#   nonew      -- no permitir hacer una nueva pestaña personalizada
#   noremove   -- no permite eliminar ninguna pestaña
#   noauto     -- sin envío automático (makeFile, luego enviar manualmente)
#   noiframe   -- sin imagen interna, imagen en el nivel superior separado
GCMC_INCLUDE_PATH = /home/myname/gcmc_includes

TTT               = truetype-tracer
TTT_PREAMBLE      = in_std.ngc

PROGRAM_PREFIX    = ../../nc_files</code></pre>
</div></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Lo anterior no es un INI Axis completo - los elementos que se muestran son aquellos
utilizado por ngcgui. LinuxCNC requiere muchos elementos adicionales para tener un archivo INI completo.</td>
</tr></table>
</div>
</div>
<div class="sect2">
<h3 id="_truetype_tracer">5.4. Truetype Tracer</h3>
<div class="paragraph"><p>Ngcgui_ttt proporciona soporte para truetype-tracer (v4). Crea una pestaña Axis que permite al usuario crear una nueva página de pestaña ngcgui después de ingresar texto y seleccionar una fuente y otros parámetros. (Truetype-tracer debe estar instalado independientemente).</p></div>
<div class="paragraph"><p>Para incrustar ngcgui_ttt en Axis, especifique los siguientes elementos además de los elementos ngcgui:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Item:    [DISPLAY]TKPKG = Ngcgui_ttt version_number
Example: [DISPLAY]TKPKG = Ngcgui_ttt 1.0
Note:    Obligatorio, especifica la carga de ngcgui_ttt en una página de pestaña de eje llamada ttt.
         Debe seguir el elemento TKPKG = Ngcgui.
Item:    [DISPLAY]TTT = path_to_truetype-tracer
Example: [DISPLAY]TTT = truetype-tracer
Note:    Opcional, si no se especifica, intente usar /usr/local/bin/ truetype-tracer.
         Especifique con ruta absoluta o como un nombre ejecutable simple en cuyo caso el entorno PATH del usuario se usará para encontrar el programa.
Item:    [DISPLAY]TTT_PREAMBLE = preamble_filename
Example: [DISPLAY]TTT_PREAMBLE = in_std.ngc
Note:    Opcional, especifica el nombre de archivo para el preámbulo utilizado para los archivos subttt creados.</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_especificaciones_de_ruta_en_archivo_ini">5.5. Especificaciones de ruta en archivo INI</h3>
<div class="paragraph"><p>Ngcgui usa la ruta de búsqueda de linuxCNC.</p></div>
<div class="paragraph"><p>La ruta de búsqueda comienza con el directorio estándar especificado por:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>[DISPLAY]PROGRAM_PREFIX=nombre_directorio</code></pre>
</div></div>
<div class="paragraph"><p>seguido de múltiples directorios especificados por:
  [RS274NGC]SUBROUTINE_PATH=directorio1_nombre:directorio1_nombre:directorio3_nombre &#8230;</p></div>
<div class="paragraph"><p>Los directorios pueden especificarse como rutas absolutas o relativas.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Ejemplo: [DISPLAY]PROGRAM_PREFIX = /home/myname/linuxcnc/nc_files
Ejemplo: [DISPLAY]PROGRAM_PREFIX = ~/linuxcnc/nc_files
Ejemplo: [DISPLAY]PROGRAM_PREFIX = ../../nc_files</code></pre>
</div></div>
<div class="paragraph"><p>Una ruta absoluta que comienza con "/" especifica una ubicación completa en el sistema de archivos. Una ruta que comienza con u "~/" especifica una ruta que comienza
desde el directorio de usuario. Una ruta que comienza con "~nombre de usuario/"
especifica una ruta que comienza en el directorio de nombre de usuario.</p></div>
<div class="paragraph"><p>Caminos relativos
Las rutas relativas se basan en el directorio de inicio, que es el directorio
que contiene el archivo INI. El uso de rutas relativas puede facilitar la reubicación de configuraciones, pero requiere una buena comprensión de los especificadores de ruta de Linux.</p></div>
<div class="literalblock">
<div class="content">
<pre><code>   ./d0 es lo mismo que d0, esto es, un directorio llamado d0 en el directorio de inicio
   ../d1 se refiere a un directorio d1 en el directorio padre
   ../../d2 se refiere a un directorio d2 en el padre del directorio padre
   ../../../d3 etc.</code></pre>
</div></div>
<div class="paragraph"><p>Se pueden especificar varios directorios con [RS274NGC]SUBROUTINE_PATH
separándolos con dos puntos. El siguiente ejemplo ilustra el formato
para múltiples directorios y muestra el uso de rutas relativas y absolutas.</p></div>
<div class="listingblock">
<div class="title">Ejemplo de directorios múltiples:</div>
<div class="content">
<pre><code>[RS274NGC]SUBROUTINE_PATH = ../../nc_files/ngcgui_lib:../../nc_files/ngcgui_lib/utilitysubs:/tmp/tmpngc`</code></pre>
</div></div>
<div class="paragraph"><p>Esta es una línea larga, no continúa en varias líneas. Cuando linuxCNC y/o
ngcgui busca archivos, se utiliza el primer archivo encontrado en la búsqueda.</p></div>
<div class="paragraph"><p>LinuxCNC (y ngcgui) debe poder encontrar todas las subrutinas, incluidas las rutinas auxiliares que se llaman desde subfiles ngcgui. Es conveniente colocar
las utilidades subs en un directorio separado como se indica en el ejemplo anterior.</p></div>
<div class="paragraph"><p>La distribución incluye el directorio ngcgui_lib y los archivos de demostración para preámbulos, subarchivos, epíñogos y archivos auxiliares. Para modificar el comportamiento de los archivos, puede copiar cualquier archivo y colocarlo en una parte anterior de la ruta de búsqueda El primer directorio buscado es [DISPLAY]PROGRAM_PREFIX. Puede usar este directorio pero es mejor crear uno dedicado y colócarlo al comienzo de [RS274NGC]SUBROUTINE_PATH.</p></div>
<div class="paragraph"><p>En el siguiente ejemplo, los archivos en /home/myname/linuxcnc/mysubs se encontrarán antes que archivos en ../../nc_files/ngcgui_lib.</p></div>
<div class="listingblock">
<div class="title">Ejemplo de adición de directorio de usuarios:</div>
<div class="content">
<pre><code>[RS274NGC]SUBROUTINE_PATH=/home/myname/linuxcnc/mysubs:../../nc_files/ngcgui_lib:../../nc_files/ngcgui_lib/utilitysubs`</code></pre>
</div></div>
<div class="paragraph"><p>Los nuevos usuarios pueden intentar inadvertidamente usar archivos que no están estructurados para ser compatibles con los requisitos de ngcgui. Ngcgui probablemente informará numerosos errores si los archivos no están codificados con las convenciones. Las buenas prácticas sugieren que los subarchivos compatibles con ngcgui deben colocarse en un directorio dedicado a ese propósito y que los archivos de preámbulo, epilogo y auxiliar deben estar en directorio(s separados) para desalentar los intentos de usarlos como subarchivos. Archivos no destinados
para usar como subarchivos puede incluir un comentario especial: "(not_a_subfile)" para que ngcgui los rechace automáticamente con un mensaje relevante.</p></div>
</div>
<div class="sect2">
<h3 id="_resumen_de_los_detalles_de_elementos_del_archivo_ini_para_usar_ngcgui">5.6. Resumen de los detalles de elementos del archivo INI para usar NGCGUI</h3>
<div class="literalblock">
<div class="content">
<pre><code>Elemento: [RS274NGC]SUBROUTINE_PATH = dirname1:dirname2:dirname3 ...
Ejemplo:  [RS274NGC]SUBROUTINE_PATH = ../../nc_files/ngcgui_lib:../../nc_files/ngcgui_lib/utilitysubs
Nota:     opcional, pero muy útil para organizar subarchivos y archivos de utilidad

Elemento: [RS274NGC]USER_M_PATH = dirname1:dirname2:dirname3 ...
Ejemplo:  [RS274NGC]USER_M_PATH = ../../nc_files/ngcgui_lib/mfiles
Nota:     Opcional, necesario para localizar archivos de usuario personalizados


Elemento: [DISPLAY]EMBED_TAB_NAME = nombre para mostrar en la página de pestaña incrustada
Ejemplo:  [DISPLAY]EMBED_TAB_NAME = Pyngcgui
Nota:     Las entradas: EMBED_TAB_NAME, EMBED_TAB_COMMAND, EMBED_TAB_LOCATION
          definen una aplicación integrada para varias guis linuxCNC

Elemento: [DISPLAY]EMBED_TAB_COMMAND = nombre del programa seguido de argumentos
Ejemplo:  [DISPLAY]EMBED_TAB_COMMAND = gladevcp -x {XID} pyngcgui_axis.ui
Nota:     Para aplicaciones gladevcp, vea el &lt;&lt;cha:glade-vcp,Capítulo GladeVCP&gt;&gt;

Elemento: [DISPLAY]EMBED_TAB_LOCATION = nombre_de_ubicación
Ejemplo:  [DISPLAY]EMBED_TAB_LOCATION = notebook_main
Nota:     Vea archivos INI de ejemplo para posibles ubicaciones.
          No requerido para Axis


Elemento: [DISPLAY]PROGRAM_PREFIX = dirname
Ejemplo:  [DISPLAY]PROGRAM_PREFIX = ../../nc_files
Nota:     Obligatorio y necesario para numerosas funciones de linuxCNC
          Es el primer directorio utilizado en la búsqueda de archivos.


elemento: [DISPLAY]TKPKG = Ngcgui número_versión
Ejemplo:  [DISPLAY]TKPKG = Ngcgui 1.0
Nota:     Solo se requiere para la incrustación en Axis, especifica la carga de
          las pestañas de Axis


Elemento: [DISPLAY]NGCGUI_FONT = font_descriptor
Ejemplo:  [DISPLAY]NGCGUI_FONT = Helvetica -12 normal
Nota:     Opcional, font_descriptor es un especificador de fuente compatible
          con tcl con elementos para fonttype -fontsize fontweight
          El valor predeterminado es: Helvetica -10 normal
          Los tamaños de fuente más pequeños pueden ser útiles para pantallas
          pequeñas. Los tamaños de fuente más grandes pueden ser útiles para
          aplicaciones de pantalla táctil

Elemento: [DISPLAY]NGCGUI_SUBFILE = subfile_filename
Ejemplo:  [DISPLAY]NGCGUI_SUBFILE = simp.ngc
Ejemplo:  [DISPLAY]NGCGUI_SUBFILE = square.gcmc
Ejemplo:  [DISPLAY]NGCGUI_SUBFILE = ""
Nota:     Use uno o más elementos para especificar compatible con ngcgui
          subarchivos o programas gcmc que requieren una página de pestañas
          al inicio.
          Se creará una pestaña "Personalizada" cuando el nombre de archivo sea "".
          Un usuario puede usar una pestaña "Personalizada" para explorar el
          sistema de archivos e identificar archivos de preámbulo, subarchivo y
          epílogo.

Elemento: [DISPLAY]NGCGUI_PREAMBLE = preamble_filename
Ejemplo:  [DISPLAY]NGCGUI_PREAMBLE = in_std.ngc
Nota:     Opcional, cuando se especifica, el archivo se antepone a un subarchivo.
          Los archivos creados con pestañas "Personalizadas" usan el preámbulo
          especificado con la pagina

Elemento: [DISPLAY]NGCGUI_POSTAMBLE = postamble_filename
Ejemplo:  [DISPLAY]NGCGUI_POSTAMBLE = bye.ngc
Nota:     Opcional, cuando se especifica, el archivo se agrega a un subarchivo.
          Los archivos creados con pestañas "Personalizadas" usan el postámbulo
          especificado con la pagina

Elemento: [DISPLAY]NGCGUI_OPTIONS = opt1 opt2 ...
Ejemplo:  [DISPLAY]NGCGUI_OPTIONS = nonew noremove
Nota:     las opciones múltiples están separadas por espacios en blanco.
          Por defecto, ngcgui configura páginas de pestañas para que:
            1) un usuario puede hacer nuevas pestañas
            2) un usuario puede eliminar pestañas (excepto la última restante)
            3) los archivos finalizados se envían automáticamente a linuxCNC
            4) un marco de imagen (iframe) está disponible para mostrar
               una imagen para el subarchivo (si se proporciona una imagen)
            5) el archivo de resultados ngcgui enviado a linuxCNC finaliza con
               un m2 (e incurre en efectos secundarios de m2)

         Las opciones nonew, noremove, noauto, noiframe, nom2 respectivamente
         deshabilitan estos comportamientos predeterminados.

         Por defecto, si un archivo de imagen (.png, .gif, jpg, pgm)
         se encuentra en el mismo directorio que el subarchivo, La imagen
         se muestra en el iframe. Especificando la opción noiframe pone a
         disposición botones adicionales para seleccionar un preámbulo, subarchivo
         y epílogo y casillas de verificación adicionales. Selecciones de las
         casillas de verificación siempre están disponibles con teclas especiales:
           Ctrl-R Toggle "Retener valores en la lectura de subarchivo"
           Ctrl-E Alternar "Expandir subrutina"
           Ctrl-a Alternar "Envío automático"
           (Ctrl-k enumera todas las teclas y funciones)

         Si se especifica noiframe y se encuentra un archivo de imagen,
         la imagen se muestra en una ventana separada y todas las funciones están
         disponibles en la página de pestañas.

         Las NGCGUI_OPTIONS se aplican a todas las pestañas ngcgui, excepto que las
         opciones nonew, noremove y noiframe no son aplicables para pestañas
         "Personalizadas". No use pestañas "Personalizadas" si quiere limitar la
         capacidad del usuario para seleccionar subarchivos o crear pestañas
         adicionales.

Elemento: [DISPLAY]GCMC_INCLUDE_PATH = dirname1: dirname2: ...
Ejemplo:  [DISPLAY]GCMC_INCLUDE_PATH =/home/myname/gcmc_includes:/home/myname/gcmc_includes2
Nota:     Opcional, cada directorio se incluirá cuando se invoque gcmc
          usando la opción: --incluir dirname</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_requisitos_de_archivo_para_compatibilidad_ngcgui">6. Requisitos de archivo para compatibilidad NGCGUI</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requisitos_de_subrutina_de_gcode_de_un_solo_archivo_ngc">6.1. Requisitos de subrutina de Gcode de un solo archivo (.ngc)</h3>
<div class="paragraph"><p>Un subfile compatible con NGCGUI contiene una única definición de subrutina. El nombre de la subrutina debe ser el mismo que el nombre del archivo (sin incluir el sufijo .ngc). LinuxCNC admite subrutinas con nombre o numeradas, pero solo las subrutinas con nombre son compatibles con NGCGUI. Para más información ver el
Capítulo <a href="../gcode/o-code_es.html#cha:o-codes">códigos O</a>.</p></div>
<div class="paragraph"><p>La primera línea sin comentarios debe ser una declaración sub.
La última línea sin comentarios debe ser una declaración endsub.</p></div>
<div class="listingblock">
<div class="title">examp.ngc:</div>
<div class="content">
<pre><code>(información: info_text_to_appear_at_top_of_tab_page)
; línea de comentario que comienza con punto y coma
( línea de comentario usando paréntesis)
o&lt;examp&gt; sub
  BODY_OF_SUBROUTINE
o&lt;examp&gt; endsub
; línea de comentario que comienza con punto y coma
( línea de comentario usando paréntesis)</code></pre>
</div></div>
<div class="paragraph"><p>El cuerpo de la subrutina debe comenzar con un conjunto de declaraciones que definen parámetros nombrados locales para cada parámetro posicional esperado para la llamada de subrutina Estas definiciones deben ser consecutivas comenzando con #1 y terminando con el último número de parámetro utilizado. Se deben proporcionar definiciones para cada uno de estos parámetros (sin omisiones).</p></div>
<div class="paragraph"><p>Numeración de parámetros</p></div>
<div class="listingblock">
<div class="content">
<pre><code>#&lt;xparm&gt; = #1
#&lt;yparm&gt; = #2
#&lt;zparm&gt; = #3</code></pre>
</div></div>
<div class="paragraph"><p>LinuxCNC considera que todos los parámetros numerados en el rango #1 al #30 son parámetros de llamada por lo que ngcgui proporciona cuadros de entrada para cualquier ocurrencia de parámetros en este rango. Es una buena práctica evitar el uso de parámetros numerados #1 a #30 en cualquier otro lugar de la subrutina. El uso de parámetros locales con nombre esta recomendado para todas las variables internas.</p></div>
<div class="paragraph"><p>Cada declaración de definición puede incluir opcionalmente un comentario especial y un valor predeterminado para el parámetro.</p></div>
<div class="paragraph"><p>Prototipo de declaración</p></div>
<div class="listingblock">
<div class="content">
<pre><code>#&lt;vname&gt; = #n (=default_value)
o
#&lt;vname&gt; = #n (comentario_texto)
o
#&lt;vname&gt; = #n (=default_value comment_text)</code></pre>
</div></div>
<div class="listingblock">
<div class="title">Ejemplos de parámetros</div>
<div class="content">
<pre><code>#&lt;xparm&gt; = #1 (=0.0)
#&lt;yparm&gt; = #2 (Ystart)
#&lt;zparm&gt; = #3 (=configuración de inicio de Z 0.0)</code></pre>
</div></div>
<div class="paragraph"><p>Si se proporciona un valor predeterminado, se ingresará en el cuadro de entrada
para el parámetro al inicio.</p></div>
<div class="paragraph"><p>Si se incluye comment_text, se usará para identificar la entrada en lugar del nombre del parámetro.</p></div>
<div class="paragraph"><div class="title">Parámetros con nombre global</div><p>Notas sobre parámetros globales con nombre y ngcgui:</p></div>
<div class="paragraph"><p>(los parámetros globales con nombre tienen un guión bajo en el nombre, como
#&lt;_someglobalname&gt;)</p></div>
<div class="paragraph"><p>Como en muchos lenguajes de programación, el uso de globales es poderoso pero a menudo puede conducir a consecuencias inesperadas. En LinuxCNC, los parámetros globales con nombre existentes serán válidos en la ejecución de subrutinas y las subrutinas pueden modificar o crear parámetros cun nombre globales.</p></div>
<div class="paragraph"><p>Se desaconseja pasar información a subrutinas utilizando parámetros con nombre globales dado que dicho uso requiere el establecimiento y mantenimiento de un bien definido contexto global que es difícil de mantener. Usando los parámetros numerados de  #1 a #30 como entradas de subrutina debería ser suficiente para satisfacer una amplia gama de requerimientos de diseño.</p></div>
<div class="paragraph"><p>Si bien no se recomiendan los parámetros con nombre global de entrada, las subrutinas linuxCNC deben usar parámetros globales con nombre para devolver resultados. Los subarchivos ngcgui-compatible están destinados al uso de GUI; los valores de retorno no son un requisito común. Sin embargo, ngcgui es útil como herramienta de prueba para subrutinas que devuelven parámetros con nombre global y es común que los subfiles compatibles con ngcgui llamen archivos de subrutina de utilidad que devuelven resultados con parámetros globales con nombre.</p></div>
<div class="paragraph"><p>Para admitir estos usos, ngcgui ignora los parámetros globales con nombre que incluyen dos puntos (:) en su nombre. El uso de los dos puntos (:) en el nombre evita que ngcgui haga cuadros de entrada para estos parámetros.</p></div>
<div class="listingblock">
<div class="title">Parámetros con nombre global</div>
<div class="content">
<pre><code>o&lt;examp&gt; sub
...
# &lt;_ examp: result&gt; = # 5410 (devuelve el diámetro actual de la herramienta)
...
o&lt;helper&gt; call [#&lt;x1&gt;] [#&lt;x2&gt;] (llamar a una subrutina)
#&lt;xresult&gt; = #&lt;_helper:answer&gt; (localice inmediatamente el resultado global del helper)
#&lt;_helper:answer&gt; = 0.0 (anula el parámetro global con nombre utilizado por la subrutina)
...
o&lt;examp&gt; endsub</code></pre>
</div></div>
<div class="paragraph"><p>En el ejemplo anterior, la subrutina de la utilidad se encontrará en un archivo separado llamado helper.ngc. La rutina auxiliar devuelve un resultado en un
parámetro global con nombre llamado #&lt;_helper:answer&gt;.</p></div>
<div class="paragraph"><p>Para una buena práctica, el subarchivo de llamada localiza inmediatamente el resultado para su uso en otro lugar del subarchivo y el parámetro global con nombre utilizado para devolver resultado se anula en un intento de mitigar su uso involuntario en otros lugares del contexto global. (Un valor de anulación de 0.0 puede no siempre ser buena elección).</p></div>
<div class="paragraph"><p>Ngcgui admite la creación y concatenación de múltiples funciones para un subfile y para múltiples subfiles. A veces es útil para subarchivos determinar su orden en tiempo de ejecución para que ngcgui inserte un parámetro global especial que se puede testear dentro de las subrutinas. El parámetro se llama # &lt;_feature:&gt;.
Su valor comienza con un valor 0 y se incrementa para cada característica agregada.</p></div>
<div class="paragraph"><div class="title">Características adicionales</div><p>Se puede incluir un comentario especial de <em>información</em> en cualquier lugar de un subarchivo ngcgui-compatible. El formato es:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>(info: info_text)</code></pre>
</div></div>
<div class="paragraph"><p>Info_text se muestra cerca de la parte superior de la página de la pestaña ngcgui en Axis.</p></div>
<div class="paragraph"><p>Los archivos que no están destinados a usarse como subarchivos pueden incluir un comentario especial para que ngcgui los rechace automáticamente con un mensaje relevante.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>(not_a_subfile)</code></pre>
</div></div>
<div class="paragraph"><p>Un archivo de imagen opcional (.png, .gif, .jpg, .pgm) puede acompañar a un subarchivo. Los archivos de imagen puede ayudar a aclarar los parámetros utilizados por el subarchivo. El archivo de imagen debe estar en el mismo directorio que el subarchivo y tener el mismo nombre con un sufijo de imagen apropiado, p.ej. el subfile example.ngc podría ir acompañado de un archivo de imagen example.png. Ngcgui intenta cambiar el tamaño de las imágenes grandes submuestreando
a un tamaño con un ancho máximo de 320 x 240 píxeles.</p></div>
<div class="paragraph"><p>Ninguna de las convenciones requeridas para hacer un subfile compatible con ngcgui
excluye su uso como archivo de subrutina de propósito general para LinuxCNC.</p></div>
<div class="paragraph"><p>La distribución LinuxCNC incluye una biblioteca (directorio ngcgui_lib) que
incluye archivos de utilidad y subfiles compatibles con ngcgui de ejemplo
para ilustrar las características de las subrutinas LinuxCNC y el uso de ngcgui.
Otra biblioteca (gcmc_lib) proporciona ejemplos de archivos de subrutina para
el metacompilador Gcode (gcmc)</p></div>
<div class="paragraph"><p>Se pueden encontrar subrutinas adicionales para usuarios en el Foro, en la sección de subrutinas.</p></div>
</div>
<div class="sect2">
<h3 id="_requisitos_del_archivo_gcode_meta_compiler_gcmc">6.2. Requisitos del archivo Gcode-meta-compiler (.gcmc)</h3>
<div class="paragraph"><p>Ngcgui lee los archivos de Gcode-meta-compiler (gcmc) y crea cuadros de entrada para variables etiquetadas en el archivo. Cuando una característica del archivo
finaliza, ngcgui pasa el archivo como entrada al compilador gcmc y, si la compilación es exitosa, el archivo gcode resultante se envía a linuxCNC para su ejecución. El archivo resultante está formateado como subrutina de un solo archivo; Los archivos .gcmc y los archivos .ngc se pueden mezclar en ngcgui.</p></div>
<div class="paragraph"><p>Las variables identificadas para su inclusión en ngcgui están etiquetadas con líneas que parecerán comentarios al compilador gcmc.</p></div>
<div class="paragraph"><p>Ejemplos de formatos de etiquetas variables.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>//ngcgui: varname1 =
//ngcgui: varname2 = value2
//ngcgui: varname3 = value3, label3;</code></pre>
</div></div>
<div class="paragraph"><p>Ejemplos:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>//ngcgui: zsafe =
//ngcgui: feedrate = 10
//ngcgui: xl = 0, x limit</code></pre>
</div></div>
<div class="paragraph"><p>Para estos ejemplos, el cuadro de entrada para varname1 no tendrá un valor predeterminado, el cuadro de entrada para varname2 tendrá un valor predeterminado de value2, y el el cuadro de entrada para varname 3 tendrá un valor predeterminado de 3 y una etiqueta label3 (en lugar de varname3). Los valores predeterminados deben ser números.</p></div>
<div class="paragraph"><p>Para facilitar la modificación de líneas válidas en un archivo gcmc, alterne
formatos de línea de etiqueta aceptados. Los formatos alternativos ignoran los punto y coma finales (;) y marcadores de comentarios finales (//). Con esta disposición, a menudo permite agregar la etiqueta //ngcgui: a líneas existentes en un archivo .gcmc.</p></div>
<div class="listingblock">
<div class="title">Formatos de etiquetas variables alternativas</div>
<div class="content">
<pre><code>//ngcgui: varname2 = value2;
//ngcgui: varname3 = value3; //, etiqueta3;</code></pre>
</div></div>
<div class="paragraph"><p>Ejemplos:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>//ngcgui: feedrate = 10;
//ngcgui: xl = 0; //, límite x</code></pre>
</div></div>
<div class="paragraph"><p>Una línea de información que aparecerá en la parte superior de una pestaña puede ser opcional incluido con una línea etiquetada como:</p></div>
<div class="listingblock">
<div class="title">Etiqueta de información</div>
<div class="content">
<pre><code>//ngcgui: info: text_to_appear_at_top_of_tab_page</code></pre>
</div></div>
<div class="paragraph"><p>Cuando sea necesario, las opciones se pueden pasar al compilador gcmc con una línea etiquetada:</p></div>
<div class="paragraph"><p>Formato de etiqueta de línea de opción</p></div>
<div class="listingblock">
<div class="content">
<pre><code>//ngcgui: -option_name [ [=] option_value]</code></pre>
</div></div>
<div class="paragraph"><p>Ejemplos:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>//ngcgui: -I
//ngcgui: --imperial
//ngcgui: --precisión 5
//ngcgui: --precision = 6</code></pre>
</div></div>
<div class="paragraph"><p>Las opciones para gcmc están disponibles con el comando de terminal:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>gcmc --help</code></pre>
</div></div>
<div class="paragraph"><p>Un programa gcmc por defecto usa el modo métrico. El modo puede establecerse en pulgadas con la opción:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>//ngcgui: --imperial</code></pre>
</div></div>
<div class="paragraph"><p>Un archivo de preámbulo, si se usa, puede establecer un modo (g20 o g21) que
entra en conflicto con el modo utilizado por un archivo gcmc. Para asegurar que
el modo de programa gcmc está en vigor, incluya la siguiente declaración en el archivo .gcmc:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>include ("sure_mode.gcmc")</code></pre>
</div></div>
<div class="paragraph"><p>y proporcione una ruta adecuada para gcmc include_files en el archivo ini,
por ejemplo:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>[DISPLAY]
GCMC_INCLUDE_PATH = ../../nc_files/gcmc_lib</code></pre>
</div></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_db25_ejemplo">7. DB25 Ejemplo</h2>
<div class="sectionbody">
<div class="paragraph"><p>A continuación se muestra la subrutina DB25. En la primera imagen se muestra donde
completar los espacios en blanco para cada variable.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/ngcgui-db25-1.png" alt="images/ngcgui-db25-1.png" />
</div>
</div>
<div class="paragraph"><p>Esta imagen muestra el plot de la subrutina DB25.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/ngcgui-db25-2.png" alt="images/ngcgui-db25-2.png" />
</div>
</div>
<div class="paragraph"><p>Esta imagen muestra el uso del nuevo botón y la pestaña personalizada para crear
tres recortes DB25 en un programa.</p></div>
<div class="imageblock" style="text-align:center;">
<div class="content">
<img src="images/ngcgui-db25-3.png" alt="images/ngcgui-db25-3.png" />
</div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2022-11-24 07:38:35 MST
</div>
</div>
</body>
</html>
