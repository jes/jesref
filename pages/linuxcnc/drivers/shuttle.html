<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.10" />
<title>Shuttle</title>
<link rel="stylesheet" href="..//asciidoc.css" type="text/css" />


<link rel="stylesheet" href="..//linuxcnc.css" type="text/css" />
<script type="text/javascript" src="..//asciidoc.js"></script>
<script type="text/javascript">
/*<![CDATA[*/
asciidoc.install(2);
/*]]>*/
</script>
</head>
<body class="book">
<div id="header">
<h1>Shuttle</h1>
<div id="toc">
  <div id="toctitle">Table of Contents</div>
  <noscript><p><b>JavaScript must be enabled in your browser to display the table of contents.</b></p></noscript>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="cha:shuttle">1. Description</h2>
<div class="sectionbody">
<div class="paragraph"><p>Shuttle is a non-realtime HAL component that interfaces Contour Design’s
ShuttleXpress, ShuttlePRO, and ShuttlePRO2 devices with LinuxCNC’s HAL.</p></div>
<div class="paragraph"><p>If the driver is started without command-line arguments, it will probe
all /dev/hidraw* device files for Shuttle devices, and use all devices
found. If it is started with command-line arguments, it will only
probe the devices specified.</p></div>
<div class="paragraph"><p>The ShuttleXpress has five momentary buttons, a 10 counts/revolution
jog wheel with detents, and a 15-position spring-loaded outer wheel that
returns to center when released.</p></div>
<div class="paragraph"><p>The ShuttlePRO has 13 momentary buttons, a 10 counts/revolution jog
wheel with detents, and a 15-position spring-loaded outer wheel that
returns to center when released.</p></div>
<div class="paragraph"><p>The ShuttlePRO2 has 15 momentary buttons, a 10 counts/revolution jog
wheel with detents, and a 15-position spring-loaded outer wheel that
returns to center when released.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
<div class="paragraph"><p>The Shuttle devices have an internal 8-bit counter for the current
jog-wheel position. The shuttle driver can not know this value until the
Shuttles device sends its first event. When the first event comes into
the driver, the driver uses the device’s reported jog-wheel position
to initialize counts to 0.</p></div>
<div class="paragraph"><p>This means that if the first event is generated by a jog-wheel move,
that first move will be lost.</p></div>
<div class="paragraph"><p>Any user interaction with the Shuttle device will generate an event,
informing the driver of the jog-wheel position. So if you (for example)
push one of the buttons at startup, the jog-wheel will work fine and
notice the first click.</p></div>
</td>
</tr></table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_setup">2. Setup</h2>
<div class="sectionbody">
<div class="paragraph"><p>The shuttle driver needs read permission to the /dev/hidraw*
device files. This can be accomplished by adding a file
/etc/udev/rules.d/99-shuttle.rules, with the following contents:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>SUBSYSTEM=="hidraw", ATTRS{idVendor}=="0b33", ATTRS{idProduct}=="0020", MODE="0444"
SUBSYSTEM=="hidraw", ATTRS{idVendor}=="05f3", ATTRS{idProduct}=="0240", MODE="0444"
SUBSYSTEM=="hidraw", ATTRS{idVendor}=="0b33", ATTRS{idProduct}=="0030", MODE="0444"</code></pre>
</div></div>
<div class="paragraph"><p>The LinuxCNC Debian package installs an appropriate udev file
automatically, but if you are building LinuxCNC from source and are not
using the Debian packaging you&#8217;ll need to install this file by hand.
If you install the file by hand you&#8217;ll need to tell udev to reload its
rules files by running <code>udevadm control --reload-rules</code>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_pins">3. Pins</h2>
<div class="sectionbody">
<div class="paragraph"><p>All HAL pin names are prefixed with <code>shuttle</code> followed by the index
of the device (the order in which the driver found them), for example
"shuttle.0" or "shuttle.2".</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>&lt;Prefix&gt;.button-&lt;ButtonNumber&gt;</em> (bit out)
</dt>
<dd>
<p>
    These pins are True (1) when the button is pressed.
</p>
</dd>
<dt class="hdlist1">
<em>&lt;Prefix&gt;.button-&lt;ButtonNumber&gt;-not</em> (bit out)
</dt>
<dd>
<p>
    These pins have the inverse of the button state, so they&#8217;re True
    (1) when the button is not pressed.
</p>
</dd>
<dt class="hdlist1">
<em>&lt;Prefix&gt;.counts</em> (s32 out)
</dt>
<dd>
<p>
    Accumulated counts from the jog wheel (the inner wheel).
</p>
</dd>
<dt class="hdlist1">
<em>&lt;Prefix&gt;.spring-wheel-s32</em> (s32 out)
</dt>
<dd>
<p>
    The current deflection of the spring-wheel (the outer wheel).
    It’s 0 at rest, and ranges from -7 at the counter-clockwise extreme
    to +7 at the clockwise extreme.
</p>
</dd>
<dt class="hdlist1">
<em>&lt;Prefix&gt;.spring-wheel-f</em> (float out)
</dt>
<dd>
<p>
    The current deflection of the spring-wheel (the outer wheel).
    It’s 0.0 at rest, -1.0 at the counter-clockwise extreme, and +1.0 at
    the clockwise extreme. (The Shuttle devices report the spring-wheel
    position as an integer from -7 to +7, so this pin reports only 15
    discrete values in it’s range.)
</p>
</dd>
</dl></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2022-11-24 07:38:35 MST
</div>
</div>
</body>
</html>
